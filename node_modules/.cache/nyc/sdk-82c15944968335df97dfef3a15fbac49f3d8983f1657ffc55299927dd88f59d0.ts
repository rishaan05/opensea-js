"use strict";function cov_i250qerm0(){var path="/Users/rg/dev/opensea-js/src/sdk.ts";var hash="3860b26b3c9bfdb4b0159a902226fc5c50c0f739";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/rg/dev/opensea-js/src/sdk.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:28}},"2":{start:{line:4,column:21},end:{line:4,column:38}},"3":{start:{line:5,column:21},end:{line:5,column:51}},"4":{start:{line:6,column:20},end:{line:6,column:64}},"5":{start:{line:7,column:17},end:{line:7,column:34}},"6":{start:{line:8,column:14},end:{line:8,column:34}},"7":{start:{line:9,column:20},end:{line:9,column:42}},"8":{start:{line:10,column:26},end:{line:10,column:61}},"9":{start:{line:11,column:16},end:{line:11,column:41}},"10":{start:{line:12,column:16},end:{line:12,column:41}},"11":{start:{line:13,column:20},end:{line:13,column:52}},"12":{start:{line:14,column:16},end:{line:14,column:34}},"13":{start:{line:15,column:16},end:{line:15,column:40}},"14":{start:{line:31,column:8},end:{line:31,column:46}},"15":{start:{line:32,column:8},end:{line:34,column:10}},"16":{start:{line:33,column:12},end:{line:33,column:89}},"17":{start:{line:36,column:8},end:{line:36,column:69}},"18":{start:{line:37,column:8},end:{line:37,column:37}},"19":{start:{line:38,column:8},end:{line:38,column:51}},"20":{start:{line:39,column:8},end:{line:40,column:30}},"21":{start:{line:41,column:8},end:{line:41,column:67}},"22":{start:{line:43,column:8},end:{line:49,column:11}},"23":{start:{line:51,column:8},end:{line:53,column:11}},"24":{start:{line:55,column:8},end:{line:55,column:43}},"25":{start:{line:57,column:8},end:{line:57,column:47}},"26":{start:{line:57,column:42},end:{line:57,column:45}},"27":{start:{line:59,column:8},end:{line:71,column:9}},"28":{start:{line:60,column:32},end:{line:60,column:85}},"29":{start:{line:61,column:12},end:{line:61,column:63}},"30":{start:{line:65,column:12},end:{line:70,column:13}},"31":{start:{line:69,column:16},end:{line:69,column:37}},"32":{start:{line:80,column:8},end:{line:85,column:9}},"33":{start:{line:81,column:12},end:{line:81,column:48}},"34":{start:{line:84,column:12},end:{line:84,column:55}},"35":{start:{line:93,column:8},end:{line:93,column:54}},"36":{start:{line:101,column:8},end:{line:101,column:48}},"37":{start:{line:111,column:8},end:{line:111,column:62}},"38":{start:{line:112,column:22},end:{line:112,column:102}},"39":{start:{line:113,column:8},end:{line:113,column:85}},"40":{start:{line:114,column:29},end:{line:114,column:147}},"41":{start:{line:115,column:8},end:{line:122,column:9}},"42":{start:{line:116,column:32},end:{line:116,column:69}},"43":{start:{line:117,column:12},end:{line:117,column:104}},"44":{start:{line:120,column:12},end:{line:120,column:33}},"45":{start:{line:121,column:12},end:{line:121,column:91}},"46":{start:{line:132,column:8},end:{line:132,column:62}},"47":{start:{line:133,column:23},end:{line:133,column:103}},"48":{start:{line:134,column:8},end:{line:134,column:81}},"49":{start:{line:135,column:29},end:{line:135,column:155}},"50":{start:{line:136,column:8},end:{line:143,column:9}},"51":{start:{line:137,column:32},end:{line:137,column:67}},"52":{start:{line:138,column:12},end:{line:138,column:111}},"53":{start:{line:141,column:12},end:{line:141,column:33}},"54":{start:{line:142,column:12},end:{line:142,column:91}},"55":{start:{line:146,column:29},end:{line:146,column:44}},"56":{start:{line:147,column:8},end:{line:149,column:9}},"57":{start:{line:148,column:12},end:{line:148,column:74}},"58":{start:{line:148,column:60},end:{line:148,column:72}},"59":{start:{line:150,column:42},end:{line:150,column:94}},"60":{start:{line:151,column:34},end:{line:151,column:93}},"61":{start:{line:152,column:37},end:{line:159,column:9}},"62":{start:{line:153,column:12},end:{line:158,column:14}},"63":{start:{line:160,column:35},end:{line:160,column:37}},"64":{start:{line:161,column:8},end:{line:163,column:9}},"65":{start:{line:162,column:12},end:{line:162,column:85}},"66":{start:{line:164,column:8},end:{line:168,column:9}},"67":{start:{line:165,column:12},end:{line:167,column:13}},"68":{start:{line:166,column:16},end:{line:166,column:114}},"69":{start:{line:169,column:8},end:{line:169,column:34}},"70":{start:{line:172,column:8},end:{line:177,column:12}},"71":{start:{line:172,column:41},end:{line:177,column:9}},"72":{start:{line:201,column:8},end:{line:201,column:62}},"73":{start:{line:202,column:24},end:{line:202,column:80}},"74":{start:{line:203,column:40},end:{line:203,column:88}},"75":{start:{line:204,column:30},end:{line:204,column:184}},"76":{start:{line:205,column:27},end:{line:205,column:71}},"77":{start:{line:206,column:38},end:{line:211,column:10}},"78":{start:{line:212,column:8},end:{line:214,column:9}},"79":{start:{line:213,column:12},end:{line:213,column:43}},"80":{start:{line:215,column:38},end:{line:231,column:26}},"81":{start:{line:232,column:22},end:{line:232,column:47}},"82":{start:{line:233,column:8},end:{line:237,column:11}},"83":{start:{line:264,column:8},end:{line:264,column:62}},"84":{start:{line:265,column:24},end:{line:265,column:80}},"85":{start:{line:266,column:32},end:{line:266,column:80}},"86":{start:{line:267,column:8},end:{line:269,column:9}},"87":{start:{line:268,column:12},end:{line:268,column:89}},"88":{start:{line:270,column:40},end:{line:270,column:220}},"89":{start:{line:271,column:27},end:{line:271,column:71}},"90":{start:{line:272,column:38},end:{line:279,column:10}},"91":{start:{line:280,column:8},end:{line:282,column:9}},"92":{start:{line:281,column:12},end:{line:281,column:129}},"93":{start:{line:283,column:8},end:{line:290,column:9}},"94":{start:{line:284,column:12},end:{line:286,column:60}},"95":{start:{line:288,column:13},end:{line:290,column:9}},"96":{start:{line:289,column:12},end:{line:289,column:43}},"97":{start:{line:291,column:38},end:{line:302,column:26}},"98":{start:{line:303,column:22},end:{line:303,column:47}},"99":{start:{line:304,column:8},end:{line:308,column:11}},"100":{start:{line:328,column:8},end:{line:328,column:62}},"101":{start:{line:329,column:27},end:{line:329,column:71}},"102":{start:{line:330,column:33},end:{line:330,column:147}},"103":{start:{line:331,column:21},end:{line:331,column:72}},"104":{start:{line:332,column:43},end:{line:337,column:9}},"105":{start:{line:338,column:30},end:{line:338,column:181}},"106":{start:{line:339,column:38},end:{line:345,column:10}},"107":{start:{line:346,column:35},end:{line:349,column:9}},"108":{start:{line:350,column:24},end:{line:366,column:9}},"109":{start:{line:367,column:38},end:{line:367,column:98}},"110":{start:{line:368,column:22},end:{line:368,column:47}},"111":{start:{line:369,column:8},end:{line:369,column:90}},"112":{start:{line:382,column:8},end:{line:384,column:9}},"113":{start:{line:383,column:12},end:{line:383,column:90}},"114":{start:{line:385,column:29},end:{line:385,column:128}},"115":{start:{line:386,column:29},end:{line:386,column:101}},"116":{start:{line:387,column:24},end:{line:387,column:62}},"117":{start:{line:388,column:28},end:{line:399,column:23}},"118":{start:{line:400,column:35},end:{line:400,column:59}},"119":{start:{line:401,column:8},end:{line:403,column:9}},"120":{start:{line:402,column:12},end:{line:402,column:59}},"121":{start:{line:404,column:8},end:{line:404,column:115}},"122":{start:{line:405,column:8},end:{line:405,column:39}},"123":{start:{line:422,column:8},end:{line:422,column:62}},"124":{start:{line:423,column:32},end:{line:423,column:79}},"125":{start:{line:424,column:8},end:{line:424,column:59}},"126":{start:{line:425,column:26},end:{line:425,column:61}},"127":{start:{line:426,column:21},end:{line:429,column:42}},"128":{start:{line:430,column:24},end:{line:430,column:33}},"129":{start:{line:431,column:29},end:{line:431,column:70}},"130":{start:{line:432,column:8},end:{line:442,column:9}},"131":{start:{line:433,column:27},end:{line:433,column:115}},"132":{start:{line:436,column:30},end:{line:436,column:76}},"133":{start:{line:437,column:12},end:{line:439,column:13}},"134":{start:{line:438,column:16},end:{line:438,column:58}},"135":{start:{line:440,column:30},end:{line:440,column:73}},"136":{start:{line:441,column:12},end:{line:441,column:47}},"137":{start:{line:443,column:33},end:{line:443,column:73}},"138":{start:{line:444,column:8},end:{line:454,column:9}},"139":{start:{line:445,column:12},end:{line:447,column:13}},"140":{start:{line:446,column:16},end:{line:446,column:97}},"141":{start:{line:448,column:12},end:{line:453,column:15}},"142":{start:{line:455,column:24},end:{line:455,column:56}},"143":{start:{line:456,column:38},end:{line:463,column:10}},"144":{start:{line:464,column:28},end:{line:464,column:53}},"145":{start:{line:465,column:32},end:{line:465,column:82}},"146":{start:{line:466,column:8},end:{line:468,column:9}},"147":{start:{line:467,column:12},end:{line:467,column:56}},"148":{start:{line:469,column:8},end:{line:469,column:107}},"149":{start:{line:470,column:8},end:{line:470,column:31}},"150":{start:{line:477,column:43},end:{line:477,column:86}},"151":{start:{line:478,column:8},end:{line:485,column:9}},"152":{start:{line:480,column:16},end:{line:480,column:41}},"153":{start:{line:482,column:16},end:{line:482,column:41}},"154":{start:{line:484,column:16},end:{line:484,column:84}},"155":{start:{line:498,column:24},end:{line:498,column:56}},"156":{start:{line:499,column:28},end:{line:501,column:23}},"157":{start:{line:502,column:8},end:{line:502,column:32}},"158":{start:{line:515,column:8},end:{line:515,column:62}},"159":{start:{line:516,column:8},end:{line:516,column:65}},"160":{start:{line:517,column:8},end:{line:517,column:90}},"161":{start:{line:519,column:32},end:{line:524,column:10}},"162":{start:{line:526,column:8},end:{line:526,column:107}},"163":{start:{line:529,column:43},end:{line:529,column:86}},"164":{start:{line:530,column:8},end:{line:537,column:9}},"165":{start:{line:532,column:16},end:{line:532,column:29}},"166":{start:{line:534,column:16},end:{line:534,column:29}},"167":{start:{line:536,column:16},end:{line:536,column:75}},"168":{start:{line:544,column:24},end:{line:544,column:54}},"169":{start:{line:545,column:21},end:{line:545,column:30}},"170":{start:{line:546,column:24},end:{line:546,column:64}},"171":{start:{line:547,column:8},end:{line:549,column:9}},"172":{start:{line:548,column:12},end:{line:548,column:105}},"173":{start:{line:550,column:8},end:{line:550,column:188}},"174":{start:{line:568,column:8},end:{line:570,column:9}},"175":{start:{line:569,column:12},end:{line:569,column:98}},"176":{start:{line:571,column:8},end:{line:571,column:97}},"177":{start:{line:586,column:8},end:{line:586,column:65}},"178":{start:{line:587,column:24},end:{line:587,column:62}},"179":{start:{line:588,column:8},end:{line:599,column:9}},"180":{start:{line:589,column:28},end:{line:591,column:29}},"181":{start:{line:592,column:12},end:{line:592,column:29}},"182":{start:{line:595,column:12},end:{line:597,column:13}},"183":{start:{line:596,column:16},end:{line:596,column:29}},"184":{start:{line:598,column:12},end:{line:598,column:24}},"185":{start:{line:611,column:8},end:{line:640,column:9}},"186":{start:{line:613,column:33},end:{line:613,column:102}},"187":{start:{line:614,column:16},end:{line:614,column:75}},"188":{start:{line:617,column:16},end:{line:619,column:17}},"189":{start:{line:618,column:20},end:{line:618,column:78}},"190":{start:{line:620,column:33},end:{line:620,column:104}},"191":{start:{line:621,column:16},end:{line:621,column:90}},"192":{start:{line:624,column:16},end:{line:626,column:17}},"193":{start:{line:625,column:20},end:{line:625,column:77}},"194":{start:{line:627,column:33},end:{line:627,column:103}},"195":{start:{line:628,column:16},end:{line:636,column:17}},"196":{start:{line:629,column:34},end:{line:629,column:82}},"197":{start:{line:630,column:20},end:{line:630,column:87}},"198":{start:{line:634,column:20},end:{line:634,column:91}},"199":{start:{line:635,column:20},end:{line:635,column:30}},"200":{start:{line:639,column:16},end:{line:639,column:77}},"201":{start:{line:652,column:8},end:{line:652,column:59}},"202":{start:{line:653,column:8},end:{line:653,column:56}},"203":{start:{line:655,column:8},end:{line:685,column:9}},"204":{start:{line:657,column:16},end:{line:659,column:17}},"205":{start:{line:658,column:20},end:{line:658,column:73}},"206":{start:{line:660,column:33},end:{line:660,column:111}},"207":{start:{line:661,column:16},end:{line:661,column:78}},"208":{start:{line:662,column:16},end:{line:662,column:22}},"209":{start:{line:665,column:16},end:{line:667,column:17}},"210":{start:{line:666,column:20},end:{line:666,column:76}},"211":{start:{line:668,column:16},end:{line:670,column:17}},"212":{start:{line:669,column:20},end:{line:669,column:75}},"213":{start:{line:671,column:33},end:{line:671,column:113}},"214":{start:{line:672,column:16},end:{line:672,column:118}},"215":{start:{line:673,column:16},end:{line:673,column:22}},"216":{start:{line:676,column:16},end:{line:678,column:17}},"217":{start:{line:677,column:20},end:{line:677,column:75}},"218":{start:{line:679,column:33},end:{line:679,column:112}},"219":{start:{line:680,column:16},end:{line:680,column:102}},"220":{start:{line:681,column:16},end:{line:681,column:22}},"221":{start:{line:684,column:16},end:{line:684,column:75}},"222":{start:{line:686,column:8},end:{line:696,column:9}},"223":{start:{line:687,column:40},end:{line:687,column:57}},"224":{start:{line:688,column:12},end:{line:688,column:119}},"225":{start:{line:691,column:12},end:{line:691,column:33}},"226":{start:{line:692,column:12},end:{line:695,column:15}},"227":{start:{line:709,column:8},end:{line:709,column:67}},"228":{start:{line:710,column:8},end:{line:710,column:65}},"229":{start:{line:711,column:8},end:{line:714,column:11}},"230":{start:{line:715,column:24},end:{line:715,column:62}},"231":{start:{line:716,column:28},end:{line:718,column:23}},"232":{start:{line:719,column:8},end:{line:719,column:108}},"233":{start:{line:720,column:8},end:{line:720,column:32}},"234":{start:{line:731,column:8},end:{line:731,column:50}},"235":{start:{line:732,column:24},end:{line:732,column:68}},"236":{start:{line:733,column:23},end:{line:733,column:25}},"237":{start:{line:734,column:8},end:{line:743,column:9}},"238":{start:{line:735,column:12},end:{line:742,column:13}},"239":{start:{line:736,column:16},end:{line:736,column:74}},"240":{start:{line:739,column:37},end:{line:739,column:81}},"241":{start:{line:740,column:16},end:{line:740,column:87}},"242":{start:{line:741,column:16},end:{line:741,column:49}},"243":{start:{line:744,column:31},end:{line:744,column:91}},"244":{start:{line:745,column:29},end:{line:747,column:23}},"245":{start:{line:748,column:29},end:{line:748,column:92}},"246":{start:{line:749,column:26},end:{line:749,column:40}},"247":{start:{line:750,column:25},end:{line:750,column:37}},"248":{start:{line:752,column:8},end:{line:754,column:9}},"249":{start:{line:753,column:12},end:{line:753,column:68}},"250":{start:{line:755,column:8},end:{line:757,column:9}},"251":{start:{line:756,column:12},end:{line:756,column:79}},"252":{start:{line:758,column:8},end:{line:760,column:9}},"253":{start:{line:759,column:12},end:{line:759,column:88}},"254":{start:{line:761,column:8},end:{line:763,column:9}},"255":{start:{line:762,column:12},end:{line:762,column:90}},"256":{start:{line:764,column:8},end:{line:764,column:39}},"257":{start:{line:767,column:8},end:{line:767,column:40}},"258":{start:{line:771,column:34},end:{line:771,column:36}},"259":{start:{line:772,column:8},end:{line:781,column:9}},"260":{start:{line:773,column:12},end:{line:773,column:67}},"261":{start:{line:775,column:13},end:{line:781,column:9}},"262":{start:{line:776,column:30},end:{line:776,column:103}},"263":{start:{line:776,column:90},end:{line:776,column:102}},"264":{start:{line:777,column:12},end:{line:777,column:49}},"265":{start:{line:779,column:13},end:{line:781,column:9}},"266":{start:{line:780,column:12},end:{line:780,column:78}},"267":{start:{line:782,column:8},end:{line:782,column:33}},"268":{start:{line:789,column:42},end:{line:789,column:84}},"269":{start:{line:790,column:34},end:{line:790,column:68}},"270":{start:{line:791,column:8},end:{line:793,column:9}},"271":{start:{line:792,column:12},end:{line:792,column:19}},"272":{start:{line:794,column:8},end:{line:794,column:219}},"273":{start:{line:803,column:37},end:{line:803,column:63}},"274":{start:{line:804,column:8},end:{line:804,column:59}},"275":{start:{line:805,column:8},end:{line:818,column:9}},"276":{start:{line:806,column:12},end:{line:806,column:87}},"277":{start:{line:807,column:12},end:{line:807,column:68}},"278":{start:{line:808,column:12},end:{line:808,column:65}},"279":{start:{line:809,column:12},end:{line:809,column:89}},"280":{start:{line:812,column:12},end:{line:812,column:62}},"281":{start:{line:813,column:12},end:{line:816,column:15}},"282":{start:{line:817,column:12},end:{line:817,column:24}},"283":{start:{line:821,column:0},end:{line:821,column:32}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:29,column:4},end:{line:29,column:5}},loc:{start:{line:29,column:58},end:{line:72,column:5}},line:29},"1":{name:"(anonymous_1)",decl:{start:{line:32,column:47},end:{line:32,column:48}},loc:{start:{line:32,column:72},end:{line:34,column:9}},line:32},"2":{name:"(anonymous_2)",decl:{start:{line:57,column:33},end:{line:57,column:34}},loc:{start:{line:57,column:42},end:{line:57,column:45}},line:57},"3":{name:"(anonymous_3)",decl:{start:{line:79,column:4},end:{line:79,column:5}},loc:{start:{line:79,column:47},end:{line:86,column:5}},line:79},"4":{name:"(anonymous_4)",decl:{start:{line:92,column:4},end:{line:92,column:5}},loc:{start:{line:92,column:36},end:{line:94,column:5}},line:92},"5":{name:"(anonymous_5)",decl:{start:{line:100,column:4},end:{line:100,column:5}},loc:{start:{line:100,column:30},end:{line:102,column:5}},line:100},"6":{name:"(anonymous_6)",decl:{start:{line:110,column:4},end:{line:110,column:5}},loc:{start:{line:110,column:52},end:{line:123,column:5}},line:110},"7":{name:"(anonymous_7)",decl:{start:{line:131,column:4},end:{line:131,column:5}},loc:{start:{line:131,column:55},end:{line:144,column:5}},line:131},"8":{name:"(anonymous_8)",decl:{start:{line:145,column:4},end:{line:145,column:5}},loc:{start:{line:145,column:116},end:{line:170,column:5}},line:145},"9":{name:"(anonymous_9)",decl:{start:{line:148,column:51},end:{line:148,column:52}},loc:{start:{line:148,column:60},end:{line:148,column:72}},line:148},"10":{name:"(anonymous_10)",decl:{start:{line:152,column:37},end:{line:152,column:38}},loc:{start:{line:152,column:65},end:{line:159,column:9}},line:152},"11":{name:"(anonymous_11)",decl:{start:{line:171,column:4},end:{line:171,column:5}},loc:{start:{line:171,column:39},end:{line:178,column:5}},line:171},"12":{name:"(anonymous_12)",decl:{start:{line:172,column:24},end:{line:172,column:25}},loc:{start:{line:172,column:41},end:{line:177,column:9}},line:172},"13":{name:"(anonymous_13)",decl:{start:{line:200,column:4},end:{line:200,column:5}},loc:{start:{line:200,column:234},end:{line:238,column:5}},line:200},"14":{name:"(anonymous_14)",decl:{start:{line:263,column:4},end:{line:263,column:5}},loc:{start:{line:263,column:279},end:{line:309,column:5}},line:263},"15":{name:"(anonymous_15)",decl:{start:{line:327,column:4},end:{line:327,column:5}},loc:{start:{line:327,column:270},end:{line:370,column:5}},line:327},"16":{name:"(anonymous_16)",decl:{start:{line:381,column:4},end:{line:381,column:5}},loc:{start:{line:381,column:77},end:{line:406,column:5}},line:381},"17":{name:"(anonymous_17)",decl:{start:{line:421,column:4},end:{line:421,column:5}},loc:{start:{line:421,column:88},end:{line:471,column:5}},line:421},"18":{name:"(anonymous_18)",decl:{start:{line:476,column:4},end:{line:476,column:5}},loc:{start:{line:476,column:32},end:{line:486,column:5}},line:476},"19":{name:"(anonymous_19)",decl:{start:{line:497,column:4},end:{line:497,column:5}},loc:{start:{line:497,column:138},end:{line:503,column:5}},line:497},"20":{name:"(anonymous_20)",decl:{start:{line:514,column:4},end:{line:514,column:5}},loc:{start:{line:514,column:58},end:{line:527,column:5}},line:514},"21":{name:"(anonymous_21)",decl:{start:{line:528,column:4},end:{line:528,column:5}},loc:{start:{line:528,column:40},end:{line:538,column:5}},line:528},"22":{name:"(anonymous_22)",decl:{start:{line:543,column:4},end:{line:543,column:5}},loc:{start:{line:543,column:66},end:{line:551,column:5}},line:543},"23":{name:"(anonymous_23)",decl:{start:{line:567,column:4},end:{line:567,column:5}},loc:{start:{line:567,column:131},end:{line:572,column:5}},line:567},"24":{name:"(anonymous_24)",decl:{start:{line:585,column:4},end:{line:585,column:5}},loc:{start:{line:585,column:57},end:{line:600,column:5}},line:585},"25":{name:"(anonymous_25)",decl:{start:{line:610,column:4},end:{line:610,column:5}},loc:{start:{line:610,column:49},end:{line:641,column:5}},line:610},"26":{name:"(anonymous_26)",decl:{start:{line:651,column:4},end:{line:651,column:5}},loc:{start:{line:651,column:74},end:{line:697,column:5}},line:651},"27":{name:"(anonymous_27)",decl:{start:{line:708,column:4},end:{line:708,column:5}},loc:{start:{line:708,column:38},end:{line:721,column:5}},line:708},"28":{name:"(anonymous_28)",decl:{start:{line:730,column:4},end:{line:730,column:5}},loc:{start:{line:730,column:95},end:{line:765,column:5}},line:730},"29":{name:"(anonymous_29)",decl:{start:{line:766,column:4},end:{line:766,column:5}},loc:{start:{line:766,column:27},end:{line:768,column:5}},line:766},"30":{name:"(anonymous_30)",decl:{start:{line:770,column:4},end:{line:770,column:5}},loc:{start:{line:770,column:34},end:{line:783,column:5}},line:770},"31":{name:"(anonymous_31)",decl:{start:{line:776,column:80},end:{line:776,column:81}},loc:{start:{line:776,column:90},end:{line:776,column:102}},line:776},"32":{name:"(anonymous_32)",decl:{start:{line:788,column:4},end:{line:788,column:5}},loc:{start:{line:788,column:53},end:{line:795,column:5}},line:788},"33":{name:"(anonymous_33)",decl:{start:{line:802,column:4},end:{line:802,column:5}},loc:{start:{line:802,column:67},end:{line:819,column:5}},line:802}},branchMap:{"0":{loc:{start:{line:29,column:34},end:{line:29,column:48}},type:"default-arg",locations:[{start:{line:29,column:46},end:{line:29,column:48}}],line:29},"1":{loc:{start:{line:36,column:8},end:{line:36,column:68}},type:"binary-expr",locations:[{start:{line:36,column:8},end:{line:36,column:23}},{start:{line:36,column:28},end:{line:36,column:67}}],line:36},"2":{loc:{start:{line:39,column:25},end:{line:40,column:28}},type:"binary-expr",locations:[{start:{line:39,column:25},end:{line:39,column:50}},{start:{line:40,column:12},end:{line:40,column:28}}],line:39},"3":{loc:{start:{line:41,column:33},end:{line:41,column:66}},type:"binary-expr",locations:[{start:{line:41,column:33},end:{line:41,column:49}},{start:{line:41,column:53},end:{line:41,column:66}}],line:41},"4":{loc:{start:{line:57,column:22},end:{line:57,column:46}},type:"binary-expr",locations:[{start:{line:57,column:22},end:{line:57,column:28}},{start:{line:57,column:33},end:{line:57,column:45}}],line:57},"5":{loc:{start:{line:65,column:12},end:{line:70,column:13}},type:"if",locations:[{start:{line:65,column:12},end:{line:70,column:13}},{start:{line:68,column:17},end:{line:70,column:13}}],line:65},"6":{loc:{start:{line:79,column:33},end:{line:79,column:45}},type:"default-arg",locations:[{start:{line:79,column:40},end:{line:79,column:45}}],line:79},"7":{loc:{start:{line:80,column:8},end:{line:85,column:9}},type:"if",locations:[{start:{line:80,column:8},end:{line:85,column:9}},{start:{line:83,column:13},end:{line:85,column:9}}],line:80},"8":{loc:{start:{line:147,column:8},end:{line:149,column:9}},type:"if",locations:[{start:{line:147,column:8},end:{line:149,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:147},"9":{loc:{start:{line:156,column:64},end:{line:156,column:88}},type:"binary-expr",locations:[{start:{line:156,column:64},end:{line:156,column:73}},{start:{line:156,column:77},end:{line:156,column:88}}],line:156},"10":{loc:{start:{line:161,column:8},end:{line:163,column:9}},type:"if",locations:[{start:{line:161,column:8},end:{line:163,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:161},"11":{loc:{start:{line:164,column:8},end:{line:168,column:9}},type:"if",locations:[{start:{line:164,column:8},end:{line:168,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:164},"12":{loc:{start:{line:171,column:22},end:{line:171,column:37}},type:"default-arg",locations:[{start:{line:171,column:35},end:{line:171,column:37}}],line:171},"13":{loc:{start:{line:175,column:24},end:{line:175,column:51}},type:"binary-expr",locations:[{start:{line:175,column:24},end:{line:175,column:38}},{start:{line:175,column:42},end:{line:175,column:51}}],line:175},"14":{loc:{start:{line:176,column:20},end:{line:176,column:55}},type:"binary-expr",locations:[{start:{line:176,column:20},end:{line:176,column:48}},{start:{line:176,column:52},end:{line:176,column:55}}],line:176},"15":{loc:{start:{line:200,column:60},end:{line:200,column:72}},type:"default-arg",locations:[{start:{line:200,column:71},end:{line:200,column:72}}],line:200},"16":{loc:{start:{line:200,column:104},end:{line:200,column:165}},type:"default-arg",locations:[{start:{line:200,column:126},end:{line:200,column:165}}],line:200},"17":{loc:{start:{line:200,column:167},end:{line:200,column:200}},type:"default-arg",locations:[{start:{line:200,column:196},end:{line:200,column:200}}],line:200},"18":{loc:{start:{line:200,column:202},end:{line:200,column:229}},type:"default-arg",locations:[{start:{line:200,column:209},end:{line:200,column:229}}],line:200},"19":{loc:{start:{line:203,column:72},end:{line:203,column:85}},type:"binary-expr",locations:[{start:{line:203,column:72},end:{line:203,column:80}},{start:{line:203,column:84},end:{line:203,column:85}}],line:203},"20":{loc:{start:{line:204,column:107},end:{line:204,column:170}},type:"binary-expr",locations:[{start:{line:204,column:107},end:{line:204,column:121}},{start:{line:204,column:125},end:{line:204,column:170}}],line:204},"21":{loc:{start:{line:212,column:8},end:{line:214,column:9}},type:"if",locations:[{start:{line:212,column:8},end:{line:214,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:212},"22":{loc:{start:{line:223,column:21},end:{line:225,column:74}},type:"cond-expr",locations:[{start:{line:224,column:18},end:{line:224,column:51}},{start:{line:225,column:18},end:{line:225,column:74}}],line:223},"23":{loc:{start:{line:228,column:25},end:{line:228,column:34}},type:"binary-expr",locations:[{start:{line:228,column:25},end:{line:228,column:29}},{start:{line:228,column:33},end:{line:228,column:34}}],line:228},"24":{loc:{start:{line:263,column:73},end:{line:263,column:85}},type:"default-arg",locations:[{start:{line:263,column:84},end:{line:263,column:85}}],line:263},"25":{loc:{start:{line:263,column:130},end:{line:263,column:179}},type:"default-arg",locations:[{start:{line:263,column:152},end:{line:263,column:179}}],line:263},"26":{loc:{start:{line:263,column:211},end:{line:263,column:245}},type:"default-arg",locations:[{start:{line:263,column:240},end:{line:263,column:245}}],line:263},"27":{loc:{start:{line:263,column:247},end:{line:263,column:274}},type:"default-arg",locations:[{start:{line:263,column:254},end:{line:263,column:274}}],line:263},"28":{loc:{start:{line:266,column:64},end:{line:266,column:77}},type:"binary-expr",locations:[{start:{line:266,column:64},end:{line:266,column:72}},{start:{line:266,column:76},end:{line:266,column:77}}],line:266},"29":{loc:{start:{line:267,column:8},end:{line:269,column:9}},type:"if",locations:[{start:{line:267,column:8},end:{line:269,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:267},"30":{loc:{start:{line:267,column:12},end:{line:267,column:80}},type:"binary-expr",locations:[{start:{line:267,column:12},end:{line:267,column:26}},{start:{line:267,column:30},end:{line:267,column:80}}],line:267},"31":{loc:{start:{line:270,column:119},end:{line:270,column:182}},type:"binary-expr",locations:[{start:{line:270,column:119},end:{line:270,column:133}},{start:{line:270,column:137},end:{line:270,column:182}}],line:270},"32":{loc:{start:{line:270,column:197},end:{line:270,column:219}},type:"binary-expr",locations:[{start:{line:270,column:197},end:{line:270,column:206}},{start:{line:270,column:210},end:{line:270,column:219}}],line:270},"33":{loc:{start:{line:280,column:8},end:{line:282,column:9}},type:"if",locations:[{start:{line:280,column:8},end:{line:282,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:280},"34":{loc:{start:{line:283,column:8},end:{line:290,column:9}},type:"if",locations:[{start:{line:283,column:8},end:{line:290,column:9}},{start:{line:288,column:13},end:{line:290,column:9}}],line:283},"35":{loc:{start:{line:284,column:19},end:{line:286,column:59}},type:"cond-expr",locations:[{start:{line:285,column:18},end:{line:285,column:59}},{start:{line:286,column:18},end:{line:286,column:59}}],line:284},"36":{loc:{start:{line:288,column:13},end:{line:290,column:9}},type:"if",locations:[{start:{line:288,column:13},end:{line:290,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:288},"37":{loc:{start:{line:295,column:21},end:{line:296,column:72}},type:"binary-expr",locations:[{start:{line:295,column:21},end:{line:295,column:47}},{start:{line:296,column:16},end:{line:296,column:72}}],line:295},"38":{loc:{start:{line:299,column:25},end:{line:299,column:34}},type:"binary-expr",locations:[{start:{line:299,column:25},end:{line:299,column:29}},{start:{line:299,column:33},end:{line:299,column:34}}],line:299},"39":{loc:{start:{line:301,column:31},end:{line:301,column:60}},type:"cond-expr",locations:[{start:{line:301,column:48},end:{line:301,column:53}},{start:{line:301,column:56},end:{line:301,column:60}}],line:301},"40":{loc:{start:{line:327,column:114},end:{line:327,column:175}},type:"default-arg",locations:[{start:{line:327,column:136},end:{line:327,column:175}}],line:327},"41":{loc:{start:{line:327,column:177},end:{line:327,column:211}},type:"default-arg",locations:[{start:{line:327,column:206},end:{line:327,column:211}}],line:327},"42":{loc:{start:{line:327,column:213},end:{line:327,column:242}},type:"default-arg",locations:[{start:{line:327,column:238},end:{line:327,column:242}}],line:327},"43":{loc:{start:{line:338,column:109},end:{line:338,column:172}},type:"binary-expr",locations:[{start:{line:338,column:109},end:{line:338,column:123}},{start:{line:338,column:127},end:{line:338,column:172}}],line:338},"44":{loc:{start:{line:359,column:21},end:{line:360,column:72}},type:"binary-expr",locations:[{start:{line:359,column:21},end:{line:359,column:47}},{start:{line:360,column:16},end:{line:360,column:72}}],line:359},"45":{loc:{start:{line:363,column:25},end:{line:363,column:34}},type:"binary-expr",locations:[{start:{line:363,column:25},end:{line:363,column:29}},{start:{line:363,column:33},end:{line:363,column:34}}],line:363},"46":{loc:{start:{line:382,column:8},end:{line:384,column:9}},type:"if",locations:[{start:{line:382,column:8},end:{line:384,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:382},"47":{loc:{start:{line:401,column:8},end:{line:403,column:9}},type:"if",locations:[{start:{line:401,column:8},end:{line:403,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:401},"48":{loc:{start:{line:423,column:32},end:{line:423,column:79}},type:"binary-expr",locations:[{start:{line:423,column:32},end:{line:423,column:53}},{start:{line:423,column:57},end:{line:423,column:79}}],line:423},"49":{loc:{start:{line:425,column:26},end:{line:425,column:61}},type:"binary-expr",locations:[{start:{line:425,column:26},end:{line:425,column:41}},{start:{line:425,column:45},end:{line:425,column:61}}],line:425},"50":{loc:{start:{line:426,column:21},end:{line:429,column:42}},type:"binary-expr",locations:[{start:{line:426,column:21},end:{line:426,column:31}},{start:{line:427,column:13},end:{line:429,column:41}}],line:426},"51":{loc:{start:{line:427,column:13},end:{line:429,column:41}},type:"cond-expr",locations:[{start:{line:428,column:18},end:{line:428,column:43}},{start:{line:429,column:18},end:{line:429,column:41}}],line:427},"52":{loc:{start:{line:431,column:29},end:{line:431,column:70}},type:"binary-expr",locations:[{start:{line:431,column:29},end:{line:431,column:47}},{start:{line:431,column:51},end:{line:431,column:70}}],line:431},"53":{loc:{start:{line:432,column:8},end:{line:442,column:9}},type:"if",locations:[{start:{line:432,column:8},end:{line:442,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:432},"54":{loc:{start:{line:437,column:12},end:{line:439,column:13}},type:"if",locations:[{start:{line:437,column:12},end:{line:439,column:13}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:437},"55":{loc:{start:{line:437,column:16},end:{line:437,column:75}},type:"binary-expr",locations:[{start:{line:437,column:16},end:{line:437,column:37}},{start:{line:437,column:41},end:{line:437,column:75}}],line:437},"56":{loc:{start:{line:443,column:33},end:{line:443,column:73}},type:"cond-expr",locations:[{start:{line:443,column:52},end:{line:443,column:65}},{start:{line:443,column:68},end:{line:443,column:73}}],line:443},"57":{loc:{start:{line:444,column:8},end:{line:454,column:9}},type:"if",locations:[{start:{line:444,column:8},end:{line:454,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:444},"58":{loc:{start:{line:445,column:12},end:{line:447,column:13}},type:"if",locations:[{start:{line:445,column:12},end:{line:447,column:13}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:445},"59":{loc:{start:{line:466,column:8},end:{line:468,column:9}},type:"if",locations:[{start:{line:466,column:8},end:{line:468,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:466},"60":{loc:{start:{line:478,column:8},end:{line:485,column:9}},type:"switch",locations:[{start:{line:479,column:12},end:{line:480,column:41}},{start:{line:481,column:12},end:{line:482,column:41}},{start:{line:483,column:12},end:{line:484,column:84}}],line:478},"61":{loc:{start:{line:497,column:64},end:{line:497,column:122}},type:"default-arg",locations:[{start:{line:497,column:82},end:{line:497,column:122}}],line:497},"62":{loc:{start:{line:530,column:8},end:{line:537,column:9}},type:"switch",locations:[{start:{line:531,column:12},end:{line:532,column:29}},{start:{line:533,column:12},end:{line:534,column:29}},{start:{line:535,column:12},end:{line:536,column:75}}],line:530},"63":{loc:{start:{line:547,column:8},end:{line:549,column:9}},type:"if",locations:[{start:{line:547,column:8},end:{line:549,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:547},"64":{loc:{start:{line:567,column:58},end:{line:567,column:76}},type:"default-arg",locations:[{start:{line:567,column:66},end:{line:567,column:76}}],line:567},"65":{loc:{start:{line:568,column:8},end:{line:570,column:9}},type:"if",locations:[{start:{line:568,column:8},end:{line:570,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:568},"66":{loc:{start:{line:595,column:12},end:{line:597,column:13}},type:"if",locations:[{start:{line:595,column:12},end:{line:597,column:13}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:595},"67":{loc:{start:{line:595,column:16},end:{line:595,column:83}},type:"binary-expr",locations:[{start:{line:595,column:16},end:{line:595,column:48}},{start:{line:595,column:52},end:{line:595,column:83}}],line:595},"68":{loc:{start:{line:611,column:8},end:{line:640,column:9}},type:"switch",locations:[{start:{line:612,column:12},end:{line:615,column:13}},{start:{line:616,column:12},end:{line:622,column:13}},{start:{line:623,column:12},end:{line:637,column:13}},{start:{line:638,column:12},end:{line:639,column:77}}],line:611},"69":{loc:{start:{line:617,column:16},end:{line:619,column:17}},type:"if",locations:[{start:{line:617,column:16},end:{line:619,column:17}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:617},"70":{loc:{start:{line:617,column:20},end:{line:617,column:73}},type:"binary-expr",locations:[{start:{line:617,column:20},end:{line:617,column:47}},{start:{line:617,column:51},end:{line:617,column:73}}],line:617},"71":{loc:{start:{line:624,column:16},end:{line:626,column:17}},type:"if",locations:[{start:{line:624,column:16},end:{line:626,column:17}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:624},"72":{loc:{start:{line:624,column:20},end:{line:624,column:73}},type:"binary-expr",locations:[{start:{line:624,column:20},end:{line:624,column:47}},{start:{line:624,column:51},end:{line:624,column:73}}],line:624},"73":{loc:{start:{line:634,column:65},end:{line:634,column:87}},type:"binary-expr",locations:[{start:{line:634,column:65},end:{line:634,column:78}},{start:{line:634,column:82},end:{line:634,column:87}}],line:634},"74":{loc:{start:{line:655,column:8},end:{line:685,column:9}},type:"switch",locations:[{start:{line:656,column:12},end:{line:663,column:13}},{start:{line:664,column:12},end:{line:674,column:13}},{start:{line:675,column:12},end:{line:682,column:13}},{start:{line:683,column:12},end:{line:684,column:75}}],line:655},"75":{loc:{start:{line:657,column:16},end:{line:659,column:17}},type:"if",locations:[{start:{line:657,column:16},end:{line:659,column:17}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:657},"76":{loc:{start:{line:665,column:16},end:{line:667,column:17}},type:"if",locations:[{start:{line:665,column:16},end:{line:667,column:17}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:665},"77":{loc:{start:{line:665,column:20},end:{line:665,column:73}},type:"binary-expr",locations:[{start:{line:665,column:20},end:{line:665,column:47}},{start:{line:665,column:51},end:{line:665,column:73}}],line:665},"78":{loc:{start:{line:668,column:16},end:{line:670,column:17}},type:"if",locations:[{start:{line:668,column:16},end:{line:670,column:17}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:668},"79":{loc:{start:{line:676,column:16},end:{line:678,column:17}},type:"if",locations:[{start:{line:676,column:16},end:{line:678,column:17}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:676},"80":{loc:{start:{line:676,column:20},end:{line:676,column:73}},type:"binary-expr",locations:[{start:{line:676,column:20},end:{line:676,column:47}},{start:{line:676,column:51},end:{line:676,column:73}}],line:676},"81":{loc:{start:{line:734,column:8},end:{line:743,column:9}},type:"if",locations:[{start:{line:734,column:8},end:{line:743,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:734},"82":{loc:{start:{line:735,column:12},end:{line:742,column:13}},type:"if",locations:[{start:{line:735,column:12},end:{line:742,column:13}},{start:{line:738,column:17},end:{line:742,column:13}}],line:735},"83":{loc:{start:{line:745,column:29},end:{line:747,column:23}},type:"cond-expr",locations:[{start:{line:746,column:14},end:{line:746,column:72}},{start:{line:747,column:14},end:{line:747,column:23}}],line:745},"84":{loc:{start:{line:748,column:29},end:{line:748,column:92}},type:"cond-expr",locations:[{start:{line:748,column:58},end:{line:748,column:87}},{start:{line:748,column:90},end:{line:748,column:92}}],line:748},"85":{loc:{start:{line:752,column:8},end:{line:754,column:9}},type:"if",locations:[{start:{line:752,column:8},end:{line:754,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:752},"86":{loc:{start:{line:752,column:12},end:{line:752,column:53}},type:"binary-expr",locations:[{start:{line:752,column:12},end:{line:752,column:31}},{start:{line:752,column:35},end:{line:752,column:53}}],line:752},"87":{loc:{start:{line:755,column:8},end:{line:757,column:9}},type:"if",locations:[{start:{line:755,column:8},end:{line:757,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:755},"88":{loc:{start:{line:755,column:12},end:{line:755,column:60}},type:"binary-expr",locations:[{start:{line:755,column:12},end:{line:755,column:19}},{start:{line:755,column:23},end:{line:755,column:60}}],line:755},"89":{loc:{start:{line:758,column:8},end:{line:760,column:9}},type:"if",locations:[{start:{line:758,column:8},end:{line:760,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:758},"90":{loc:{start:{line:761,column:8},end:{line:763,column:9}},type:"if",locations:[{start:{line:761,column:8},end:{line:763,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:761},"91":{loc:{start:{line:761,column:12},end:{line:761,column:61}},type:"binary-expr",locations:[{start:{line:761,column:12},end:{line:761,column:28}},{start:{line:761,column:32},end:{line:761,column:61}}],line:761},"92":{loc:{start:{line:772,column:8},end:{line:781,column:9}},type:"if",locations:[{start:{line:772,column:8},end:{line:781,column:9}},{start:{line:775,column:13},end:{line:781,column:9}}],line:772},"93":{loc:{start:{line:775,column:13},end:{line:781,column:9}},type:"if",locations:[{start:{line:775,column:13},end:{line:781,column:9}},{start:{line:779,column:13},end:{line:781,column:9}}],line:775},"94":{loc:{start:{line:779,column:13},end:{line:781,column:9}},type:"if",locations:[{start:{line:779,column:13},end:{line:781,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:779},"95":{loc:{start:{line:791,column:8},end:{line:793,column:9}},type:"if",locations:[{start:{line:791,column:8},end:{line:793,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:791},"96":{loc:{start:{line:794,column:147},end:{line:794,column:215}},type:"cond-expr",locations:[{start:{line:794,column:178},end:{line:794,column:206}},{start:{line:794,column:209},end:{line:794,column:215}}],line:794}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0,"278":0,"279":0,"280":0,"281":0,"282":0,"283":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0},b:{"0":[0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0],"13":[0,0],"14":[0,0],"15":[0],"16":[0],"17":[0],"18":[0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0],"25":[0],"26":[0],"27":[0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0],"41":[0],"42":[0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0,0],"61":[0],"62":[0,0,0],"63":[0,0],"64":[0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0,0,0],"69":[0,0],"70":[0,0],"71":[0,0],"72":[0,0],"73":[0,0],"74":[0,0,0,0],"75":[0,0],"76":[0,0],"77":[0,0],"78":[0,0],"79":[0,0],"80":[0,0],"81":[0,0],"82":[0,0],"83":[0,0],"84":[0,0],"85":[0,0],"86":[0,0],"87":[0,0],"88":[0,0],"89":[0,0],"90":[0,0],"91":[0,0],"92":[0,0],"93":[0,0],"94":[0,0],"95":[0,0],"96":[0,0]},inputSourceMap:{version:3,file:"/Users/rg/dev/opensea-js/src/sdk.ts",sources:["/Users/rg/dev/opensea-js/src/sdk.ts"],names:[],mappings:"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",sourcesContent:["import EventEmitter = require(\"events\");\nimport { Seaport } from \"@opensea/seaport-js\";\nimport {\n  CROSS_CHAIN_SEAPORT_V1_5_ADDRESS,\n  CROSS_CHAIN_SEAPORT_V1_6_ADDRESS,\n  OPENSEA_CONDUIT_KEY,\n} from \"@opensea/seaport-js/lib/constants\";\nimport {\n  AdvancedOrder,\n  ConsiderationInputItem,\n  CreateInputItem,\n  OrderComponents,\n} from \"@opensea/seaport-js/lib/types\";\nimport {\n  BigNumberish,\n  Contract,\n  FixedNumber,\n  Overrides,\n  Signer,\n  ethers,\n  parseEther,\n  JsonRpcProvider,\n  ContractTransactionResponse,\n  ZeroAddress,\n} from \"ethers\";\nimport { OpenSeaAPI } from \"./api/api\";\nimport { CollectionOffer, Listing, NFT, Order } from \"./api/types\";\nimport {\n  INVERSE_BASIS_POINT,\n  ENGLISH_AUCTION_ZONE_MAINNETS,\n  ENGLISH_AUCTION_ZONE_TESTNETS,\n} from \"./constants\";\nimport {\n  constructPrivateListingCounterOrder,\n  getPrivateListingConsiderations,\n  getPrivateListingFulfillments,\n} from \"./orders/privateListings\";\nimport { OrderType, OrderV2 } from \"./orders/types\";\nimport { DEFAULT_SEAPORT_CONTRACT_ADDRESS } from \"./orders/utils\";\nimport {\n  ERC1155__factory,\n  ERC20__factory,\n  ERC721__factory,\n} from \"./typechain/contracts\";\nimport {\n  EventData,\n  EventType,\n  Chain,\n  OpenSeaAPIConfig,\n  OpenSeaCollection,\n  OrderSide,\n  TokenStandard,\n  AssetWithTokenStandard,\n  AssetWithTokenId,\n} from \"./types\";\nimport {\n  getMaxOrderExpirationTimestamp,\n  hasErrorCode,\n  getAssetItemType,\n  getAddressAfterRemappingSharedStorefrontAddressToLazyMintAdapterAddress,\n  requireValidProtocol,\n  getWETHAddress,\n  isTestChain,\n  basisPointsForFee,\n  totalBasisPointsForFees,\n  getChainId,\n} from \"./utils/utils\";\n\n/**\n * The OpenSea SDK main class.\n * @category Main Classes\n */\nexport class OpenSeaSDK {\n  /** Provider to use for transactions. */\n  public provider: JsonRpcProvider;\n  /** Seaport v1.6 client @see {@link https://github.com/ProjectOpenSea/seaport-js} */\n  public seaport_v1_6: Seaport;\n  /** Seaport v1.5 client @see {@link https://github.com/ProjectOpenSea/seaport-js} */\n  public seaport_v1_5: Seaport;\n  /** Logger function to use when debugging */\n  public logger: (arg: string) => void;\n  /** API instance */\n  public readonly api: OpenSeaAPI;\n  /** The configured chain */\n  public readonly chain: Chain;\n  /** Internal cache of decimals for payment tokens to save network requests */\n  private _cachedPaymentTokenDecimals: { [address: string]: number } = {};\n\n  private _emitter: EventEmitter;\n  private _signerOrProvider: Signer | JsonRpcProvider;\n\n  /**\n   * Create a new instance of OpenSeaSDK.\n   * @param signerOrProvider Signer or provider to use for transactions. For example:\n   * `new ethers.providers.JsonRpcProvider('https://mainnet.infura.io')` or\n   * `new ethers.Wallet(privKey, provider)`\n   * @param apiConfig configuration options, including `chain`\n   * @param logger optional function for logging debug strings. defaults to no logging\n   */\n  constructor(\n    signerOrProvider: Signer | JsonRpcProvider,\n    apiConfig: OpenSeaAPIConfig = {},\n    logger?: (arg: string) => void,\n  ) {\n    // API config\n    apiConfig.chain ??= Chain.Mainnet;\n    this.chain = apiConfig.chain;\n    this.api = new OpenSeaAPI(apiConfig);\n\n    this.provider = ((signerOrProvider as Signer).provider ??\n      signerOrProvider) as JsonRpcProvider;\n    this._signerOrProvider = signerOrProvider ?? this.provider;\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this.seaport_v1_5 = new Seaport(this._signerOrProvider as any, {\n      overrides: {\n        contractAddress: CROSS_CHAIN_SEAPORT_V1_5_ADDRESS,\n        seaportVersion: \"1.5\",\n        defaultConduitKey: OPENSEA_CONDUIT_KEY,\n      },\n    });\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this.seaport_v1_6 = new Seaport(this._signerOrProvider as any, {\n      overrides: { defaultConduitKey: OPENSEA_CONDUIT_KEY },\n    });\n\n    // Emit events\n    this._emitter = new EventEmitter();\n\n    // Logger: default to no logging if fn not provided\n    this.logger = logger ?? ((arg: string) => arg);\n\n    // Cache decimals for WETH payment token to skip network request\n    try {\n      const wethAddress = getWETHAddress(this.chain).toLowerCase();\n      this._cachedPaymentTokenDecimals[wethAddress] = 18;\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    } catch (error: any) {\n      if (error.message.includes(\"Unknown WETH address\")) {\n        // Ignore\n      } else {\n        console.error(error);\n      }\n    }\n  }\n\n  /**\n   * Add a listener for events emitted by the SDK.\n   * @param event The {@link EventType} to listen to.\n   * @param listener A callback that will accept an object with {@link EventData}\\\n   * @param once Whether the listener should only be called once, or continue listening until removed.\n   */\n  public addListener(\n    event: EventType,\n    listener: (data: EventData) => void,\n    once = false,\n  ) {\n    if (once) {\n      this._emitter.once(event, listener);\n    } else {\n      this._emitter.addListener(event, listener);\n    }\n  }\n\n  /**\n   * Remove an event listener by calling `.removeListener()` on an event and listener.\n   * @param event The {@link EventType} to remove a listener for\\\n   * @param listener The listener to remove\n   */\n  public removeListener(event: EventType, listener: (data: EventData) => void) {\n    this._emitter.removeListener(event, listener);\n  }\n\n  /**\n   * Remove all event listeners. This should be called when you're unmounting\n   * a component that listens to events to make UI updates.\n   * @param event Optional EventType to remove listeners for\n   */\n  public removeAllListeners(event?: EventType) {\n    this._emitter.removeAllListeners(event);\n  }\n\n  /**\n   * Wrap ETH into WETH.\n   * W-ETH is needed for making offers.\n   * @param options\n   * @param options.amountInEth Amount of ether to wrap\n   * @param options.accountAddress Address of the user's wallet containing the ether\n   */\n  public async wrapEth({\n    amountInEth,\n    accountAddress,\n  }: {\n    amountInEth: BigNumberish;\n    accountAddress: string;\n  }) {\n    await this._requireAccountIsAvailable(accountAddress);\n\n    const value = parseEther(FixedNumber.fromValue(amountInEth).toString());\n\n    this._dispatch(EventType.WrapEth, { accountAddress, amount: value });\n\n    const wethContract = new Contract(\n      getWETHAddress(this.chain),\n      [\"function deposit() payable\"],\n      this._signerOrProvider,\n    );\n\n    try {\n      const transaction = await wethContract.deposit({ value });\n      await this._confirmTransaction(\n        transaction.hash,\n        EventType.WrapEth,\n        \"Wrapping ETH\",\n      );\n    } catch (error) {\n      console.error(error);\n      this._dispatch(EventType.TransactionDenied, { error, accountAddress });\n    }\n  }\n\n  /**\n   * Unwrap WETH into ETH.\n   * Emits the `UnwrapWeth` event when the transaction is prompted.\n   * @param options\n   * @param options.amountInEth How much WETH to unwrap\n   * @param options.accountAddress Address of the user's wallet containing the WETH\n   */\n  public async unwrapWeth({\n    amountInEth,\n    accountAddress,\n  }: {\n    amountInEth: BigNumberish;\n    accountAddress: string;\n  }) {\n    await this._requireAccountIsAvailable(accountAddress);\n\n    const amount = parseEther(FixedNumber.fromValue(amountInEth).toString());\n\n    this._dispatch(EventType.UnwrapWeth, { accountAddress, amount });\n\n    const wethContract = new Contract(\n      getWETHAddress(this.chain),\n      [\"function withdraw(uint wad) public\"],\n      this._signerOrProvider,\n    );\n\n    try {\n      const transaction = await wethContract.withdraw(amount);\n      await this._confirmTransaction(\n        transaction.hash,\n        EventType.UnwrapWeth,\n        \"Unwrapping W-ETH\",\n      );\n    } catch (error) {\n      console.error(error);\n      this._dispatch(EventType.TransactionDenied, { error, accountAddress });\n    }\n  }\n\n  private getAmountWithBasisPointsApplied = (\n    amount: bigint,\n    basisPoints: bigint,\n  ): string => {\n    return ((amount * basisPoints) / INVERSE_BASIS_POINT).toString();\n  };\n\n  private async getFees({\n    collection,\n    seller,\n    paymentTokenAddress,\n    startAmount,\n    endAmount,\n    excludeOptionalCreatorFees,\n  }: {\n    collection: OpenSeaCollection;\n    seller?: string;\n    paymentTokenAddress: string;\n    startAmount: bigint;\n    endAmount?: bigint;\n    excludeOptionalCreatorFees?: boolean;\n  }): Promise<ConsiderationInputItem[]> {\n    let collectionFees = collection.fees;\n    if (excludeOptionalCreatorFees) {\n      collectionFees = collectionFees.filter((fee) => fee.required);\n    }\n    const collectionFeesBasisPoints = totalBasisPointsForFees(collectionFees);\n    const sellerBasisPoints = INVERSE_BASIS_POINT - collectionFeesBasisPoints;\n\n    const getConsiderationItem = (basisPoints: bigint, recipient?: string) => {\n      return {\n        token: paymentTokenAddress,\n        amount: this.getAmountWithBasisPointsApplied(startAmount, basisPoints),\n        endAmount: this.getAmountWithBasisPointsApplied(\n          endAmount ?? startAmount,\n          basisPoints,\n        ),\n        recipient,\n      };\n    };\n\n    const considerationItems: ConsiderationInputItem[] = [];\n\n    if (seller) {\n      considerationItems.push(getConsiderationItem(sellerBasisPoints, seller));\n    }\n    if (collectionFeesBasisPoints > 0) {\n      for (const fee of collectionFees) {\n        considerationItems.push(\n          getConsiderationItem(basisPointsForFee(fee), fee.recipient),\n        );\n      }\n    }\n    return considerationItems;\n  }\n\n  private getNFTItems(\n    nfts: NFT[],\n    quantities: bigint[] = [],\n  ): CreateInputItem[] {\n    return nfts.map((nft, index) => ({\n      itemType: getAssetItemType(\n        nft.token_standard.toUpperCase() as TokenStandard,\n      ),\n      token:\n        getAddressAfterRemappingSharedStorefrontAddressToLazyMintAdapterAddress(\n          nft.contract,\n        ),\n      identifier: nft.identifier ?? undefined,\n      amount: quantities[index].toString() ?? \"1\",\n    }));\n  }\n\n  /**\n   * Create and submit an offer on an asset.\n   * @param options\n   * @param options.asset The asset to trade. tokenAddress and tokenId must be defined.\n   * @param options.accountAddress Address of the wallet making the offer.\n   * @param options.startAmount Value of the offer in units, not base units e.g. not wei, of the payment token (or WETH if no payment token address specified)\n   * @param options.quantity The number of assets to bid for (if fungible or semi-fungible). Defaults to 1.\n   * @param options.domain An optional domain to be hashed and included in the first four bytes of the random salt.\n   * @param options.salt Arbitrary salt. If not passed in, a random salt will be generated with the first four bytes being the domain hash or empty.\n   * @param options.expirationTime Expiration time for the order, in UTC seconds\n   * @param options.paymentTokenAddress ERC20 address for the payment token in the order. If unspecified, defaults to WETH\n   * @param options.excludeOptionalCreatorFees If true, optional creator fees will be excluded from the offer. Default: true.\n   * @param options.zone The zone to use for the order. For order protection, pass SIGNED_ZONE. If unspecified, defaults to no zone.\n   *\n   * @returns The {@link OrderV2} that was created.\n   *\n   * @throws Error if the asset does not contain a token id.\n   * @throws Error if the accountAddress is not available through wallet or provider.\n   * @throws Error if the startAmount is not greater than 0.\n   * @throws Error if paymentTokenAddress is not WETH on anything other than Ethereum mainnet.\n   */\n  public async createOffer({\n    asset,\n    accountAddress,\n    startAmount,\n    quantity = 1,\n    domain,\n    salt,\n    expirationTime,\n    paymentTokenAddress = getWETHAddress(this.chain),\n    excludeOptionalCreatorFees = true,\n    zone = ZeroAddress,\n  }: {\n    asset: AssetWithTokenId;\n    accountAddress: string;\n    startAmount: BigNumberish;\n    quantity?: BigNumberish;\n    domain?: string;\n    salt?: BigNumberish;\n    expirationTime?: BigNumberish;\n    paymentTokenAddress?: string;\n    excludeOptionalCreatorFees?: boolean;\n    zone?: string;\n  }): Promise<OrderV2> {\n    await this._requireAccountIsAvailable(accountAddress);\n\n    const { nft } = await this.api.getNFT(asset.tokenAddress, asset.tokenId);\n    const considerationAssetItems = this.getNFTItems(\n      [nft],\n      [BigInt(quantity ?? 1)],\n    );\n\n    const { basePrice } = await this._getPriceParameters(\n      OrderSide.OFFER,\n      paymentTokenAddress,\n      expirationTime ?? getMaxOrderExpirationTimestamp(),\n      startAmount,\n    );\n\n    const collection = await this.api.getCollection(nft.collection);\n\n    const considerationFeeItems = await this.getFees({\n      collection,\n      paymentTokenAddress,\n      startAmount: basePrice,\n      excludeOptionalCreatorFees,\n    });\n\n    if (collection.requiredZone) {\n      zone = collection.requiredZone;\n    }\n\n    const { executeAllActions } = await this.seaport_v1_6.createOrder(\n      {\n        offer: [\n          {\n            token: paymentTokenAddress,\n            amount: basePrice.toString(),\n          },\n        ],\n        consideration: [...considerationAssetItems, ...considerationFeeItems],\n        endTime:\n          expirationTime !== undefined\n            ? BigInt(expirationTime).toString()\n            : getMaxOrderExpirationTimestamp().toString(),\n        zone,\n        domain,\n        salt: BigInt(salt ?? 0).toString(),\n        restrictedByZone: zone !== ZeroAddress,\n        allowPartialFills: true,\n      },\n      accountAddress,\n    );\n    const order = await executeAllActions();\n\n    return this.api.postOrder(order, {\n      protocol: \"seaport\",\n      protocolAddress: DEFAULT_SEAPORT_CONTRACT_ADDRESS,\n      side: OrderSide.OFFER,\n    });\n  }\n\n  /**\n   * Create and submit a listing for an asset.\n   * @param options\n   * @param options.asset The asset to trade. tokenAddress and tokenId must be defined.\n   * @param options.accountAddress  Address of the wallet making the listing\n   * @param options.startAmount Value of the listing at the start of the auction in units, not base units e.g. not wei, of the payment token (or WETH if no payment token address specified)\n   * @param options.endAmount Value of the listing at the end of the auction. If specified, price will change linearly between startAmount and endAmount as time progresses.\n   * @param options.quantity The number of assets to list (if fungible or semi-fungible). Defaults to 1.\n   * @param options.domain An optional domain to be hashed and included in the first four bytes of the random salt. This can be used for on-chain order attribution to assist with analytics.\n   * @param options.salt Arbitrary salt. If not passed in, a random salt will be generated with the first four bytes being the domain hash or empty.\n   * @param options.listingTime Optional time when the order will become fulfillable, in UTC seconds. Undefined means it will start now.\n   * @param options.expirationTime Expiration time for the order, in UTC seconds.\n   * @param options.paymentTokenAddress ERC20 address for the payment token in the order. If unspecified, defaults to ETH\n   * @param options.buyerAddress Optional address that's allowed to purchase this item. If specified, no other address will be able to take the order, unless its value is the null address.\n   * @param options.englishAuction If true, the order will be listed as an English auction.\n   * @param options.excludeOptionalCreatorFees If true, optional creator fees will be excluded from the listing. Default: false.\n   * @param options.zone The zone to use for the order.  For order protection, pass SIGNED_ZONE. If unspecified, defaults to no zone.\n   * @returns The {@link OrderV2} that was created.\n   *\n   * @throws Error if the asset does not contain a token id.\n   * @throws Error if the accountAddress is not available through wallet or provider.\n   * @throws Error if the startAmount is not greater than 0.\n   * @throws Error if paymentTokenAddress is not WETH on anything other than Ethereum mainnet.\n   */\n  public async createListing({\n    asset,\n    accountAddress,\n    startAmount,\n    endAmount,\n    quantity = 1,\n    domain,\n    salt,\n    listingTime,\n    expirationTime,\n    paymentTokenAddress = ethers.ZeroAddress,\n    buyerAddress,\n    englishAuction,\n    excludeOptionalCreatorFees = false,\n    zone = ZeroAddress,\n  }: {\n    asset: AssetWithTokenId;\n    accountAddress: string;\n    startAmount: BigNumberish;\n    endAmount?: BigNumberish;\n    quantity?: BigNumberish;\n    domain?: string;\n    salt?: BigNumberish;\n    listingTime?: number;\n    expirationTime?: number;\n    paymentTokenAddress?: string;\n    buyerAddress?: string;\n    englishAuction?: boolean;\n    excludeOptionalCreatorFees?: boolean;\n    zone?: string;\n  }): Promise<OrderV2> {\n    await this._requireAccountIsAvailable(accountAddress);\n\n    const { nft } = await this.api.getNFT(asset.tokenAddress, asset.tokenId);\n    const offerAssetItems = this.getNFTItems([nft], [BigInt(quantity ?? 1)]);\n\n    if (englishAuction && paymentTokenAddress == ethers.ZeroAddress) {\n      throw new Error(\n        `English auctions must use wrapped ETH or an ERC-20 token.`,\n      );\n    }\n\n    const { basePrice, endPrice } = await this._getPriceParameters(\n      OrderSide.LISTING,\n      paymentTokenAddress,\n      expirationTime ?? getMaxOrderExpirationTimestamp(),\n      startAmount,\n      endAmount ?? undefined,\n    );\n\n    const collection = await this.api.getCollection(nft.collection);\n\n    const considerationFeeItems = await this.getFees({\n      collection,\n      seller: accountAddress,\n      paymentTokenAddress,\n      startAmount: basePrice,\n      endAmount: endPrice,\n      excludeOptionalCreatorFees,\n    });\n\n    if (buyerAddress) {\n      considerationFeeItems.push(\n        ...getPrivateListingConsiderations(offerAssetItems, buyerAddress),\n      );\n    }\n\n    if (englishAuction) {\n      zone = isTestChain(this.chain)\n        ? ENGLISH_AUCTION_ZONE_TESTNETS\n        : ENGLISH_AUCTION_ZONE_MAINNETS;\n    } else if (collection.requiredZone) {\n      zone = collection.requiredZone;\n    }\n\n    const { executeAllActions } = await this.seaport_v1_6.createOrder(\n      {\n        offer: offerAssetItems,\n        consideration: considerationFeeItems,\n        startTime: listingTime?.toString(),\n        endTime:\n          expirationTime?.toString() ??\n          getMaxOrderExpirationTimestamp().toString(),\n        zone,\n        domain,\n        salt: BigInt(salt ?? 0).toString(),\n        restrictedByZone: zone !== ZeroAddress,\n        allowPartialFills: englishAuction ? false : true,\n      },\n      accountAddress,\n    );\n    const order = await executeAllActions();\n\n    return this.api.postOrder(order, {\n      protocol: \"seaport\",\n      protocolAddress: DEFAULT_SEAPORT_CONTRACT_ADDRESS,\n      side: OrderSide.LISTING,\n    });\n  }\n\n  /**\n   * Create and submit a collection offer.\n   * @param options\n   * @param options.collectionSlug Identifier for the collection.\n   * @param options.accountAddress Address of the wallet making the offer.\n   * @param options.amount Value of the offer in units, not base units e.g. not wei, of the payment token (or WETH if no payment token address specified).\n   * @param options.quantity The number of assets to bid for (if fungible or semi-fungible).\n   * @param options.domain An optional domain to be hashed and included in the first four bytes of the random salt. This can be used for on-chain order attribution to assist with analytics.\n   * @param options.salt Arbitrary salt. If not passed in, a random salt will be generated with the first four bytes being the domain hash or empty.\n   * @param options.expirationTime Expiration time for the order, in UTC seconds.\n   * @param options.paymentTokenAddress ERC20 address for the payment token in the order. If unspecified, defaults to WETH.\n   * @param options.excludeOptionalCreatorFees If true, optional creator fees will be excluded from the offer. Default: false.\n   * @param options.offerProtectionEnabled Build the offer on OpenSea's signed zone to provide offer protections from receiving an item which is disabled from trading.\n   * @param options.traitType If defined, the trait name to create the collection offer for.\n   * @param options.traitValue If defined, the trait value to create the collection offer for.\n   * @returns The {@link CollectionOffer} that was created.\n   */\n  public async createCollectionOffer({\n    collectionSlug,\n    accountAddress,\n    amount,\n    quantity,\n    domain,\n    salt,\n    expirationTime,\n    paymentTokenAddress = getWETHAddress(this.chain),\n    excludeOptionalCreatorFees = false,\n    offerProtectionEnabled = true,\n    traitType,\n    traitValue,\n  }: {\n    collectionSlug: string;\n    accountAddress: string;\n    amount: BigNumberish;\n    quantity: number;\n    domain?: string;\n    salt?: BigNumberish;\n    expirationTime?: number | string;\n    paymentTokenAddress: string;\n    excludeOptionalCreatorFees?: boolean;\n    offerProtectionEnabled?: boolean;\n    traitType?: string;\n    traitValue?: string;\n  }): Promise<CollectionOffer | null> {\n    await this._requireAccountIsAvailable(accountAddress);\n\n    const collection = await this.api.getCollection(collectionSlug);\n    const buildOfferResult = await this.api.buildOffer(\n      accountAddress,\n      quantity,\n      collectionSlug,\n      offerProtectionEnabled,\n      traitType,\n      traitValue,\n    );\n    const item = buildOfferResult.partialParameters.consideration[0];\n    const convertedConsiderationItem = {\n      itemType: item.itemType,\n      token: item.token,\n      identifier: item.identifierOrCriteria,\n      amount: item.startAmount,\n    };\n\n    const { basePrice } = await this._getPriceParameters(\n      OrderSide.LISTING,\n      paymentTokenAddress,\n      expirationTime ?? getMaxOrderExpirationTimestamp(),\n      amount,\n    );\n    const considerationFeeItems = await this.getFees({\n      collection,\n      paymentTokenAddress,\n      startAmount: basePrice,\n      endAmount: basePrice,\n      excludeOptionalCreatorFees,\n    });\n\n    const considerationItems = [\n      convertedConsiderationItem,\n      ...considerationFeeItems,\n    ];\n\n    const payload = {\n      offerer: accountAddress,\n      offer: [\n        {\n          token: paymentTokenAddress,\n          amount: basePrice.toString(),\n        },\n      ],\n      consideration: considerationItems,\n      endTime:\n        expirationTime?.toString() ??\n        getMaxOrderExpirationTimestamp().toString(),\n      zone: buildOfferResult.partialParameters.zone,\n      domain,\n      salt: BigInt(salt ?? 0).toString(),\n      restrictedByZone: true,\n      allowPartialFills: true,\n    };\n\n    const { executeAllActions } = await this.seaport_v1_6.createOrder(\n      payload,\n      accountAddress,\n    );\n    const order = await executeAllActions();\n\n    return this.api.postCollectionOffer(\n      order,\n      collectionSlug,\n      traitType,\n      traitValue,\n    );\n  }\n\n  /**\n   * Fulfill a private order for a designated address.\n   * @param options\n   * @param options.order The order to fulfill\n   * @param options.accountAddress Address of the wallet taking the order.\n   * @param options.domain An optional domain to be hashed and included at the end of fulfillment calldata.\n   *                       This can be used for on-chain order attribution to assist with analytics.\n   * @param options.overrides Transaction overrides, ignored if not set.\n   * @returns Transaction hash of the order.\n   */\n  private async fulfillPrivateOrder({\n    order,\n    accountAddress,\n    domain,\n    overrides,\n  }: {\n    order: OrderV2;\n    accountAddress: string;\n    domain?: string;\n    overrides?: Overrides;\n  }): Promise<string> {\n    if (!order.taker?.address) {\n      throw new Error(\n        \"Order is not a private listing - must have a taker address\",\n      );\n    }\n    const counterOrder = constructPrivateListingCounterOrder(\n      order.protocolData,\n      order.taker.address,\n    );\n    const fulfillments = getPrivateListingFulfillments(order.protocolData);\n    const seaport = this.getSeaport(order.protocolAddress);\n    const transaction = await seaport\n      .matchOrders({\n        orders: [order.protocolData, counterOrder],\n        fulfillments,\n        overrides: {\n          ...overrides,\n          value: counterOrder.parameters.offer[0].startAmount,\n        },\n        accountAddress,\n        domain,\n      })\n      .transact();\n    const transactionReceipt = await transaction.wait();\n    if (!transactionReceipt) {\n      throw new Error(\"Missing transaction receipt\");\n    }\n\n    await this._confirmTransaction(\n      transactionReceipt.hash,\n      EventType.MatchOrders,\n      \"Fulfilling order\",\n    );\n    return transactionReceipt.hash;\n  }\n\n  /**\n   * Fulfill an order for an asset. The order can be either a listing or an offer.\n   * @param options\n   * @param options.order The order to fulfill, a.k.a. \"take\"\n   * @param options.accountAddress Address of the wallet taking the offer.\n   * @param options.recipientAddress The optional address to receive the order's item(s) or currencies. If not specified, defaults to accountAddress.\n   * @param options.domain An optional domain to be hashed and included at the end of fulfillment calldata.  This can be used for on-chain order attribution to assist with analytics.\n   * @param options.overrides Transaction overrides, ignored if not set.\n   * @returns Transaction hash of the order.\n   *\n   * @throws Error if the accountAddress is not available through wallet or provider.\n   * @throws Error if the order's protocol address is not supported by OpenSea. See {@link isValidProtocol}.\n   * @throws Error if attempting to fulfill the order with a recipient address which does not match a private listing.\n   */\n  public async fulfillOrder({\n    order,\n    accountAddress,\n    recipientAddress,\n    domain,\n    overrides,\n  }: {\n    order: OrderV2 | Order;\n    accountAddress: string;\n    recipientAddress?: string;\n    domain?: string;\n    overrides?: Overrides;\n  }): Promise<string> {\n    await this._requireAccountIsAvailable(accountAddress);\n\n    const protocolAddress =\n      (order as OrderV2).protocolAddress ?? (order as Order).protocol_address;\n    requireValidProtocol(protocolAddress);\n\n    const orderHash =\n      (order as OrderV2).orderHash ?? (order as Order).order_hash;\n\n    const side =\n      (order as OrderV2).side ??\n      ([OrderType.BASIC, OrderType.ENGLISH].includes((order as Listing).type)\n        ? OrderSide.LISTING\n        : OrderSide.OFFER);\n\n    let extraData: string | undefined = undefined;\n\n    const protocolData =\n      (order as OrderV2).protocolData ?? (order as Order).protocol_data;\n\n    if (orderHash) {\n      const result = await this.api.generateFulfillmentData(\n        accountAddress,\n        orderHash,\n        protocolAddress,\n        side,\n      );\n\n      // If the order is using offer protection, the extraData\n      // must be included with the order to successfully fulfill.\n      const inputData = result.fulfillment_data.transaction.input_data;\n      if (\"orders\" in inputData && \"extraData\" in inputData.orders[0]) {\n        extraData = (inputData.orders[0] as AdvancedOrder).extraData;\n      }\n      const signature = result.fulfillment_data.orders[0].signature;\n      protocolData.signature = signature;\n    }\n\n    const isPrivateListing = \"taker\" in order ? !!order.taker : false;\n    if (isPrivateListing) {\n      if (recipientAddress) {\n        throw new Error(\n          \"Private listings cannot be fulfilled with a recipient address\",\n        );\n      }\n      return this.fulfillPrivateOrder({\n        order: order as OrderV2,\n        accountAddress,\n        domain,\n        overrides,\n      });\n    }\n\n    const seaport = this.getSeaport(protocolAddress);\n    const { executeAllActions } = await seaport.fulfillOrder({\n      order: protocolData,\n      accountAddress,\n      recipientAddress,\n      extraData,\n      domain,\n      overrides,\n    });\n    const transaction = await executeAllActions();\n\n    const transactionHash = ethers.Transaction.from(transaction).hash;\n    if (!transactionHash) {\n      throw new Error(\"Missing transaction hash\");\n    }\n\n    await this._confirmTransaction(\n      transactionHash,\n      EventType.MatchOrders,\n      \"Fulfilling order\",\n    );\n    return transactionHash;\n  }\n\n  /**\n   * Utility function to get the Seaport client based on the address.\n   * @param protocolAddress The Seaport address.\n   */\n  private getSeaport(protocolAddress: string): Seaport {\n    const checksummedProtocolAddress = ethers.getAddress(protocolAddress);\n    switch (checksummedProtocolAddress) {\n      case CROSS_CHAIN_SEAPORT_V1_5_ADDRESS:\n        return this.seaport_v1_5;\n      case CROSS_CHAIN_SEAPORT_V1_6_ADDRESS:\n        return this.seaport_v1_6;\n      default:\n        throw new Error(`Unsupported protocol address: ${protocolAddress}`);\n    }\n  }\n\n  /**\n   * Cancel orders onchain, preventing them from being fulfilled.\n   * @param options\n   * @param options.orders The orders to cancel\n   * @param options.accountAddress The account address cancelling the orders.\n   * @param options.domain An optional domain to be hashed and included at the end of fulfillment calldata.\n   *                       This can be used for on-chain order attribution to assist with analytics.\n   * @param options.overrides Transaction overrides, ignored if not set.\n   * @returns Transaction hash of the order.\n   */\n  private async cancelSeaportOrders({\n    orders,\n    accountAddress,\n    domain,\n    protocolAddress = DEFAULT_SEAPORT_CONTRACT_ADDRESS,\n    overrides,\n  }: {\n    orders: OrderComponents[];\n    accountAddress: string;\n    domain?: string;\n    protocolAddress?: string;\n    overrides?: Overrides;\n  }): Promise<string> {\n    const seaport = this.getSeaport(protocolAddress);\n\n    const transaction = await seaport\n      .cancelOrders(orders, accountAddress, domain, overrides)\n      .transact();\n\n    return transaction.hash;\n  }\n\n  /**\n   * Cancel an order onchain, preventing it from ever being fulfilled.\n   * @param options\n   * @param options.order The order to cancel\n   * @param options.accountAddress The account address that will be cancelling the order.\n   * @param options.domain An optional domain to be hashed and included at the end of fulfillment calldata.  This can be used for on-chain order attribution to assist with analytics.\n   *\n   * @throws Error if the accountAddress is not available through wallet or provider.\n   * @throws Error if the order's protocol address is not supported by OpenSea. See {@link isValidProtocol}.\n   */\n  public async cancelOrder({\n    order,\n    accountAddress,\n    domain,\n  }: {\n    order: OrderV2;\n    accountAddress: string;\n    domain?: string;\n  }) {\n    await this._requireAccountIsAvailable(accountAddress);\n    requireValidProtocol(order.protocolAddress);\n\n    this._dispatch(EventType.CancelOrder, { orderV2: order, accountAddress });\n\n    // Transact and get the transaction hash\n    const transactionHash = await this.cancelSeaportOrders({\n      orders: [order.protocolData.parameters],\n      accountAddress,\n      domain,\n      protocolAddress: order.protocolAddress,\n    });\n\n    // Await transaction confirmation\n    await this._confirmTransaction(\n      transactionHash,\n      EventType.CancelOrder,\n      \"Cancelling order\",\n    );\n  }\n\n  private _getSeaportVersion(protocolAddress: string) {\n    const protocolAddressChecksummed = ethers.getAddress(protocolAddress);\n    switch (protocolAddressChecksummed) {\n      case CROSS_CHAIN_SEAPORT_V1_6_ADDRESS:\n        return \"1.6\";\n      case CROSS_CHAIN_SEAPORT_V1_5_ADDRESS:\n        return \"1.5\";\n      default:\n        throw new Error(\"Unknown or unsupported protocol address\");\n    }\n  }\n\n  /**\n   * Get the offerer signature for canceling an order offchain.\n   * The signature will only be valid if the signer address is the address of the order's offerer.\n   */\n  private async _getOffererSignature(\n    protocolAddress: string,\n    orderHash: string,\n    chain: Chain,\n  ) {\n    const chainId = getChainId(chain);\n    const name = \"Seaport\";\n    const version = this._getSeaportVersion(protocolAddress);\n\n    if (\n      typeof (this._signerOrProvider as Signer).signTypedData == \"undefined\"\n    ) {\n      throw new Error(\n        \"Please pass an ethers Signer into this sdk to derive an offerer signature\",\n      );\n    }\n\n    return (this._signerOrProvider as Signer).signTypedData(\n      { chainId, name, version, verifyingContract: protocolAddress },\n      { OrderHash: [{ name: \"orderHash\", type: \"bytes32\" }] },\n      { orderHash },\n    );\n  }\n\n  /**\n   * Offchain cancel an order, offer or listing, by its order hash when protected by the SignedZone.\n   * Protocol and Chain are required to prevent hash collisions.\n   * Please note cancellation is only assured if a fulfillment signature was not vended prior to cancellation.\n   * @param protocolAddress The Seaport address for the order.\n   * @param orderHash The order hash, or external identifier, of the order.\n   * @param chain The chain where the order is located.\n   * @param offererSignature An EIP-712 signature from the offerer of the order.\n   *                         If this is not provided, the user associated with the API Key will be checked instead.\n   *                         The signature must be a EIP-712 signature consisting of the order's Seaport contract's\n   *                         name, version, address, and chain. The struct to sign is `OrderHash` containing a\n   *                         single bytes32 field.\n   * @param useSignerToDeriveOffererSignature Derive the offererSignature from the Ethers signer passed into this sdk.\n   * @returns The response from the API.\n   */\n  public async offchainCancelOrder(\n    protocolAddress: string,\n    orderHash: string,\n    chain: Chain = this.chain,\n    offererSignature?: string,\n    useSignerToDeriveOffererSignature?: boolean,\n  ) {\n    if (useSignerToDeriveOffererSignature) {\n      offererSignature = await this._getOffererSignature(\n        protocolAddress,\n        orderHash,\n        chain,\n      );\n    }\n    return this.api.offchainCancelOrder(\n      protocolAddress,\n      orderHash,\n      chain,\n      offererSignature,\n    );\n  }\n\n  /**\n   * Returns whether an order is fulfillable.\n   * An order may not be fulfillable if a target item's transfer function\n   * is locked for some reason, e.g. an item is being rented within a game\n   * or trading has been locked for an item type.\n   * @param options\n   * @param options.order Order to check\n   * @param options.accountAddress The account address that will be fulfilling the order\n   * @returns True if the order is fulfillable, else False.\n   *\n   * @throws Error if the order's protocol address is not supported by OpenSea. See {@link isValidProtocol}.\n   */\n  public async isOrderFulfillable({\n    order,\n    accountAddress,\n  }: {\n    order: OrderV2;\n    accountAddress: string;\n  }): Promise<boolean> {\n    requireValidProtocol(order.protocolAddress);\n\n    const seaport = this.getSeaport(order.protocolAddress);\n\n    try {\n      const isValid = await seaport\n        .validate([order.protocolData], accountAddress)\n        .staticCall();\n      return !!isValid;\n    } catch (error) {\n      if (hasErrorCode(error) && error.code === \"CALL_EXCEPTION\") {\n        return false;\n      }\n      throw error;\n    }\n  }\n\n  /**\n   * Get an account's balance of any Asset. This asset can be an ERC20, ERC1155, or ERC721.\n   * @param options\n   * @param options.accountAddress Account address to check\n   * @param options.asset The Asset to check balance for. tokenStandard must be set.\n   * @returns The balance of the asset for the account.\n   *\n   * @throws Error if the token standard does not support balanceOf.\n   */\n  public async getBalance({\n    accountAddress,\n    asset,\n  }: {\n    accountAddress: string;\n    asset: AssetWithTokenStandard;\n  }): Promise<bigint> {\n    switch (asset.tokenStandard) {\n      case TokenStandard.ERC20: {\n        const contract = ERC20__factory.connect(\n          asset.tokenAddress,\n          this.provider,\n        );\n        return await contract.balanceOf.staticCall(accountAddress);\n      }\n      case TokenStandard.ERC1155: {\n        if (asset.tokenId === undefined || asset.tokenId === null) {\n          throw new Error(\"Missing ERC1155 tokenId for getBalance\");\n        }\n        const contract = ERC1155__factory.connect(\n          asset.tokenAddress,\n          this.provider,\n        );\n        return await contract.balanceOf.staticCall(\n          accountAddress,\n          asset.tokenId,\n        );\n      }\n      case TokenStandard.ERC721: {\n        if (asset.tokenId === undefined || asset.tokenId === null) {\n          throw new Error(\"Missing ERC721 tokenId for getBalance\");\n        }\n        const contract = ERC721__factory.connect(\n          asset.tokenAddress,\n          this.provider,\n        );\n        try {\n          const owner = await contract.ownerOf.staticCall(asset.tokenId);\n          return BigInt(owner.toLowerCase() == accountAddress.toLowerCase());\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        } catch (error: any) {\n          this.logger(\n            `Failed to get ownerOf ERC721: ${error.message ?? error}`,\n          );\n          return 0n;\n        }\n      }\n      default:\n        throw new Error(\"Unsupported token standard for getBalance\");\n    }\n  }\n\n  /**\n   * Transfer an asset. This asset can be an ERC20, ERC1155, or ERC721.\n   * @param options\n   * @param options.asset The Asset to transfer. tokenStandard must be set.\n   * @param options.amount Amount of asset to transfer. Not used for ERC721.\n   * @param options.fromAddress The address to transfer from\n   * @param options.toAddress The address to transfer to\n   * @param options.overrides Transaction overrides, ignored if not set.\n   */\n  public async transfer({\n    asset,\n    amount,\n    fromAddress,\n    toAddress,\n    overrides,\n  }: {\n    asset: AssetWithTokenStandard;\n    amount?: BigNumberish;\n    fromAddress: string;\n    toAddress: string;\n    overrides?: Overrides;\n  }): Promise<void> {\n    await this._requireAccountIsAvailable(fromAddress);\n    overrides = { ...overrides, from: fromAddress };\n    let transaction: Promise<ContractTransactionResponse>;\n\n    switch (asset.tokenStandard) {\n      case TokenStandard.ERC20: {\n        if (!amount) {\n          throw new Error(\"Missing ERC20 amount for transfer\");\n        }\n        const contract = ERC20__factory.connect(\n          asset.tokenAddress,\n          this._signerOrProvider,\n        );\n        transaction = contract.transfer(toAddress, amount, overrides);\n        break;\n      }\n      case TokenStandard.ERC1155: {\n        if (asset.tokenId === undefined || asset.tokenId === null) {\n          throw new Error(\"Missing ERC1155 tokenId for transfer\");\n        }\n        if (!amount) {\n          throw new Error(\"Missing ERC1155 amount for transfer\");\n        }\n        const contract = ERC1155__factory.connect(\n          asset.tokenAddress,\n          this._signerOrProvider,\n        );\n        transaction = contract.safeTransferFrom(\n          fromAddress,\n          toAddress,\n          asset.tokenId,\n          amount,\n          \"\",\n          overrides,\n        );\n        break;\n      }\n      case TokenStandard.ERC721: {\n        if (asset.tokenId === undefined || asset.tokenId === null) {\n          throw new Error(\"Missing ERC721 tokenId for transfer\");\n        }\n        const contract = ERC721__factory.connect(\n          asset.tokenAddress,\n          this._signerOrProvider,\n        );\n        transaction = contract.transferFrom(\n          fromAddress,\n          toAddress,\n          asset.tokenId,\n          overrides,\n        );\n        break;\n      }\n      default:\n        throw new Error(\"Unsupported token standard for transfer\");\n    }\n\n    try {\n      const transactionResponse = await transaction;\n      await this._confirmTransaction(\n        transactionResponse.hash,\n        EventType.Transfer,\n        \"Transferring asset\",\n      );\n    } catch (error) {\n      console.error(error);\n      this._dispatch(EventType.TransactionDenied, {\n        error,\n        accountAddress: fromAddress,\n      });\n    }\n  }\n\n  /**\n   * Instead of signing an off-chain order, this methods allows you to approve an order\n   * with on on-chain transaction.\n   * @param order Order to approve\n   * @param domain An optional domain to be hashed and included at the end of fulfillment calldata.  This can be used for on-chain order attribution to assist with analytics.\n   * @returns Transaction hash of the approval transaction\n   *\n   * @throws Error if the accountAddress is not available through wallet or provider.\n   * @throws Error if the order's protocol address is not supported by OpenSea. See {@link isValidProtocol}.\n   */\n  public async approveOrder(order: OrderV2, domain?: string) {\n    await this._requireAccountIsAvailable(order.maker.address);\n    requireValidProtocol(order.protocolAddress);\n\n    this._dispatch(EventType.ApproveOrder, {\n      orderV2: order,\n      accountAddress: order.maker.address,\n    });\n\n    const seaport = this.getSeaport(order.protocolAddress);\n    const transaction = await seaport\n      .validate([order.protocolData], order.maker.address, domain)\n      .transact();\n\n    await this._confirmTransaction(\n      transaction.hash,\n      EventType.ApproveOrder,\n      \"Approving order\",\n    );\n\n    return transaction.hash;\n  }\n\n  /**\n   * Compute the `basePrice` and `endPrice` parameters to be used to price an order.\n   * Also validates the expiration time and auction type.\n   * @param tokenAddress Address of the ERC-20 token to use for trading. Use the null address for ETH.\n   * @param expirationTime When the auction expires, or 0 if never.\n   * @param startAmount The base value for the order, in the token's main units (e.g. ETH instead of wei)\n   * @param endAmount The end value for the order, in the token's main units (e.g. ETH instead of wei)\n   */\n  private async _getPriceParameters(\n    orderSide: OrderSide,\n    tokenAddress: string,\n    expirationTime: BigNumberish,\n    startAmount: BigNumberish,\n    endAmount?: BigNumberish,\n  ) {\n    tokenAddress = tokenAddress.toLowerCase();\n    const isEther = tokenAddress === ethers.ZeroAddress;\n    let decimals = 18;\n    if (!isEther) {\n      if (tokenAddress in this._cachedPaymentTokenDecimals) {\n        decimals = this._cachedPaymentTokenDecimals[tokenAddress];\n      } else {\n        const paymentToken = await this.api.getPaymentToken(tokenAddress);\n        this._cachedPaymentTokenDecimals[tokenAddress] = paymentToken.decimals;\n        decimals = paymentToken.decimals;\n      }\n    }\n\n    const startAmountWei = ethers.parseUnits(startAmount.toString(), decimals);\n    const endAmountWei = endAmount\n      ? ethers.parseUnits(endAmount.toString(), decimals)\n      : undefined;\n    const priceDiffWei =\n      endAmountWei !== undefined ? startAmountWei - endAmountWei : 0n;\n\n    const basePrice = startAmountWei;\n    const endPrice = endAmountWei;\n\n    // Validation\n    if (startAmount == null || startAmountWei < 0) {\n      throw new Error(\"Starting price must be a number >= 0\");\n    }\n    if (isEther && orderSide === OrderSide.OFFER) {\n      throw new Error(\"Offers must use wrapped ETH or an ERC-20 token.\");\n    }\n    if (priceDiffWei < 0) {\n      throw new Error(\n        \"End price must be less than or equal to the start price.\",\n      );\n    }\n    if (priceDiffWei > 0 && BigInt(expirationTime) === 0n) {\n      throw new Error(\n        \"Expiration time must be set if order will change in price.\",\n      );\n    }\n    return { basePrice, endPrice };\n  }\n\n  private _dispatch(event: EventType, data: EventData) {\n    this._emitter.emit(event, data);\n  }\n\n  /** Get the accounts available from the signer or provider. */\n  private async _getAvailableAccounts() {\n    const availableAccounts: string[] = [];\n\n    if (\"address\" in this._signerOrProvider) {\n      availableAccounts.push(this._signerOrProvider.address as string);\n    } else if (\"listAccounts\" in this._signerOrProvider) {\n      const addresses = (await this._signerOrProvider.listAccounts()).map(\n        (acct) => acct.address,\n      );\n      availableAccounts.push(...addresses);\n    } else if (\"getAddress\" in this._signerOrProvider) {\n      availableAccounts.push(await this._signerOrProvider.getAddress());\n    }\n\n    return availableAccounts;\n  }\n\n  /**\n   * Throws an error if an account is not available through the provider.\n   * @param accountAddress The account address to check is available.\n   */\n  private async _requireAccountIsAvailable(accountAddress: string) {\n    const accountAddressChecksummed = ethers.getAddress(accountAddress);\n    const availableAccounts = await this._getAvailableAccounts();\n\n    if (availableAccounts.includes(accountAddressChecksummed)) {\n      return;\n    }\n\n    throw new Error(\n      `Specified accountAddress is not available through wallet or provider: ${accountAddressChecksummed}. Accounts available: ${\n        availableAccounts.length > 0 ? availableAccounts.join(\", \") : \"none\"\n      }`,\n    );\n  }\n\n  /**\n   * Wait for a transaction to confirm and log the success or failure.\n   * @param transactionHash The transaction hash to wait for.\n   * @param event The event type to log.\n   * @param description The description of the transaction.\n   */\n  private async _confirmTransaction(\n    transactionHash: string,\n    event: EventType,\n    description: string,\n  ): Promise<void> {\n    const transactionEventData = { transactionHash, event };\n    this.logger(`Transaction started: ${description}`);\n\n    try {\n      this._dispatch(EventType.TransactionCreated, transactionEventData);\n      await this.provider.waitForTransaction(transactionHash);\n      this.logger(`Transaction succeeded: ${description}`);\n      this._dispatch(EventType.TransactionConfirmed, transactionEventData);\n    } catch (error) {\n      this.logger(`Transaction failed: ${description}`);\n      this._dispatch(EventType.TransactionFailed, {\n        ...transactionEventData,\n        error,\n      });\n      throw error;\n    }\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"3860b26b3c9bfdb4b0159a902226fc5c50c0f739"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_i250qerm0=function(){return actualCoverage;};}return actualCoverage;}cov_i250qerm0();cov_i250qerm0().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_i250qerm0().s[1]++;exports.OpenSeaSDK=void 0;const EventEmitter=(cov_i250qerm0().s[2]++,require("events"));const seaport_js_1=(cov_i250qerm0().s[3]++,require("@opensea/seaport-js"));const constants_1=(cov_i250qerm0().s[4]++,require("@opensea/seaport-js/lib/constants"));const ethers_1=(cov_i250qerm0().s[5]++,require("ethers"));const api_1=(cov_i250qerm0().s[6]++,require("./api/api"));const constants_2=(cov_i250qerm0().s[7]++,require("./constants"));const privateListings_1=(cov_i250qerm0().s[8]++,require("./orders/privateListings"));const types_1=(cov_i250qerm0().s[9]++,require("./orders/types"));const utils_1=(cov_i250qerm0().s[10]++,require("./orders/utils"));const contracts_1=(cov_i250qerm0().s[11]++,require("./typechain/contracts"));const types_2=(cov_i250qerm0().s[12]++,require("./types"));const utils_2=(cov_i250qerm0().s[13]++,require("./utils/utils"));/**
 * The OpenSea SDK main class.
 * @category Main Classes
 */class OpenSeaSDK{/**
     * Create a new instance of OpenSeaSDK.
     * @param signerOrProvider Signer or provider to use for transactions. For example:
     * `new ethers.providers.JsonRpcProvider('https://mainnet.infura.io')` or
     * `new ethers.Wallet(privKey, provider)`
     * @param apiConfig configuration options, including `chain`
     * @param logger optional function for logging debug strings. defaults to no logging
     */constructor(signerOrProvider,apiConfig=(cov_i250qerm0().b[0][0]++,{}),logger){cov_i250qerm0().f[0]++;cov_i250qerm0().s[14]++;/** Internal cache of decimals for payment tokens to save network requests */this._cachedPaymentTokenDecimals={};cov_i250qerm0().s[15]++;this.getAmountWithBasisPointsApplied=(amount,basisPoints)=>{cov_i250qerm0().f[1]++;cov_i250qerm0().s[16]++;return(amount*basisPoints/constants_2.INVERSE_BASIS_POINT).toString();};// API config
cov_i250qerm0().s[17]++;(cov_i250qerm0().b[1][0]++,apiConfig.chain)??(cov_i250qerm0().b[1][1]++,apiConfig.chain=types_2.Chain.Mainnet);cov_i250qerm0().s[18]++;this.chain=apiConfig.chain;cov_i250qerm0().s[19]++;this.api=new api_1.OpenSeaAPI(apiConfig);cov_i250qerm0().s[20]++;this.provider=(cov_i250qerm0().b[2][0]++,signerOrProvider.provider)??(cov_i250qerm0().b[2][1]++,signerOrProvider);cov_i250qerm0().s[21]++;this._signerOrProvider=(cov_i250qerm0().b[3][0]++,signerOrProvider)??(cov_i250qerm0().b[3][1]++,this.provider);// eslint-disable-next-line @typescript-eslint/no-explicit-any
cov_i250qerm0().s[22]++;this.seaport_v1_5=new seaport_js_1.Seaport(this._signerOrProvider,{overrides:{contractAddress:constants_1.CROSS_CHAIN_SEAPORT_V1_5_ADDRESS,seaportVersion:"1.5",defaultConduitKey:constants_1.OPENSEA_CONDUIT_KEY}});// eslint-disable-next-line @typescript-eslint/no-explicit-any
cov_i250qerm0().s[23]++;this.seaport_v1_6=new seaport_js_1.Seaport(this._signerOrProvider,{overrides:{defaultConduitKey:constants_1.OPENSEA_CONDUIT_KEY}});// Emit events
cov_i250qerm0().s[24]++;this._emitter=new EventEmitter();// Logger: default to no logging if fn not provided
cov_i250qerm0().s[25]++;this.logger=(cov_i250qerm0().b[4][0]++,logger)??(cov_i250qerm0().b[4][1]++,arg=>{cov_i250qerm0().f[2]++;cov_i250qerm0().s[26]++;return arg;});// Cache decimals for WETH payment token to skip network request
cov_i250qerm0().s[27]++;try{const wethAddress=(cov_i250qerm0().s[28]++,(0,utils_2.getWETHAddress)(this.chain).toLowerCase());cov_i250qerm0().s[29]++;this._cachedPaymentTokenDecimals[wethAddress]=18;// eslint-disable-next-line @typescript-eslint/no-explicit-any
}catch(error){cov_i250qerm0().s[30]++;if(error.message.includes("Unknown WETH address")){cov_i250qerm0().b[5][0]++;}// Ignore
else{cov_i250qerm0().b[5][1]++;cov_i250qerm0().s[31]++;console.error(error);}}}/**
     * Add a listener for events emitted by the SDK.
     * @param event The {@link EventType} to listen to.
     * @param listener A callback that will accept an object with {@link EventData}\
     * @param once Whether the listener should only be called once, or continue listening until removed.
     */addListener(event,listener,once=(cov_i250qerm0().b[6][0]++,false)){cov_i250qerm0().f[3]++;cov_i250qerm0().s[32]++;if(once){cov_i250qerm0().b[7][0]++;cov_i250qerm0().s[33]++;this._emitter.once(event,listener);}else{cov_i250qerm0().b[7][1]++;cov_i250qerm0().s[34]++;this._emitter.addListener(event,listener);}}/**
     * Remove an event listener by calling `.removeListener()` on an event and listener.
     * @param event The {@link EventType} to remove a listener for\
     * @param listener The listener to remove
     */removeListener(event,listener){cov_i250qerm0().f[4]++;cov_i250qerm0().s[35]++;this._emitter.removeListener(event,listener);}/**
     * Remove all event listeners. This should be called when you're unmounting
     * a component that listens to events to make UI updates.
     * @param event Optional EventType to remove listeners for
     */removeAllListeners(event){cov_i250qerm0().f[5]++;cov_i250qerm0().s[36]++;this._emitter.removeAllListeners(event);}/**
     * Wrap ETH into WETH.
     * W-ETH is needed for making offers.
     * @param options
     * @param options.amountInEth Amount of ether to wrap
     * @param options.accountAddress Address of the user's wallet containing the ether
     */async wrapEth({amountInEth,accountAddress}){cov_i250qerm0().f[6]++;cov_i250qerm0().s[37]++;await this._requireAccountIsAvailable(accountAddress);const value=(cov_i250qerm0().s[38]++,(0,ethers_1.parseEther)(ethers_1.FixedNumber.fromValue(amountInEth).toString()));cov_i250qerm0().s[39]++;this._dispatch(types_2.EventType.WrapEth,{accountAddress,amount:value});const wethContract=(cov_i250qerm0().s[40]++,new ethers_1.Contract((0,utils_2.getWETHAddress)(this.chain),["function deposit() payable"],this._signerOrProvider));cov_i250qerm0().s[41]++;try{const transaction=(cov_i250qerm0().s[42]++,await wethContract.deposit({value}));cov_i250qerm0().s[43]++;await this._confirmTransaction(transaction.hash,types_2.EventType.WrapEth,"Wrapping ETH");}catch(error){cov_i250qerm0().s[44]++;console.error(error);cov_i250qerm0().s[45]++;this._dispatch(types_2.EventType.TransactionDenied,{error,accountAddress});}}/**
     * Unwrap WETH into ETH.
     * Emits the `UnwrapWeth` event when the transaction is prompted.
     * @param options
     * @param options.amountInEth How much WETH to unwrap
     * @param options.accountAddress Address of the user's wallet containing the WETH
     */async unwrapWeth({amountInEth,accountAddress}){cov_i250qerm0().f[7]++;cov_i250qerm0().s[46]++;await this._requireAccountIsAvailable(accountAddress);const amount=(cov_i250qerm0().s[47]++,(0,ethers_1.parseEther)(ethers_1.FixedNumber.fromValue(amountInEth).toString()));cov_i250qerm0().s[48]++;this._dispatch(types_2.EventType.UnwrapWeth,{accountAddress,amount});const wethContract=(cov_i250qerm0().s[49]++,new ethers_1.Contract((0,utils_2.getWETHAddress)(this.chain),["function withdraw(uint wad) public"],this._signerOrProvider));cov_i250qerm0().s[50]++;try{const transaction=(cov_i250qerm0().s[51]++,await wethContract.withdraw(amount));cov_i250qerm0().s[52]++;await this._confirmTransaction(transaction.hash,types_2.EventType.UnwrapWeth,"Unwrapping W-ETH");}catch(error){cov_i250qerm0().s[53]++;console.error(error);cov_i250qerm0().s[54]++;this._dispatch(types_2.EventType.TransactionDenied,{error,accountAddress});}}async getFees({collection,seller,paymentTokenAddress,startAmount,endAmount,excludeOptionalCreatorFees}){cov_i250qerm0().f[8]++;let collectionFees=(cov_i250qerm0().s[55]++,collection.fees);cov_i250qerm0().s[56]++;if(excludeOptionalCreatorFees){cov_i250qerm0().b[8][0]++;cov_i250qerm0().s[57]++;collectionFees=collectionFees.filter(fee=>{cov_i250qerm0().f[9]++;cov_i250qerm0().s[58]++;return fee.required;});}else{cov_i250qerm0().b[8][1]++;}const collectionFeesBasisPoints=(cov_i250qerm0().s[59]++,(0,utils_2.totalBasisPointsForFees)(collectionFees));const sellerBasisPoints=(cov_i250qerm0().s[60]++,constants_2.INVERSE_BASIS_POINT-collectionFeesBasisPoints);cov_i250qerm0().s[61]++;const getConsiderationItem=(basisPoints,recipient)=>{cov_i250qerm0().f[10]++;cov_i250qerm0().s[62]++;return{token:paymentTokenAddress,amount:this.getAmountWithBasisPointsApplied(startAmount,basisPoints),endAmount:this.getAmountWithBasisPointsApplied((cov_i250qerm0().b[9][0]++,endAmount)??(cov_i250qerm0().b[9][1]++,startAmount),basisPoints),recipient};};const considerationItems=(cov_i250qerm0().s[63]++,[]);cov_i250qerm0().s[64]++;if(seller){cov_i250qerm0().b[10][0]++;cov_i250qerm0().s[65]++;considerationItems.push(getConsiderationItem(sellerBasisPoints,seller));}else{cov_i250qerm0().b[10][1]++;}cov_i250qerm0().s[66]++;if(collectionFeesBasisPoints>0){cov_i250qerm0().b[11][0]++;cov_i250qerm0().s[67]++;for(const fee of collectionFees){cov_i250qerm0().s[68]++;considerationItems.push(getConsiderationItem((0,utils_2.basisPointsForFee)(fee),fee.recipient));}}else{cov_i250qerm0().b[11][1]++;}cov_i250qerm0().s[69]++;return considerationItems;}getNFTItems(nfts,quantities=(cov_i250qerm0().b[12][0]++,[])){cov_i250qerm0().f[11]++;cov_i250qerm0().s[70]++;return nfts.map((nft,index)=>{cov_i250qerm0().f[12]++;cov_i250qerm0().s[71]++;return{itemType:(0,utils_2.getAssetItemType)(nft.token_standard.toUpperCase()),token:(0,utils_2.getAddressAfterRemappingSharedStorefrontAddressToLazyMintAdapterAddress)(nft.contract),identifier:(cov_i250qerm0().b[13][0]++,nft.identifier)??(cov_i250qerm0().b[13][1]++,undefined),amount:(cov_i250qerm0().b[14][0]++,quantities[index].toString())??(cov_i250qerm0().b[14][1]++,"1")};});}/**
     * Create and submit an offer on an asset.
     * @param options
     * @param options.asset The asset to trade. tokenAddress and tokenId must be defined.
     * @param options.accountAddress Address of the wallet making the offer.
     * @param options.startAmount Value of the offer in units, not base units e.g. not wei, of the payment token (or WETH if no payment token address specified)
     * @param options.quantity The number of assets to bid for (if fungible or semi-fungible). Defaults to 1.
     * @param options.domain An optional domain to be hashed and included in the first four bytes of the random salt.
     * @param options.salt Arbitrary salt. If not passed in, a random salt will be generated with the first four bytes being the domain hash or empty.
     * @param options.expirationTime Expiration time for the order, in UTC seconds
     * @param options.paymentTokenAddress ERC20 address for the payment token in the order. If unspecified, defaults to WETH
     * @param options.excludeOptionalCreatorFees If true, optional creator fees will be excluded from the offer. Default: true.
     * @param options.zone The zone to use for the order. For order protection, pass SIGNED_ZONE. If unspecified, defaults to no zone.
     *
     * @returns The {@link OrderV2} that was created.
     *
     * @throws Error if the asset does not contain a token id.
     * @throws Error if the accountAddress is not available through wallet or provider.
     * @throws Error if the startAmount is not greater than 0.
     * @throws Error if paymentTokenAddress is not WETH on anything other than Ethereum mainnet.
     */async createOffer({asset,accountAddress,startAmount,quantity=(cov_i250qerm0().b[15][0]++,1),domain,salt,expirationTime,paymentTokenAddress=(cov_i250qerm0().b[16][0]++,(0,utils_2.getWETHAddress)(this.chain)),excludeOptionalCreatorFees=(cov_i250qerm0().b[17][0]++,true),zone=(cov_i250qerm0().b[18][0]++,ethers_1.ZeroAddress)}){cov_i250qerm0().f[13]++;cov_i250qerm0().s[72]++;await this._requireAccountIsAvailable(accountAddress);const{nft}=(cov_i250qerm0().s[73]++,await this.api.getNFT(asset.tokenAddress,asset.tokenId));const considerationAssetItems=(cov_i250qerm0().s[74]++,this.getNFTItems([nft],[BigInt((cov_i250qerm0().b[19][0]++,quantity)??(cov_i250qerm0().b[19][1]++,1))]));const{basePrice}=(cov_i250qerm0().s[75]++,await this._getPriceParameters(types_2.OrderSide.OFFER,paymentTokenAddress,(cov_i250qerm0().b[20][0]++,expirationTime)??(cov_i250qerm0().b[20][1]++,(0,utils_2.getMaxOrderExpirationTimestamp)()),startAmount));const collection=(cov_i250qerm0().s[76]++,await this.api.getCollection(nft.collection));const considerationFeeItems=(cov_i250qerm0().s[77]++,await this.getFees({collection,paymentTokenAddress,startAmount:basePrice,excludeOptionalCreatorFees}));cov_i250qerm0().s[78]++;if(collection.requiredZone){cov_i250qerm0().b[21][0]++;cov_i250qerm0().s[79]++;zone=collection.requiredZone;}else{cov_i250qerm0().b[21][1]++;}const{executeAllActions}=(cov_i250qerm0().s[80]++,await this.seaport_v1_6.createOrder({offer:[{token:paymentTokenAddress,amount:basePrice.toString()}],consideration:[...considerationAssetItems,...considerationFeeItems],endTime:expirationTime!==undefined?(cov_i250qerm0().b[22][0]++,BigInt(expirationTime).toString()):(cov_i250qerm0().b[22][1]++,(0,utils_2.getMaxOrderExpirationTimestamp)().toString()),zone,domain,salt:BigInt((cov_i250qerm0().b[23][0]++,salt)??(cov_i250qerm0().b[23][1]++,0)).toString(),restrictedByZone:zone!==ethers_1.ZeroAddress,allowPartialFills:true},accountAddress));const order=(cov_i250qerm0().s[81]++,await executeAllActions());cov_i250qerm0().s[82]++;return this.api.postOrder(order,{protocol:"seaport",protocolAddress:utils_1.DEFAULT_SEAPORT_CONTRACT_ADDRESS,side:types_2.OrderSide.OFFER});}/**
     * Create and submit a listing for an asset.
     * @param options
     * @param options.asset The asset to trade. tokenAddress and tokenId must be defined.
     * @param options.accountAddress  Address of the wallet making the listing
     * @param options.startAmount Value of the listing at the start of the auction in units, not base units e.g. not wei, of the payment token (or WETH if no payment token address specified)
     * @param options.endAmount Value of the listing at the end of the auction. If specified, price will change linearly between startAmount and endAmount as time progresses.
     * @param options.quantity The number of assets to list (if fungible or semi-fungible). Defaults to 1.
     * @param options.domain An optional domain to be hashed and included in the first four bytes of the random salt. This can be used for on-chain order attribution to assist with analytics.
     * @param options.salt Arbitrary salt. If not passed in, a random salt will be generated with the first four bytes being the domain hash or empty.
     * @param options.listingTime Optional time when the order will become fulfillable, in UTC seconds. Undefined means it will start now.
     * @param options.expirationTime Expiration time for the order, in UTC seconds.
     * @param options.paymentTokenAddress ERC20 address for the payment token in the order. If unspecified, defaults to ETH
     * @param options.buyerAddress Optional address that's allowed to purchase this item. If specified, no other address will be able to take the order, unless its value is the null address.
     * @param options.englishAuction If true, the order will be listed as an English auction.
     * @param options.excludeOptionalCreatorFees If true, optional creator fees will be excluded from the listing. Default: false.
     * @param options.zone The zone to use for the order.  For order protection, pass SIGNED_ZONE. If unspecified, defaults to no zone.
     * @returns The {@link OrderV2} that was created.
     *
     * @throws Error if the asset does not contain a token id.
     * @throws Error if the accountAddress is not available through wallet or provider.
     * @throws Error if the startAmount is not greater than 0.
     * @throws Error if paymentTokenAddress is not WETH on anything other than Ethereum mainnet.
     */async createListing({asset,accountAddress,startAmount,endAmount,quantity=(cov_i250qerm0().b[24][0]++,1),domain,salt,listingTime,expirationTime,paymentTokenAddress=(cov_i250qerm0().b[25][0]++,ethers_1.ethers.ZeroAddress),buyerAddress,englishAuction,excludeOptionalCreatorFees=(cov_i250qerm0().b[26][0]++,false),zone=(cov_i250qerm0().b[27][0]++,ethers_1.ZeroAddress)}){cov_i250qerm0().f[14]++;cov_i250qerm0().s[83]++;await this._requireAccountIsAvailable(accountAddress);const{nft}=(cov_i250qerm0().s[84]++,await this.api.getNFT(asset.tokenAddress,asset.tokenId));const offerAssetItems=(cov_i250qerm0().s[85]++,this.getNFTItems([nft],[BigInt((cov_i250qerm0().b[28][0]++,quantity)??(cov_i250qerm0().b[28][1]++,1))]));cov_i250qerm0().s[86]++;if((cov_i250qerm0().b[30][0]++,englishAuction)&&(cov_i250qerm0().b[30][1]++,paymentTokenAddress==ethers_1.ethers.ZeroAddress)){cov_i250qerm0().b[29][0]++;cov_i250qerm0().s[87]++;throw new Error(`English auctions must use wrapped ETH or an ERC-20 token.`);}else{cov_i250qerm0().b[29][1]++;}const{basePrice,endPrice}=(cov_i250qerm0().s[88]++,await this._getPriceParameters(types_2.OrderSide.LISTING,paymentTokenAddress,(cov_i250qerm0().b[31][0]++,expirationTime)??(cov_i250qerm0().b[31][1]++,(0,utils_2.getMaxOrderExpirationTimestamp)()),startAmount,(cov_i250qerm0().b[32][0]++,endAmount)??(cov_i250qerm0().b[32][1]++,undefined)));const collection=(cov_i250qerm0().s[89]++,await this.api.getCollection(nft.collection));const considerationFeeItems=(cov_i250qerm0().s[90]++,await this.getFees({collection,seller:accountAddress,paymentTokenAddress,startAmount:basePrice,endAmount:endPrice,excludeOptionalCreatorFees}));cov_i250qerm0().s[91]++;if(buyerAddress){cov_i250qerm0().b[33][0]++;cov_i250qerm0().s[92]++;considerationFeeItems.push(...(0,privateListings_1.getPrivateListingConsiderations)(offerAssetItems,buyerAddress));}else{cov_i250qerm0().b[33][1]++;}cov_i250qerm0().s[93]++;if(englishAuction){cov_i250qerm0().b[34][0]++;cov_i250qerm0().s[94]++;zone=(0,utils_2.isTestChain)(this.chain)?(cov_i250qerm0().b[35][0]++,constants_2.ENGLISH_AUCTION_ZONE_TESTNETS):(cov_i250qerm0().b[35][1]++,constants_2.ENGLISH_AUCTION_ZONE_MAINNETS);}else{cov_i250qerm0().b[34][1]++;cov_i250qerm0().s[95]++;if(collection.requiredZone){cov_i250qerm0().b[36][0]++;cov_i250qerm0().s[96]++;zone=collection.requiredZone;}else{cov_i250qerm0().b[36][1]++;}}const{executeAllActions}=(cov_i250qerm0().s[97]++,await this.seaport_v1_6.createOrder({offer:offerAssetItems,consideration:considerationFeeItems,startTime:listingTime?.toString(),endTime:(cov_i250qerm0().b[37][0]++,expirationTime?.toString())??(cov_i250qerm0().b[37][1]++,(0,utils_2.getMaxOrderExpirationTimestamp)().toString()),zone,domain,salt:BigInt((cov_i250qerm0().b[38][0]++,salt)??(cov_i250qerm0().b[38][1]++,0)).toString(),restrictedByZone:zone!==ethers_1.ZeroAddress,allowPartialFills:englishAuction?(cov_i250qerm0().b[39][0]++,false):(cov_i250qerm0().b[39][1]++,true)},accountAddress));const order=(cov_i250qerm0().s[98]++,await executeAllActions());cov_i250qerm0().s[99]++;return this.api.postOrder(order,{protocol:"seaport",protocolAddress:utils_1.DEFAULT_SEAPORT_CONTRACT_ADDRESS,side:types_2.OrderSide.LISTING});}/**
     * Create and submit a collection offer.
     * @param options
     * @param options.collectionSlug Identifier for the collection.
     * @param options.accountAddress Address of the wallet making the offer.
     * @param options.amount Value of the offer in units, not base units e.g. not wei, of the payment token (or WETH if no payment token address specified).
     * @param options.quantity The number of assets to bid for (if fungible or semi-fungible).
     * @param options.domain An optional domain to be hashed and included in the first four bytes of the random salt. This can be used for on-chain order attribution to assist with analytics.
     * @param options.salt Arbitrary salt. If not passed in, a random salt will be generated with the first four bytes being the domain hash or empty.
     * @param options.expirationTime Expiration time for the order, in UTC seconds.
     * @param options.paymentTokenAddress ERC20 address for the payment token in the order. If unspecified, defaults to WETH.
     * @param options.excludeOptionalCreatorFees If true, optional creator fees will be excluded from the offer. Default: false.
     * @param options.offerProtectionEnabled Build the offer on OpenSea's signed zone to provide offer protections from receiving an item which is disabled from trading.
     * @param options.traitType If defined, the trait name to create the collection offer for.
     * @param options.traitValue If defined, the trait value to create the collection offer for.
     * @returns The {@link CollectionOffer} that was created.
     */async createCollectionOffer({collectionSlug,accountAddress,amount,quantity,domain,salt,expirationTime,paymentTokenAddress=(cov_i250qerm0().b[40][0]++,(0,utils_2.getWETHAddress)(this.chain)),excludeOptionalCreatorFees=(cov_i250qerm0().b[41][0]++,false),offerProtectionEnabled=(cov_i250qerm0().b[42][0]++,true),traitType,traitValue}){cov_i250qerm0().f[15]++;cov_i250qerm0().s[100]++;await this._requireAccountIsAvailable(accountAddress);const collection=(cov_i250qerm0().s[101]++,await this.api.getCollection(collectionSlug));const buildOfferResult=(cov_i250qerm0().s[102]++,await this.api.buildOffer(accountAddress,quantity,collectionSlug,offerProtectionEnabled,traitType,traitValue));const item=(cov_i250qerm0().s[103]++,buildOfferResult.partialParameters.consideration[0]);const convertedConsiderationItem=(cov_i250qerm0().s[104]++,{itemType:item.itemType,token:item.token,identifier:item.identifierOrCriteria,amount:item.startAmount});const{basePrice}=(cov_i250qerm0().s[105]++,await this._getPriceParameters(types_2.OrderSide.LISTING,paymentTokenAddress,(cov_i250qerm0().b[43][0]++,expirationTime)??(cov_i250qerm0().b[43][1]++,(0,utils_2.getMaxOrderExpirationTimestamp)()),amount));const considerationFeeItems=(cov_i250qerm0().s[106]++,await this.getFees({collection,paymentTokenAddress,startAmount:basePrice,endAmount:basePrice,excludeOptionalCreatorFees}));const considerationItems=(cov_i250qerm0().s[107]++,[convertedConsiderationItem,...considerationFeeItems]);const payload=(cov_i250qerm0().s[108]++,{offerer:accountAddress,offer:[{token:paymentTokenAddress,amount:basePrice.toString()}],consideration:considerationItems,endTime:(cov_i250qerm0().b[44][0]++,expirationTime?.toString())??(cov_i250qerm0().b[44][1]++,(0,utils_2.getMaxOrderExpirationTimestamp)().toString()),zone:buildOfferResult.partialParameters.zone,domain,salt:BigInt((cov_i250qerm0().b[45][0]++,salt)??(cov_i250qerm0().b[45][1]++,0)).toString(),restrictedByZone:true,allowPartialFills:true});const{executeAllActions}=(cov_i250qerm0().s[109]++,await this.seaport_v1_6.createOrder(payload,accountAddress));const order=(cov_i250qerm0().s[110]++,await executeAllActions());cov_i250qerm0().s[111]++;return this.api.postCollectionOffer(order,collectionSlug,traitType,traitValue);}/**
     * Fulfill a private order for a designated address.
     * @param options
     * @param options.order The order to fulfill
     * @param options.accountAddress Address of the wallet taking the order.
     * @param options.domain An optional domain to be hashed and included at the end of fulfillment calldata.
     *                       This can be used for on-chain order attribution to assist with analytics.
     * @param options.overrides Transaction overrides, ignored if not set.
     * @returns Transaction hash of the order.
     */async fulfillPrivateOrder({order,accountAddress,domain,overrides}){cov_i250qerm0().f[16]++;cov_i250qerm0().s[112]++;if(!order.taker?.address){cov_i250qerm0().b[46][0]++;cov_i250qerm0().s[113]++;throw new Error("Order is not a private listing - must have a taker address");}else{cov_i250qerm0().b[46][1]++;}const counterOrder=(cov_i250qerm0().s[114]++,(0,privateListings_1.constructPrivateListingCounterOrder)(order.protocolData,order.taker.address));const fulfillments=(cov_i250qerm0().s[115]++,(0,privateListings_1.getPrivateListingFulfillments)(order.protocolData));const seaport=(cov_i250qerm0().s[116]++,this.getSeaport(order.protocolAddress));const transaction=(cov_i250qerm0().s[117]++,await seaport.matchOrders({orders:[order.protocolData,counterOrder],fulfillments,overrides:{...overrides,value:counterOrder.parameters.offer[0].startAmount},accountAddress,domain}).transact());const transactionReceipt=(cov_i250qerm0().s[118]++,await transaction.wait());cov_i250qerm0().s[119]++;if(!transactionReceipt){cov_i250qerm0().b[47][0]++;cov_i250qerm0().s[120]++;throw new Error("Missing transaction receipt");}else{cov_i250qerm0().b[47][1]++;}cov_i250qerm0().s[121]++;await this._confirmTransaction(transactionReceipt.hash,types_2.EventType.MatchOrders,"Fulfilling order");cov_i250qerm0().s[122]++;return transactionReceipt.hash;}/**
     * Fulfill an order for an asset. The order can be either a listing or an offer.
     * @param options
     * @param options.order The order to fulfill, a.k.a. "take"
     * @param options.accountAddress Address of the wallet taking the offer.
     * @param options.recipientAddress The optional address to receive the order's item(s) or currencies. If not specified, defaults to accountAddress.
     * @param options.domain An optional domain to be hashed and included at the end of fulfillment calldata.  This can be used for on-chain order attribution to assist with analytics.
     * @param options.overrides Transaction overrides, ignored if not set.
     * @returns Transaction hash of the order.
     *
     * @throws Error if the accountAddress is not available through wallet or provider.
     * @throws Error if the order's protocol address is not supported by OpenSea. See {@link isValidProtocol}.
     * @throws Error if attempting to fulfill the order with a recipient address which does not match a private listing.
     */async fulfillOrder({order,accountAddress,recipientAddress,domain,overrides}){cov_i250qerm0().f[17]++;cov_i250qerm0().s[123]++;await this._requireAccountIsAvailable(accountAddress);const protocolAddress=(cov_i250qerm0().s[124]++,(cov_i250qerm0().b[48][0]++,order.protocolAddress)??(cov_i250qerm0().b[48][1]++,order.protocol_address));cov_i250qerm0().s[125]++;(0,utils_2.requireValidProtocol)(protocolAddress);const orderHash=(cov_i250qerm0().s[126]++,(cov_i250qerm0().b[49][0]++,order.orderHash)??(cov_i250qerm0().b[49][1]++,order.order_hash));const side=(cov_i250qerm0().s[127]++,(cov_i250qerm0().b[50][0]++,order.side)??(cov_i250qerm0().b[50][1]++,[types_1.OrderType.BASIC,types_1.OrderType.ENGLISH].includes(order.type)?(cov_i250qerm0().b[51][0]++,types_2.OrderSide.LISTING):(cov_i250qerm0().b[51][1]++,types_2.OrderSide.OFFER)));let extraData=(cov_i250qerm0().s[128]++,undefined);const protocolData=(cov_i250qerm0().s[129]++,(cov_i250qerm0().b[52][0]++,order.protocolData)??(cov_i250qerm0().b[52][1]++,order.protocol_data));cov_i250qerm0().s[130]++;if(orderHash){cov_i250qerm0().b[53][0]++;const result=(cov_i250qerm0().s[131]++,await this.api.generateFulfillmentData(accountAddress,orderHash,protocolAddress,side));// If the order is using offer protection, the extraData
// must be included with the order to successfully fulfill.
const inputData=(cov_i250qerm0().s[132]++,result.fulfillment_data.transaction.input_data);cov_i250qerm0().s[133]++;if((cov_i250qerm0().b[55][0]++,"orders"in inputData)&&(cov_i250qerm0().b[55][1]++,"extraData"in inputData.orders[0])){cov_i250qerm0().b[54][0]++;cov_i250qerm0().s[134]++;extraData=inputData.orders[0].extraData;}else{cov_i250qerm0().b[54][1]++;}const signature=(cov_i250qerm0().s[135]++,result.fulfillment_data.orders[0].signature);cov_i250qerm0().s[136]++;protocolData.signature=signature;}else{cov_i250qerm0().b[53][1]++;}const isPrivateListing=(cov_i250qerm0().s[137]++,"taker"in order?(cov_i250qerm0().b[56][0]++,!!order.taker):(cov_i250qerm0().b[56][1]++,false));cov_i250qerm0().s[138]++;if(isPrivateListing){cov_i250qerm0().b[57][0]++;cov_i250qerm0().s[139]++;if(recipientAddress){cov_i250qerm0().b[58][0]++;cov_i250qerm0().s[140]++;throw new Error("Private listings cannot be fulfilled with a recipient address");}else{cov_i250qerm0().b[58][1]++;}cov_i250qerm0().s[141]++;return this.fulfillPrivateOrder({order:order,accountAddress,domain,overrides});}else{cov_i250qerm0().b[57][1]++;}const seaport=(cov_i250qerm0().s[142]++,this.getSeaport(protocolAddress));const{executeAllActions}=(cov_i250qerm0().s[143]++,await seaport.fulfillOrder({order:protocolData,accountAddress,recipientAddress,extraData,domain,overrides}));const transaction=(cov_i250qerm0().s[144]++,await executeAllActions());const transactionHash=(cov_i250qerm0().s[145]++,ethers_1.ethers.Transaction.from(transaction).hash);cov_i250qerm0().s[146]++;if(!transactionHash){cov_i250qerm0().b[59][0]++;cov_i250qerm0().s[147]++;throw new Error("Missing transaction hash");}else{cov_i250qerm0().b[59][1]++;}cov_i250qerm0().s[148]++;await this._confirmTransaction(transactionHash,types_2.EventType.MatchOrders,"Fulfilling order");cov_i250qerm0().s[149]++;return transactionHash;}/**
     * Utility function to get the Seaport client based on the address.
     * @param protocolAddress The Seaport address.
     */getSeaport(protocolAddress){cov_i250qerm0().f[18]++;const checksummedProtocolAddress=(cov_i250qerm0().s[150]++,ethers_1.ethers.getAddress(protocolAddress));cov_i250qerm0().s[151]++;switch(checksummedProtocolAddress){case constants_1.CROSS_CHAIN_SEAPORT_V1_5_ADDRESS:cov_i250qerm0().b[60][0]++;cov_i250qerm0().s[152]++;return this.seaport_v1_5;case constants_1.CROSS_CHAIN_SEAPORT_V1_6_ADDRESS:cov_i250qerm0().b[60][1]++;cov_i250qerm0().s[153]++;return this.seaport_v1_6;default:cov_i250qerm0().b[60][2]++;cov_i250qerm0().s[154]++;throw new Error(`Unsupported protocol address: ${protocolAddress}`);}}/**
     * Cancel orders onchain, preventing them from being fulfilled.
     * @param options
     * @param options.orders The orders to cancel
     * @param options.accountAddress The account address cancelling the orders.
     * @param options.domain An optional domain to be hashed and included at the end of fulfillment calldata.
     *                       This can be used for on-chain order attribution to assist with analytics.
     * @param options.overrides Transaction overrides, ignored if not set.
     * @returns Transaction hash of the order.
     */async cancelSeaportOrders({orders,accountAddress,domain,protocolAddress=(cov_i250qerm0().b[61][0]++,utils_1.DEFAULT_SEAPORT_CONTRACT_ADDRESS),overrides}){cov_i250qerm0().f[19]++;const seaport=(cov_i250qerm0().s[155]++,this.getSeaport(protocolAddress));const transaction=(cov_i250qerm0().s[156]++,await seaport.cancelOrders(orders,accountAddress,domain,overrides).transact());cov_i250qerm0().s[157]++;return transaction.hash;}/**
     * Cancel an order onchain, preventing it from ever being fulfilled.
     * @param options
     * @param options.order The order to cancel
     * @param options.accountAddress The account address that will be cancelling the order.
     * @param options.domain An optional domain to be hashed and included at the end of fulfillment calldata.  This can be used for on-chain order attribution to assist with analytics.
     *
     * @throws Error if the accountAddress is not available through wallet or provider.
     * @throws Error if the order's protocol address is not supported by OpenSea. See {@link isValidProtocol}.
     */async cancelOrder({order,accountAddress,domain}){cov_i250qerm0().f[20]++;cov_i250qerm0().s[158]++;await this._requireAccountIsAvailable(accountAddress);cov_i250qerm0().s[159]++;(0,utils_2.requireValidProtocol)(order.protocolAddress);cov_i250qerm0().s[160]++;this._dispatch(types_2.EventType.CancelOrder,{orderV2:order,accountAddress});// Transact and get the transaction hash
const transactionHash=(cov_i250qerm0().s[161]++,await this.cancelSeaportOrders({orders:[order.protocolData.parameters],accountAddress,domain,protocolAddress:order.protocolAddress}));// Await transaction confirmation
cov_i250qerm0().s[162]++;await this._confirmTransaction(transactionHash,types_2.EventType.CancelOrder,"Cancelling order");}_getSeaportVersion(protocolAddress){cov_i250qerm0().f[21]++;const protocolAddressChecksummed=(cov_i250qerm0().s[163]++,ethers_1.ethers.getAddress(protocolAddress));cov_i250qerm0().s[164]++;switch(protocolAddressChecksummed){case constants_1.CROSS_CHAIN_SEAPORT_V1_6_ADDRESS:cov_i250qerm0().b[62][0]++;cov_i250qerm0().s[165]++;return"1.6";case constants_1.CROSS_CHAIN_SEAPORT_V1_5_ADDRESS:cov_i250qerm0().b[62][1]++;cov_i250qerm0().s[166]++;return"1.5";default:cov_i250qerm0().b[62][2]++;cov_i250qerm0().s[167]++;throw new Error("Unknown or unsupported protocol address");}}/**
     * Get the offerer signature for canceling an order offchain.
     * The signature will only be valid if the signer address is the address of the order's offerer.
     */async _getOffererSignature(protocolAddress,orderHash,chain){cov_i250qerm0().f[22]++;const chainId=(cov_i250qerm0().s[168]++,(0,utils_2.getChainId)(chain));const name=(cov_i250qerm0().s[169]++,"Seaport");const version=(cov_i250qerm0().s[170]++,this._getSeaportVersion(protocolAddress));cov_i250qerm0().s[171]++;if(typeof this._signerOrProvider.signTypedData=="undefined"){cov_i250qerm0().b[63][0]++;cov_i250qerm0().s[172]++;throw new Error("Please pass an ethers Signer into this sdk to derive an offerer signature");}else{cov_i250qerm0().b[63][1]++;}cov_i250qerm0().s[173]++;return this._signerOrProvider.signTypedData({chainId,name,version,verifyingContract:protocolAddress},{OrderHash:[{name:"orderHash",type:"bytes32"}]},{orderHash});}/**
     * Offchain cancel an order, offer or listing, by its order hash when protected by the SignedZone.
     * Protocol and Chain are required to prevent hash collisions.
     * Please note cancellation is only assured if a fulfillment signature was not vended prior to cancellation.
     * @param protocolAddress The Seaport address for the order.
     * @param orderHash The order hash, or external identifier, of the order.
     * @param chain The chain where the order is located.
     * @param offererSignature An EIP-712 signature from the offerer of the order.
     *                         If this is not provided, the user associated with the API Key will be checked instead.
     *                         The signature must be a EIP-712 signature consisting of the order's Seaport contract's
     *                         name, version, address, and chain. The struct to sign is `OrderHash` containing a
     *                         single bytes32 field.
     * @param useSignerToDeriveOffererSignature Derive the offererSignature from the Ethers signer passed into this sdk.
     * @returns The response from the API.
     */async offchainCancelOrder(protocolAddress,orderHash,chain=(cov_i250qerm0().b[64][0]++,this.chain),offererSignature,useSignerToDeriveOffererSignature){cov_i250qerm0().f[23]++;cov_i250qerm0().s[174]++;if(useSignerToDeriveOffererSignature){cov_i250qerm0().b[65][0]++;cov_i250qerm0().s[175]++;offererSignature=await this._getOffererSignature(protocolAddress,orderHash,chain);}else{cov_i250qerm0().b[65][1]++;}cov_i250qerm0().s[176]++;return this.api.offchainCancelOrder(protocolAddress,orderHash,chain,offererSignature);}/**
     * Returns whether an order is fulfillable.
     * An order may not be fulfillable if a target item's transfer function
     * is locked for some reason, e.g. an item is being rented within a game
     * or trading has been locked for an item type.
     * @param options
     * @param options.order Order to check
     * @param options.accountAddress The account address that will be fulfilling the order
     * @returns True if the order is fulfillable, else False.
     *
     * @throws Error if the order's protocol address is not supported by OpenSea. See {@link isValidProtocol}.
     */async isOrderFulfillable({order,accountAddress}){cov_i250qerm0().f[24]++;cov_i250qerm0().s[177]++;(0,utils_2.requireValidProtocol)(order.protocolAddress);const seaport=(cov_i250qerm0().s[178]++,this.getSeaport(order.protocolAddress));cov_i250qerm0().s[179]++;try{const isValid=(cov_i250qerm0().s[180]++,await seaport.validate([order.protocolData],accountAddress).staticCall());cov_i250qerm0().s[181]++;return!!isValid;}catch(error){cov_i250qerm0().s[182]++;if((cov_i250qerm0().b[67][0]++,(0,utils_2.hasErrorCode)(error))&&(cov_i250qerm0().b[67][1]++,error.code==="CALL_EXCEPTION")){cov_i250qerm0().b[66][0]++;cov_i250qerm0().s[183]++;return false;}else{cov_i250qerm0().b[66][1]++;}cov_i250qerm0().s[184]++;throw error;}}/**
     * Get an account's balance of any Asset. This asset can be an ERC20, ERC1155, or ERC721.
     * @param options
     * @param options.accountAddress Account address to check
     * @param options.asset The Asset to check balance for. tokenStandard must be set.
     * @returns The balance of the asset for the account.
     *
     * @throws Error if the token standard does not support balanceOf.
     */async getBalance({accountAddress,asset}){cov_i250qerm0().f[25]++;cov_i250qerm0().s[185]++;switch(asset.tokenStandard){case types_2.TokenStandard.ERC20:cov_i250qerm0().b[68][0]++;{const contract=(cov_i250qerm0().s[186]++,contracts_1.ERC20__factory.connect(asset.tokenAddress,this.provider));cov_i250qerm0().s[187]++;return await contract.balanceOf.staticCall(accountAddress);}case types_2.TokenStandard.ERC1155:cov_i250qerm0().b[68][1]++;{cov_i250qerm0().s[188]++;if((cov_i250qerm0().b[70][0]++,asset.tokenId===undefined)||(cov_i250qerm0().b[70][1]++,asset.tokenId===null)){cov_i250qerm0().b[69][0]++;cov_i250qerm0().s[189]++;throw new Error("Missing ERC1155 tokenId for getBalance");}else{cov_i250qerm0().b[69][1]++;}const contract=(cov_i250qerm0().s[190]++,contracts_1.ERC1155__factory.connect(asset.tokenAddress,this.provider));cov_i250qerm0().s[191]++;return await contract.balanceOf.staticCall(accountAddress,asset.tokenId);}case types_2.TokenStandard.ERC721:cov_i250qerm0().b[68][2]++;{cov_i250qerm0().s[192]++;if((cov_i250qerm0().b[72][0]++,asset.tokenId===undefined)||(cov_i250qerm0().b[72][1]++,asset.tokenId===null)){cov_i250qerm0().b[71][0]++;cov_i250qerm0().s[193]++;throw new Error("Missing ERC721 tokenId for getBalance");}else{cov_i250qerm0().b[71][1]++;}const contract=(cov_i250qerm0().s[194]++,contracts_1.ERC721__factory.connect(asset.tokenAddress,this.provider));cov_i250qerm0().s[195]++;try{const owner=(cov_i250qerm0().s[196]++,await contract.ownerOf.staticCall(asset.tokenId));cov_i250qerm0().s[197]++;return BigInt(owner.toLowerCase()==accountAddress.toLowerCase());// eslint-disable-next-line @typescript-eslint/no-explicit-any
}catch(error){cov_i250qerm0().s[198]++;this.logger(`Failed to get ownerOf ERC721: ${(cov_i250qerm0().b[73][0]++,error.message)??(cov_i250qerm0().b[73][1]++,error)}`);cov_i250qerm0().s[199]++;return 0n;}}default:cov_i250qerm0().b[68][3]++;cov_i250qerm0().s[200]++;throw new Error("Unsupported token standard for getBalance");}}/**
     * Transfer an asset. This asset can be an ERC20, ERC1155, or ERC721.
     * @param options
     * @param options.asset The Asset to transfer. tokenStandard must be set.
     * @param options.amount Amount of asset to transfer. Not used for ERC721.
     * @param options.fromAddress The address to transfer from
     * @param options.toAddress The address to transfer to
     * @param options.overrides Transaction overrides, ignored if not set.
     */async transfer({asset,amount,fromAddress,toAddress,overrides}){cov_i250qerm0().f[26]++;cov_i250qerm0().s[201]++;await this._requireAccountIsAvailable(fromAddress);cov_i250qerm0().s[202]++;overrides={...overrides,from:fromAddress};let transaction;cov_i250qerm0().s[203]++;switch(asset.tokenStandard){case types_2.TokenStandard.ERC20:cov_i250qerm0().b[74][0]++;{cov_i250qerm0().s[204]++;if(!amount){cov_i250qerm0().b[75][0]++;cov_i250qerm0().s[205]++;throw new Error("Missing ERC20 amount for transfer");}else{cov_i250qerm0().b[75][1]++;}const contract=(cov_i250qerm0().s[206]++,contracts_1.ERC20__factory.connect(asset.tokenAddress,this._signerOrProvider));cov_i250qerm0().s[207]++;transaction=contract.transfer(toAddress,amount,overrides);cov_i250qerm0().s[208]++;break;}case types_2.TokenStandard.ERC1155:cov_i250qerm0().b[74][1]++;{cov_i250qerm0().s[209]++;if((cov_i250qerm0().b[77][0]++,asset.tokenId===undefined)||(cov_i250qerm0().b[77][1]++,asset.tokenId===null)){cov_i250qerm0().b[76][0]++;cov_i250qerm0().s[210]++;throw new Error("Missing ERC1155 tokenId for transfer");}else{cov_i250qerm0().b[76][1]++;}cov_i250qerm0().s[211]++;if(!amount){cov_i250qerm0().b[78][0]++;cov_i250qerm0().s[212]++;throw new Error("Missing ERC1155 amount for transfer");}else{cov_i250qerm0().b[78][1]++;}const contract=(cov_i250qerm0().s[213]++,contracts_1.ERC1155__factory.connect(asset.tokenAddress,this._signerOrProvider));cov_i250qerm0().s[214]++;transaction=contract.safeTransferFrom(fromAddress,toAddress,asset.tokenId,amount,"",overrides);cov_i250qerm0().s[215]++;break;}case types_2.TokenStandard.ERC721:cov_i250qerm0().b[74][2]++;{cov_i250qerm0().s[216]++;if((cov_i250qerm0().b[80][0]++,asset.tokenId===undefined)||(cov_i250qerm0().b[80][1]++,asset.tokenId===null)){cov_i250qerm0().b[79][0]++;cov_i250qerm0().s[217]++;throw new Error("Missing ERC721 tokenId for transfer");}else{cov_i250qerm0().b[79][1]++;}const contract=(cov_i250qerm0().s[218]++,contracts_1.ERC721__factory.connect(asset.tokenAddress,this._signerOrProvider));cov_i250qerm0().s[219]++;transaction=contract.transferFrom(fromAddress,toAddress,asset.tokenId,overrides);cov_i250qerm0().s[220]++;break;}default:cov_i250qerm0().b[74][3]++;cov_i250qerm0().s[221]++;throw new Error("Unsupported token standard for transfer");}cov_i250qerm0().s[222]++;try{const transactionResponse=(cov_i250qerm0().s[223]++,await transaction);cov_i250qerm0().s[224]++;await this._confirmTransaction(transactionResponse.hash,types_2.EventType.Transfer,"Transferring asset");}catch(error){cov_i250qerm0().s[225]++;console.error(error);cov_i250qerm0().s[226]++;this._dispatch(types_2.EventType.TransactionDenied,{error,accountAddress:fromAddress});}}/**
     * Instead of signing an off-chain order, this methods allows you to approve an order
     * with on on-chain transaction.
     * @param order Order to approve
     * @param domain An optional domain to be hashed and included at the end of fulfillment calldata.  This can be used for on-chain order attribution to assist with analytics.
     * @returns Transaction hash of the approval transaction
     *
     * @throws Error if the accountAddress is not available through wallet or provider.
     * @throws Error if the order's protocol address is not supported by OpenSea. See {@link isValidProtocol}.
     */async approveOrder(order,domain){cov_i250qerm0().f[27]++;cov_i250qerm0().s[227]++;await this._requireAccountIsAvailable(order.maker.address);cov_i250qerm0().s[228]++;(0,utils_2.requireValidProtocol)(order.protocolAddress);cov_i250qerm0().s[229]++;this._dispatch(types_2.EventType.ApproveOrder,{orderV2:order,accountAddress:order.maker.address});const seaport=(cov_i250qerm0().s[230]++,this.getSeaport(order.protocolAddress));const transaction=(cov_i250qerm0().s[231]++,await seaport.validate([order.protocolData],order.maker.address,domain).transact());cov_i250qerm0().s[232]++;await this._confirmTransaction(transaction.hash,types_2.EventType.ApproveOrder,"Approving order");cov_i250qerm0().s[233]++;return transaction.hash;}/**
     * Compute the `basePrice` and `endPrice` parameters to be used to price an order.
     * Also validates the expiration time and auction type.
     * @param tokenAddress Address of the ERC-20 token to use for trading. Use the null address for ETH.
     * @param expirationTime When the auction expires, or 0 if never.
     * @param startAmount The base value for the order, in the token's main units (e.g. ETH instead of wei)
     * @param endAmount The end value for the order, in the token's main units (e.g. ETH instead of wei)
     */async _getPriceParameters(orderSide,tokenAddress,expirationTime,startAmount,endAmount){cov_i250qerm0().f[28]++;cov_i250qerm0().s[234]++;tokenAddress=tokenAddress.toLowerCase();const isEther=(cov_i250qerm0().s[235]++,tokenAddress===ethers_1.ethers.ZeroAddress);let decimals=(cov_i250qerm0().s[236]++,18);cov_i250qerm0().s[237]++;if(!isEther){cov_i250qerm0().b[81][0]++;cov_i250qerm0().s[238]++;if(tokenAddress in this._cachedPaymentTokenDecimals){cov_i250qerm0().b[82][0]++;cov_i250qerm0().s[239]++;decimals=this._cachedPaymentTokenDecimals[tokenAddress];}else{cov_i250qerm0().b[82][1]++;const paymentToken=(cov_i250qerm0().s[240]++,await this.api.getPaymentToken(tokenAddress));cov_i250qerm0().s[241]++;this._cachedPaymentTokenDecimals[tokenAddress]=paymentToken.decimals;cov_i250qerm0().s[242]++;decimals=paymentToken.decimals;}}else{cov_i250qerm0().b[81][1]++;}const startAmountWei=(cov_i250qerm0().s[243]++,ethers_1.ethers.parseUnits(startAmount.toString(),decimals));const endAmountWei=(cov_i250qerm0().s[244]++,endAmount?(cov_i250qerm0().b[83][0]++,ethers_1.ethers.parseUnits(endAmount.toString(),decimals)):(cov_i250qerm0().b[83][1]++,undefined));const priceDiffWei=(cov_i250qerm0().s[245]++,endAmountWei!==undefined?(cov_i250qerm0().b[84][0]++,startAmountWei-endAmountWei):(cov_i250qerm0().b[84][1]++,0n));const basePrice=(cov_i250qerm0().s[246]++,startAmountWei);const endPrice=(cov_i250qerm0().s[247]++,endAmountWei);// Validation
cov_i250qerm0().s[248]++;if((cov_i250qerm0().b[86][0]++,startAmount==null)||(cov_i250qerm0().b[86][1]++,startAmountWei<0)){cov_i250qerm0().b[85][0]++;cov_i250qerm0().s[249]++;throw new Error("Starting price must be a number >= 0");}else{cov_i250qerm0().b[85][1]++;}cov_i250qerm0().s[250]++;if((cov_i250qerm0().b[88][0]++,isEther)&&(cov_i250qerm0().b[88][1]++,orderSide===types_2.OrderSide.OFFER)){cov_i250qerm0().b[87][0]++;cov_i250qerm0().s[251]++;throw new Error("Offers must use wrapped ETH or an ERC-20 token.");}else{cov_i250qerm0().b[87][1]++;}cov_i250qerm0().s[252]++;if(priceDiffWei<0){cov_i250qerm0().b[89][0]++;cov_i250qerm0().s[253]++;throw new Error("End price must be less than or equal to the start price.");}else{cov_i250qerm0().b[89][1]++;}cov_i250qerm0().s[254]++;if((cov_i250qerm0().b[91][0]++,priceDiffWei>0)&&(cov_i250qerm0().b[91][1]++,BigInt(expirationTime)===0n)){cov_i250qerm0().b[90][0]++;cov_i250qerm0().s[255]++;throw new Error("Expiration time must be set if order will change in price.");}else{cov_i250qerm0().b[90][1]++;}cov_i250qerm0().s[256]++;return{basePrice,endPrice};}_dispatch(event,data){cov_i250qerm0().f[29]++;cov_i250qerm0().s[257]++;this._emitter.emit(event,data);}/** Get the accounts available from the signer or provider. */async _getAvailableAccounts(){cov_i250qerm0().f[30]++;const availableAccounts=(cov_i250qerm0().s[258]++,[]);cov_i250qerm0().s[259]++;if("address"in this._signerOrProvider){cov_i250qerm0().b[92][0]++;cov_i250qerm0().s[260]++;availableAccounts.push(this._signerOrProvider.address);}else{cov_i250qerm0().b[92][1]++;cov_i250qerm0().s[261]++;if("listAccounts"in this._signerOrProvider){cov_i250qerm0().b[93][0]++;const addresses=(cov_i250qerm0().s[262]++,(await this._signerOrProvider.listAccounts()).map(acct=>{cov_i250qerm0().f[31]++;cov_i250qerm0().s[263]++;return acct.address;}));cov_i250qerm0().s[264]++;availableAccounts.push(...addresses);}else{cov_i250qerm0().b[93][1]++;cov_i250qerm0().s[265]++;if("getAddress"in this._signerOrProvider){cov_i250qerm0().b[94][0]++;cov_i250qerm0().s[266]++;availableAccounts.push(await this._signerOrProvider.getAddress());}else{cov_i250qerm0().b[94][1]++;}}}cov_i250qerm0().s[267]++;return availableAccounts;}/**
     * Throws an error if an account is not available through the provider.
     * @param accountAddress The account address to check is available.
     */async _requireAccountIsAvailable(accountAddress){cov_i250qerm0().f[32]++;const accountAddressChecksummed=(cov_i250qerm0().s[268]++,ethers_1.ethers.getAddress(accountAddress));const availableAccounts=(cov_i250qerm0().s[269]++,await this._getAvailableAccounts());cov_i250qerm0().s[270]++;if(availableAccounts.includes(accountAddressChecksummed)){cov_i250qerm0().b[95][0]++;cov_i250qerm0().s[271]++;return;}else{cov_i250qerm0().b[95][1]++;}cov_i250qerm0().s[272]++;throw new Error(`Specified accountAddress is not available through wallet or provider: ${accountAddressChecksummed}. Accounts available: ${availableAccounts.length>0?(cov_i250qerm0().b[96][0]++,availableAccounts.join(", ")):(cov_i250qerm0().b[96][1]++,"none")}`);}/**
     * Wait for a transaction to confirm and log the success or failure.
     * @param transactionHash The transaction hash to wait for.
     * @param event The event type to log.
     * @param description The description of the transaction.
     */async _confirmTransaction(transactionHash,event,description){cov_i250qerm0().f[33]++;const transactionEventData=(cov_i250qerm0().s[273]++,{transactionHash,event});cov_i250qerm0().s[274]++;this.logger(`Transaction started: ${description}`);cov_i250qerm0().s[275]++;try{cov_i250qerm0().s[276]++;this._dispatch(types_2.EventType.TransactionCreated,transactionEventData);cov_i250qerm0().s[277]++;await this.provider.waitForTransaction(transactionHash);cov_i250qerm0().s[278]++;this.logger(`Transaction succeeded: ${description}`);cov_i250qerm0().s[279]++;this._dispatch(types_2.EventType.TransactionConfirmed,transactionEventData);}catch(error){cov_i250qerm0().s[280]++;this.logger(`Transaction failed: ${description}`);cov_i250qerm0().s[281]++;this._dispatch(types_2.EventType.TransactionFailed,{...transactionEventData,error});cov_i250qerm0().s[282]++;throw error;}}}cov_i250qerm0().s[283]++;exports.OpenSeaSDK=OpenSeaSDK;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL3JnL2Rldi9vcGVuc2VhLWpzL3NyYy9zZGsudHMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9yZy9kZXYvb3BlbnNlYS1qcy9zcmMvc2RrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLHVDQUF3QztBQUN4QyxvREFBOEM7QUFDOUMsaUVBSTJDO0FBTzNDLG1DQVdnQjtBQUNoQixtQ0FBdUM7QUFFdkMsMkNBSXFCO0FBQ3JCLDhEQUlrQztBQUNsQywwQ0FBb0Q7QUFDcEQsMENBQWtFO0FBQ2xFLHFEQUkrQjtBQUMvQixtQ0FVaUI7QUFDakIseUNBV3VCO0FBRXZCOzs7R0FHRztBQUNILE1BQWEsVUFBVTtJQW1CckI7Ozs7Ozs7T0FPRztJQUNILFlBQ0UsZ0JBQTBDLEVBQzFDLFlBQThCLEVBQUUsRUFDaEMsTUFBOEI7UUFqQmhDLDZFQUE2RTtRQUNyRSxnQ0FBMkIsR0FBa0MsRUFBRSxDQUFDO1FBK0toRSxvQ0FBK0IsR0FBRyxDQUN4QyxNQUFjLEVBQ2QsV0FBbUIsRUFDWCxFQUFFO1lBQ1YsT0FBTyxDQUFDLENBQUMsTUFBTSxHQUFHLFdBQVcsQ0FBQyxHQUFHLCtCQUFtQixDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDbkUsQ0FBQyxDQUFDO1FBbEtBLGFBQWE7UUFDYixTQUFTLENBQUMsS0FBSyxLQUFmLFNBQVMsQ0FBQyxLQUFLLEdBQUssYUFBSyxDQUFDLE9BQU8sRUFBQztRQUNsQyxJQUFJLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUM7UUFDN0IsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLGdCQUFVLENBQUMsU0FBUyxDQUFDLENBQUM7UUFFckMsSUFBSSxDQUFDLFFBQVEsR0FBRyxDQUFFLGdCQUEyQixDQUFDLFFBQVE7WUFDcEQsZ0JBQWdCLENBQW9CLENBQUM7UUFDdkMsSUFBSSxDQUFDLGlCQUFpQixHQUFHLGdCQUFnQixJQUFJLElBQUksQ0FBQyxRQUFRLENBQUM7UUFFM0QsOERBQThEO1FBQzlELElB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QUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFDaEUsRUFBRSxDQUNILENBQUM7SUFDSixDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSyxLQUFLLENBQUMsbUJBQW1CLENBQy9CLGVBQXVCLEVBQ3ZCLEtBQWdCLEVBQ2hCLFdBQW1CO1FBRW5CLE1BQU0sb0JBQW9CLEdBQUcsRUFBRSxlQUFlLEVBQUUsS0FBSyxFQUFFLENBQUM7UUFDeEQsSUFBSSxDQUFDLE1BQU0sQ0FBQyx3QkFBd0IsV0FBVyxFQUFFLENBQUMsQ0FBQztRQUVuRCxJQUFJLENBQUM7WUFDSCxJQUFJLENBQUMsU0FBUyxDQUFDLGlCQUFTLENBQUMsa0JBQWtCLEVBQUUsb0JBQW9CLENBQUMsQ0FBQztZQUNuRSxNQUFNLElBQUksQ0FBQyxRQUFRLENBQUMsa0JBQWtCLENBQUMsZUFBZSxDQUFDLENBQUM7WUFDeEQsSUFBSSxDQUFDLE1BQU0sQ0FBQywwQkFBMEIsV0FBVyxFQUFFLENBQUMsQ0FBQztZQUNyRCxJQUFJLENBQUMsU0FBUyxDQUFDLGlCQUFTLENBQUMsb0JBQW9CLEVBQUUsb0JBQW9CLENBQUMsQ0FBQztRQUN2RSxDQUFDO1FBQUMsT0FBTyxLQUFLLEVBQUUsQ0FBQztZQUNmLElBQUksQ0FBQyxNQUFNLENBQUMsdUJBQXVCLFdBQVcsRUFBRSxDQUFDLENBQUM7WUFDbEQsSUFBSSxDQUFDLFNBQVMsQ0FBQyxpQkFBUyxDQUFDLGlCQUFpQixFQUFFO2dCQUMxQyxHQUFHLG9CQUFvQjtnQkFDdkIsS0FBSzthQUNOLENBQUMsQ0FBQztZQUNILE1BQU0sS0FBSyxDQUFDO1FBQ2QsQ0FBQztJQUNILENBQUM7Q0FDRjtBQWp3Q0QsZ0NBaXdDQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKFwiZXZlbnRzXCIpO1xuaW1wb3J0IHsgU2VhcG9ydCB9IGZyb20gXCJAb3BlbnNlYS9zZWFwb3J0LWpzXCI7XG5pbXBvcnQge1xuICBDUk9TU19DSEFJTl9TRUFQT1JUX1YxXzVfQUREUkVTUyxcbiAgQ1JPU1NfQ0hBSU5fU0VBUE9SVF9WMV82X0FERFJFU1MsXG4gIE9QRU5TRUFfQ09ORFVJVF9LRVksXG59IGZyb20gXCJAb3BlbnNlYS9zZWFwb3J0LWpzL2xpYi9jb25zdGFudHNcIjtcbmltcG9ydCB7XG4gIEFkdmFuY2VkT3JkZXIsXG4gIENvbnNpZGVyYXRpb25JbnB1dEl0ZW0sXG4gIENyZWF0ZUlucHV0SXRlbSxcbiAgT3JkZXJDb21wb25lbnRzLFxufSBmcm9tIFwiQG9wZW5zZWEvc2VhcG9ydC1qcy9saWIvdHlwZXNcIjtcbmltcG9ydCB7XG4gIEJpZ051bWJlcmlzaCxcbiAgQ29udHJhY3QsXG4gIEZpeGVkTnVtYmVyLFxuICBPdmVycmlkZXMsXG4gIFNpZ25lcixcbiAgZXRoZXJzLFxuICBwYXJzZUV0aGVyLFxuICBKc29uUnBjUHJvdmlkZXIsXG4gIENvbnRyYWN0VHJhbnNhY3Rpb25SZXNwb25zZSxcbiAgWmVyb0FkZHJlc3MsXG59IGZyb20gXCJldGhlcnNcIjtcbmltcG9ydCB7IE9wZW5TZWFBUEkgfSBmcm9tIFwiLi9hcGkvYXBpXCI7XG5pbXBvcnQgeyBDb2xsZWN0aW9uT2ZmZXIsIExpc3RpbmcsIE5GVCwgT3JkZXIgfSBmcm9tIFwiLi9hcGkvdHlwZXNcIjtcbmltcG9ydCB7XG4gIElOVkVSU0VfQkFTSVNfUE9JTlQsXG4gIEVOR0xJU0hfQVVDVElPTl9aT05FX01BSU5ORVRTLFxuICBFTkdMSVNIX0FVQ1RJT05fWk9ORV9URVNUTkVUUyxcbn0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge1xuICBjb25zdHJ1Y3RQcml2YXRlTGlzdGluZ0NvdW50ZXJPcmRlcixcbiAgZ2V0UHJpdmF0ZUxpc3RpbmdDb25zaWRlcmF0aW9ucyxcbiAgZ2V0UHJpdmF0ZUxpc3RpbmdGdWxmaWxsbWVudHMsXG59IGZyb20gXCIuL29yZGVycy9wcml2YXRlTGlzdGluZ3NcIjtcbmltcG9ydCB7IE9yZGVyVHlwZSwgT3JkZXJWMiB9IGZyb20gXCIuL29yZGVycy90eXBlc1wiO1xuaW1wb3J0IHsgREVGQVVMVF9TRUFQT1JUX0NPTlRSQUNUX0FERFJFU1MgfSBmcm9tIFwiLi9vcmRlcnMvdXRpbHNcIjtcbmltcG9ydCB7XG4gIEVSQzExNTVfX2ZhY3RvcnksXG4gIEVSQzIwX19mYWN0b3J5LFxuICBFUkM3MjFfX2ZhY3RvcnksXG59IGZyb20gXCIuL3R5cGVjaGFpbi9jb250cmFjdHNcIjtcbmltcG9ydCB7XG4gIEV2ZW50RGF0YSxcbiAgRXZlbnRUeXBlLFxuICBDaGFpbixcbiAgT3BlblNlYUFQSUNvbmZpZyxcbiAgT3BlblNlYUNvbGxlY3Rpb24sXG4gIE9yZGVyU2lkZSxcbiAgVG9rZW5TdGFuZGFyZCxcbiAgQXNzZXRXaXRoVG9rZW5TdGFuZGFyZCxcbiAgQXNzZXRXaXRoVG9rZW5JZCxcbn0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7XG4gIGdldE1heE9yZGVyRXhwaXJhdGlvblRpbWVzdGFtcCxcbiAgaGFzRXJyb3JDb2RlLFxuICBnZXRBc3NldEl0ZW1UeXBlLFxuICBnZXRBZGRyZXNzQWZ0ZXJSZW1hcHBpbmdTaGFyZWRTdG9yZWZyb250QWRkcmVzc1RvTGF6eU1pbnRBZGFwdGVyQWRkcmVzcyxcbiAgcmVxdWlyZVZhbGlkUHJvdG9jb2wsXG4gIGdldFdFVEhBZGRyZXNzLFxuICBpc1Rlc3RDaGFpbixcbiAgYmFzaXNQb2ludHNGb3JGZWUsXG4gIHRvdGFsQmFzaXNQb2ludHNGb3JGZWVzLFxuICBnZXRDaGFpbklkLFxufSBmcm9tIFwiLi91dGlscy91dGlsc1wiO1xuXG4vKipcbiAqIFRoZSBPcGVuU2VhIFNESyBtYWluIGNsYXNzLlxuICogQGNhdGVnb3J5IE1haW4gQ2xhc3Nlc1xuICovXG5leHBvcnQgY2xhc3MgT3BlblNlYVNESyB7XG4gIC8qKiBQcm92aWRlciB0byB1c2UgZm9yIHRyYW5zYWN0aW9ucy4gKi9cbiAgcHVibGljIHByb3ZpZGVyOiBKc29uUnBjUHJvdmlkZXI7XG4gIC8qKiBTZWFwb3J0IHYxLjYgY2xpZW50IEBzZWUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9Qcm9qZWN0T3BlblNlYS9zZWFwb3J0LWpzfSAqL1xuICBwdWJsaWMgc2VhcG9ydF92MV82OiBTZWFwb3J0O1xuICAvKiogU2VhcG9ydCB2MS41IGNsaWVudCBAc2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vUHJvamVjdE9wZW5TZWEvc2VhcG9ydC1qc30gKi9cbiAgcHVibGljIHNlYXBvcnRfdjFfNTogU2VhcG9ydDtcbiAgLyoqIExvZ2dlciBmdW5jdGlvbiB0byB1c2Ugd2hlbiBkZWJ1Z2dpbmcgKi9cbiAgcHVibGljIGxvZ2dlcjogKGFyZzogc3RyaW5nKSA9PiB2b2lkO1xuICAvKiogQVBJIGluc3RhbmNlICovXG4gIHB1YmxpYyByZWFkb25seSBhcGk6IE9wZW5TZWFBUEk7XG4gIC8qKiBUaGUgY29uZmlndXJlZCBjaGFpbiAqL1xuICBwdWJsaWMgcmVhZG9ubHkgY2hhaW46IENoYWluO1xuICAvKiogSW50ZXJuYWwgY2FjaGUgb2YgZGVjaW1hbHMgZm9yIHBheW1lbnQgdG9rZW5zIHRvIHNhdmUgbmV0d29yayByZXF1ZXN0cyAqL1xuICBwcml2YXRlIF9jYWNoZWRQYXltZW50VG9rZW5EZWNpbWFsczogeyBbYWRkcmVzczogc3RyaW5nXTogbnVtYmVyIH0gPSB7fTtcblxuICBwcml2YXRlIF9lbWl0dGVyOiBFdmVudEVtaXR0ZXI7XG4gIHByaXZhdGUgX3NpZ25lck9yUHJvdmlkZXI6IFNpZ25lciB8IEpzb25ScGNQcm92aWRlcjtcblxuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIE9wZW5TZWFTREsuXG4gICAqIEBwYXJhbSBzaWduZXJPclByb3ZpZGVyIFNpZ25lciBvciBwcm92aWRlciB0byB1c2UgZm9yIHRyYW5zYWN0aW9ucy4gRm9yIGV4YW1wbGU6XG4gICAqIGBuZXcgZXRoZXJzLnByb3ZpZGVycy5Kc29uUnBjUHJvdmlkZXIoJ2h0dHBzOi8vbWFpbm5ldC5pbmZ1cmEuaW8nKWAgb3JcbiAgICogYG5ldyBldGhlcnMuV2FsbGV0KHByaXZLZXksIHByb3ZpZGVyKWBcbiAgICogQHBhcmFtIGFwaUNvbmZpZyBjb25maWd1cmF0aW9uIG9wdGlvbnMsIGluY2x1ZGluZyBgY2hhaW5gXG4gICAqIEBwYXJhbSBsb2dnZXIgb3B0aW9uYWwgZnVuY3Rpb24gZm9yIGxvZ2dpbmcgZGVidWcgc3RyaW5ncy4gZGVmYXVsdHMgdG8gbm8gbG9nZ2luZ1xuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgc2lnbmVyT3JQcm92aWRlcjogU2lnbmVyIHwgSnNvblJwY1Byb3ZpZGVyLFxuICAgIGFwaUNvbmZpZzogT3BlblNlYUFQSUNvbmZpZyA9IHt9LFxuICAgIGxvZ2dlcj86IChhcmc6IHN0cmluZykgPT4gdm9pZCxcbiAgKSB7XG4gICAgLy8gQVBJIGNvbmZpZ1xuICAgIGFwaUNvbmZpZy5jaGFpbiA/Pz0gQ2hhaW4uTWFpbm5ldDtcbiAgICB0aGlzLmNoYWluID0gYXBpQ29uZmlnLmNoYWluO1xuICAgIHRoaXMuYXBpID0gbmV3IE9wZW5TZWFBUEkoYXBpQ29uZmlnKTtcblxuICAgIHRoaXMucHJvdmlkZXIgPSAoKHNpZ25lck9yUHJvdmlkZXIgYXMgU2lnbmVyKS5wcm92aWRlciA/P1xuICAgICAgc2lnbmVyT3JQcm92aWRlcikgYXMgSnNvblJwY1Byb3ZpZGVyO1xuICAgIHRoaXMuX3NpZ25lck9yUHJvdmlkZXIgPSBzaWduZXJPclByb3ZpZGVyID8/IHRoaXMucHJvdmlkZXI7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHRoaXMuc2VhcG9ydF92MV81ID0gbmV3IFNlYXBvcnQodGhpcy5fc2lnbmVyT3JQcm92aWRlciBhcyBhbnksIHtcbiAgICAgIG92ZXJyaWRlczoge1xuICAgICAgICBjb250cmFjdEFkZHJlc3M6IENST1NTX0NIQUlOX1NFQVBPUlRfVjFfNV9BRERSRVNTLFxuICAgICAgICBzZWFwb3J0VmVyc2lvbjogXCIxLjVcIixcbiAgICAgICAgZGVmYXVsdENvbmR1aXRLZXk6IE9QRU5TRUFfQ09ORFVJVF9LRVksXG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICB0aGlzLnNlYXBvcnRfdjFfNiA9IG5ldyBTZWFwb3J0KHRoaXMuX3NpZ25lck9yUHJvdmlkZXIgYXMgYW55LCB7XG4gICAgICBvdmVycmlkZXM6IHsgZGVmYXVsdENvbmR1aXRLZXk6IE9QRU5TRUFfQ09ORFVJVF9LRVkgfSxcbiAgICB9KTtcblxuICAgIC8vIEVtaXQgZXZlbnRzXG4gICAgdGhpcy5fZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIC8vIExvZ2dlcjogZGVmYXVsdCB0byBubyBsb2dnaW5nIGlmIGZuIG5vdCBwcm92aWRlZFxuICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyID8/ICgoYXJnOiBzdHJpbmcpID0+IGFyZyk7XG5cbiAgICAvLyBDYWNoZSBkZWNpbWFscyBmb3IgV0VUSCBwYXltZW50IHRva2VuIHRvIHNraXAgbmV0d29yayByZXF1ZXN0XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHdldGhBZGRyZXNzID0gZ2V0V0VUSEFkZHJlc3ModGhpcy5jaGFpbikudG9Mb3dlckNhc2UoKTtcbiAgICAgIHRoaXMuX2NhY2hlZFBheW1lbnRUb2tlbkRlY2ltYWxzW3dldGhBZGRyZXNzXSA9IDE4O1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcyhcIlVua25vd24gV0VUSCBhZGRyZXNzXCIpKSB7XG4gICAgICAgIC8vIElnbm9yZVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIGxpc3RlbmVyIGZvciBldmVudHMgZW1pdHRlZCBieSB0aGUgU0RLLlxuICAgKiBAcGFyYW0gZXZlbnQgVGhlIHtAbGluayBFdmVudFR5cGV9IHRvIGxpc3RlbiB0by5cbiAgICogQHBhcmFtIGxpc3RlbmVyIEEgY2FsbGJhY2sgdGhhdCB3aWxsIGFjY2VwdCBhbiBvYmplY3Qgd2l0aCB7QGxpbmsgRXZlbnREYXRhfVxcXG4gICAqIEBwYXJhbSBvbmNlIFdoZXRoZXIgdGhlIGxpc3RlbmVyIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBvbmNlLCBvciBjb250aW51ZSBsaXN0ZW5pbmcgdW50aWwgcmVtb3ZlZC5cbiAgICovXG4gIHB1YmxpYyBhZGRMaXN0ZW5lcihcbiAgICBldmVudDogRXZlbnRUeXBlLFxuICAgIGxpc3RlbmVyOiAoZGF0YTogRXZlbnREYXRhKSA9PiB2b2lkLFxuICAgIG9uY2UgPSBmYWxzZSxcbiAgKSB7XG4gICAgaWYgKG9uY2UpIHtcbiAgICAgIHRoaXMuX2VtaXR0ZXIub25jZShldmVudCwgbGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9lbWl0dGVyLmFkZExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhbiBldmVudCBsaXN0ZW5lciBieSBjYWxsaW5nIGAucmVtb3ZlTGlzdGVuZXIoKWAgb24gYW4gZXZlbnQgYW5kIGxpc3RlbmVyLlxuICAgKiBAcGFyYW0gZXZlbnQgVGhlIHtAbGluayBFdmVudFR5cGV9IHRvIHJlbW92ZSBhIGxpc3RlbmVyIGZvclxcXG4gICAqIEBwYXJhbSBsaXN0ZW5lciBUaGUgbGlzdGVuZXIgdG8gcmVtb3ZlXG4gICAqL1xuICBwdWJsaWMgcmVtb3ZlTGlzdGVuZXIoZXZlbnQ6IEV2ZW50VHlwZSwgbGlzdGVuZXI6IChkYXRhOiBFdmVudERhdGEpID0+IHZvaWQpIHtcbiAgICB0aGlzLl9lbWl0dGVyLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFsbCBldmVudCBsaXN0ZW5lcnMuIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIHlvdSdyZSB1bm1vdW50aW5nXG4gICAqIGEgY29tcG9uZW50IHRoYXQgbGlzdGVucyB0byBldmVudHMgdG8gbWFrZSBVSSB1cGRhdGVzLlxuICAgKiBAcGFyYW0gZXZlbnQgT3B0aW9uYWwgRXZlbnRUeXBlIHRvIHJlbW92ZSBsaXN0ZW5lcnMgZm9yXG4gICAqL1xuICBwdWJsaWMgcmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50PzogRXZlbnRUeXBlKSB7XG4gICAgdGhpcy5fZW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdyYXAgRVRIIGludG8gV0VUSC5cbiAgICogVy1FVEggaXMgbmVlZGVkIGZvciBtYWtpbmcgb2ZmZXJzLlxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5hbW91bnRJbkV0aCBBbW91bnQgb2YgZXRoZXIgdG8gd3JhcFxuICAgKiBAcGFyYW0gb3B0aW9ucy5hY2NvdW50QWRkcmVzcyBBZGRyZXNzIG9mIHRoZSB1c2VyJ3Mgd2FsbGV0IGNvbnRhaW5pbmcgdGhlIGV0aGVyXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgd3JhcEV0aCh7XG4gICAgYW1vdW50SW5FdGgsXG4gICAgYWNjb3VudEFkZHJlc3MsXG4gIH06IHtcbiAgICBhbW91bnRJbkV0aDogQmlnTnVtYmVyaXNoO1xuICAgIGFjY291bnRBZGRyZXNzOiBzdHJpbmc7XG4gIH0pIHtcbiAgICBhd2FpdCB0aGlzLl9yZXF1aXJlQWNjb3VudElzQXZhaWxhYmxlKGFjY291bnRBZGRyZXNzKTtcblxuICAgIGNvbnN0IHZhbHVlID0gcGFyc2VFdGhlcihGaXhlZE51bWJlci5mcm9tVmFsdWUoYW1vdW50SW5FdGgpLnRvU3RyaW5nKCkpO1xuXG4gICAgdGhpcy5fZGlzcGF0Y2goRXZlbnRUeXBlLldyYXBFdGgsIHsgYWNjb3VudEFkZHJlc3MsIGFtb3VudDogdmFsdWUgfSk7XG5cbiAgICBjb25zdCB3ZXRoQ29udHJhY3QgPSBuZXcgQ29udHJhY3QoXG4gICAgICBnZXRXRVRIQWRkcmVzcyh0aGlzLmNoYWluKSxcbiAgICAgIFtcImZ1bmN0aW9uIGRlcG9zaXQoKSBwYXlhYmxlXCJdLFxuICAgICAgdGhpcy5fc2lnbmVyT3JQcm92aWRlcixcbiAgICApO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gYXdhaXQgd2V0aENvbnRyYWN0LmRlcG9zaXQoeyB2YWx1ZSB9KTtcbiAgICAgIGF3YWl0IHRoaXMuX2NvbmZpcm1UcmFuc2FjdGlvbihcbiAgICAgICAgdHJhbnNhY3Rpb24uaGFzaCxcbiAgICAgICAgRXZlbnRUeXBlLldyYXBFdGgsXG4gICAgICAgIFwiV3JhcHBpbmcgRVRIXCIsXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgIHRoaXMuX2Rpc3BhdGNoKEV2ZW50VHlwZS5UcmFuc2FjdGlvbkRlbmllZCwgeyBlcnJvciwgYWNjb3VudEFkZHJlc3MgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVud3JhcCBXRVRIIGludG8gRVRILlxuICAgKiBFbWl0cyB0aGUgYFVud3JhcFdldGhgIGV2ZW50IHdoZW4gdGhlIHRyYW5zYWN0aW9uIGlzIHByb21wdGVkLlxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5hbW91bnRJbkV0aCBIb3cgbXVjaCBXRVRIIHRvIHVud3JhcFxuICAgKiBAcGFyYW0gb3B0aW9ucy5hY2NvdW50QWRkcmVzcyBBZGRyZXNzIG9mIHRoZSB1c2VyJ3Mgd2FsbGV0IGNvbnRhaW5pbmcgdGhlIFdFVEhcbiAgICovXG4gIHB1YmxpYyBhc3luYyB1bndyYXBXZXRoKHtcbiAgICBhbW91bnRJbkV0aCxcbiAgICBhY2NvdW50QWRkcmVzcyxcbiAgfToge1xuICAgIGFtb3VudEluRXRoOiBCaWdOdW1iZXJpc2g7XG4gICAgYWNjb3VudEFkZHJlc3M6IHN0cmluZztcbiAgfSkge1xuICAgIGF3YWl0IHRoaXMuX3JlcXVpcmVBY2NvdW50SXNBdmFpbGFibGUoYWNjb3VudEFkZHJlc3MpO1xuXG4gICAgY29uc3QgYW1vdW50ID0gcGFyc2VFdGhlcihGaXhlZE51bWJlci5mcm9tVmFsdWUoYW1vdW50SW5FdGgpLnRvU3RyaW5nKCkpO1xuXG4gICAgdGhpcy5fZGlzcGF0Y2goRXZlbnRUeXBlLlVud3JhcFdldGgsIHsgYWNjb3VudEFkZHJlc3MsIGFtb3VudCB9KTtcblxuICAgIGNvbnN0IHdldGhDb250cmFjdCA9IG5ldyBDb250cmFjdChcbiAgICAgIGdldFdFVEhBZGRyZXNzKHRoaXMuY2hhaW4pLFxuICAgICAgW1wiZnVuY3Rpb24gd2l0aGRyYXcodWludCB3YWQpIHB1YmxpY1wiXSxcbiAgICAgIHRoaXMuX3NpZ25lck9yUHJvdmlkZXIsXG4gICAgKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGF3YWl0IHdldGhDb250cmFjdC53aXRoZHJhdyhhbW91bnQpO1xuICAgICAgYXdhaXQgdGhpcy5fY29uZmlybVRyYW5zYWN0aW9uKFxuICAgICAgICB0cmFuc2FjdGlvbi5oYXNoLFxuICAgICAgICBFdmVudFR5cGUuVW53cmFwV2V0aCxcbiAgICAgICAgXCJVbndyYXBwaW5nIFctRVRIXCIsXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgIHRoaXMuX2Rpc3BhdGNoKEV2ZW50VHlwZS5UcmFuc2FjdGlvbkRlbmllZCwgeyBlcnJvciwgYWNjb3VudEFkZHJlc3MgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXRBbW91bnRXaXRoQmFzaXNQb2ludHNBcHBsaWVkID0gKFxuICAgIGFtb3VudDogYmlnaW50LFxuICAgIGJhc2lzUG9pbnRzOiBiaWdpbnQsXG4gICk6IHN0cmluZyA9PiB7XG4gICAgcmV0dXJuICgoYW1vdW50ICogYmFzaXNQb2ludHMpIC8gSU5WRVJTRV9CQVNJU19QT0lOVCkudG9TdHJpbmcoKTtcbiAgfTtcblxuICBwcml2YXRlIGFzeW5jIGdldEZlZXMoe1xuICAgIGNvbGxlY3Rpb24sXG4gICAgc2VsbGVyLFxuICAgIHBheW1lbnRUb2tlbkFkZHJlc3MsXG4gICAgc3RhcnRBbW91bnQsXG4gICAgZW5kQW1vdW50LFxuICAgIGV4Y2x1ZGVPcHRpb25hbENyZWF0b3JGZWVzLFxuICB9OiB7XG4gICAgY29sbGVjdGlvbjogT3BlblNlYUNvbGxlY3Rpb247XG4gICAgc2VsbGVyPzogc3RyaW5nO1xuICAgIHBheW1lbnRUb2tlbkFkZHJlc3M6IHN0cmluZztcbiAgICBzdGFydEFtb3VudDogYmlnaW50O1xuICAgIGVuZEFtb3VudD86IGJpZ2ludDtcbiAgICBleGNsdWRlT3B0aW9uYWxDcmVhdG9yRmVlcz86IGJvb2xlYW47XG4gIH0pOiBQcm9taXNlPENvbnNpZGVyYXRpb25JbnB1dEl0ZW1bXT4ge1xuICAgIGxldCBjb2xsZWN0aW9uRmVlcyA9IGNvbGxlY3Rpb24uZmVlcztcbiAgICBpZiAoZXhjbHVkZU9wdGlvbmFsQ3JlYXRvckZlZXMpIHtcbiAgICAgIGNvbGxlY3Rpb25GZWVzID0gY29sbGVjdGlvbkZlZXMuZmlsdGVyKChmZWUpID0+IGZlZS5yZXF1aXJlZCk7XG4gICAgfVxuICAgIGNvbnN0IGNvbGxlY3Rpb25GZWVzQmFzaXNQb2ludHMgPSB0b3RhbEJhc2lzUG9pbnRzRm9yRmVlcyhjb2xsZWN0aW9uRmVlcyk7XG4gICAgY29uc3Qgc2VsbGVyQmFzaXNQb2ludHMgPSBJTlZFUlNFX0JBU0lTX1BPSU5UIC0gY29sbGVjdGlvbkZlZXNCYXNpc1BvaW50cztcblxuICAgIGNvbnN0IGdldENvbnNpZGVyYXRpb25JdGVtID0gKGJhc2lzUG9pbnRzOiBiaWdpbnQsIHJlY2lwaWVudD86IHN0cmluZykgPT4ge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdG9rZW46IHBheW1lbnRUb2tlbkFkZHJlc3MsXG4gICAgICAgIGFtb3VudDogdGhpcy5nZXRBbW91bnRXaXRoQmFzaXNQb2ludHNBcHBsaWVkKHN0YXJ0QW1vdW50LCBiYXNpc1BvaW50cyksXG4gICAgICAgIGVuZEFtb3VudDogdGhpcy5nZXRBbW91bnRXaXRoQmFzaXNQb2ludHNBcHBsaWVkKFxuICAgICAgICAgIGVuZEFtb3VudCA/PyBzdGFydEFtb3VudCxcbiAgICAgICAgICBiYXNpc1BvaW50cyxcbiAgICAgICAgKSxcbiAgICAgICAgcmVjaXBpZW50LFxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgY29uc3QgY29uc2lkZXJhdGlvbkl0ZW1zOiBDb25zaWRlcmF0aW9uSW5wdXRJdGVtW10gPSBbXTtcblxuICAgIGlmIChzZWxsZXIpIHtcbiAgICAgIGNvbnNpZGVyYXRpb25JdGVtcy5wdXNoKGdldENvbnNpZGVyYXRpb25JdGVtKHNlbGxlckJhc2lzUG9pbnRzLCBzZWxsZXIpKTtcbiAgICB9XG4gICAgaWYgKGNvbGxlY3Rpb25GZWVzQmFzaXNQb2ludHMgPiAwKSB7XG4gICAgICBmb3IgKGNvbnN0IGZlZSBvZiBjb2xsZWN0aW9uRmVlcykge1xuICAgICAgICBjb25zaWRlcmF0aW9uSXRlbXMucHVzaChcbiAgICAgICAgICBnZXRDb25zaWRlcmF0aW9uSXRlbShiYXNpc1BvaW50c0ZvckZlZShmZWUpLCBmZWUucmVjaXBpZW50KSxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvbnNpZGVyYXRpb25JdGVtcztcbiAgfVxuXG4gIHByaXZhdGUgZ2V0TkZUSXRlbXMoXG4gICAgbmZ0czogTkZUW10sXG4gICAgcXVhbnRpdGllczogYmlnaW50W10gPSBbXSxcbiAgKTogQ3JlYXRlSW5wdXRJdGVtW10ge1xuICAgIHJldHVybiBuZnRzLm1hcCgobmZ0LCBpbmRleCkgPT4gKHtcbiAgICAgIGl0ZW1UeXBlOiBnZXRBc3NldEl0ZW1UeXBlKFxuICAgICAgICBuZnQudG9rZW5fc3RhbmRhcmQudG9VcHBlckNhc2UoKSBhcyBUb2tlblN0YW5kYXJkLFxuICAgICAgKSxcbiAgICAgIHRva2VuOlxuICAgICAgICBnZXRBZGRyZXNzQWZ0ZXJSZW1hcHBpbmdTaGFyZWRTdG9yZWZyb250QWRkcmVzc1RvTGF6eU1pbnRBZGFwdGVyQWRkcmVzcyhcbiAgICAgICAgICBuZnQuY29udHJhY3QsXG4gICAgICAgICksXG4gICAgICBpZGVudGlmaWVyOiBuZnQuaWRlbnRpZmllciA/PyB1bmRlZmluZWQsXG4gICAgICBhbW91bnQ6IHF1YW50aXRpZXNbaW5kZXhdLnRvU3RyaW5nKCkgPz8gXCIxXCIsXG4gICAgfSkpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbmQgc3VibWl0IGFuIG9mZmVyIG9uIGFuIGFzc2V0LlxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5hc3NldCBUaGUgYXNzZXQgdG8gdHJhZGUuIHRva2VuQWRkcmVzcyBhbmQgdG9rZW5JZCBtdXN0IGJlIGRlZmluZWQuXG4gICAqIEBwYXJhbSBvcHRpb25zLmFjY291bnRBZGRyZXNzIEFkZHJlc3Mgb2YgdGhlIHdhbGxldCBtYWtpbmcgdGhlIG9mZmVyLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5zdGFydEFtb3VudCBWYWx1ZSBvZiB0aGUgb2ZmZXIgaW4gdW5pdHMsIG5vdCBiYXNlIHVuaXRzIGUuZy4gbm90IHdlaSwgb2YgdGhlIHBheW1lbnQgdG9rZW4gKG9yIFdFVEggaWYgbm8gcGF5bWVudCB0b2tlbiBhZGRyZXNzIHNwZWNpZmllZClcbiAgICogQHBhcmFtIG9wdGlvbnMucXVhbnRpdHkgVGhlIG51bWJlciBvZiBhc3NldHMgdG8gYmlkIGZvciAoaWYgZnVuZ2libGUgb3Igc2VtaS1mdW5naWJsZSkuIERlZmF1bHRzIHRvIDEuXG4gICAqIEBwYXJhbSBvcHRpb25zLmRvbWFpbiBBbiBvcHRpb25hbCBkb21haW4gdG8gYmUgaGFzaGVkIGFuZCBpbmNsdWRlZCBpbiB0aGUgZmlyc3QgZm91ciBieXRlcyBvZiB0aGUgcmFuZG9tIHNhbHQuXG4gICAqIEBwYXJhbSBvcHRpb25zLnNhbHQgQXJiaXRyYXJ5IHNhbHQuIElmIG5vdCBwYXNzZWQgaW4sIGEgcmFuZG9tIHNhbHQgd2lsbCBiZSBnZW5lcmF0ZWQgd2l0aCB0aGUgZmlyc3QgZm91ciBieXRlcyBiZWluZyB0aGUgZG9tYWluIGhhc2ggb3IgZW1wdHkuXG4gICAqIEBwYXJhbSBvcHRpb25zLmV4cGlyYXRpb25UaW1lIEV4cGlyYXRpb24gdGltZSBmb3IgdGhlIG9yZGVyLCBpbiBVVEMgc2Vjb25kc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5wYXltZW50VG9rZW5BZGRyZXNzIEVSQzIwIGFkZHJlc3MgZm9yIHRoZSBwYXltZW50IHRva2VuIGluIHRoZSBvcmRlci4gSWYgdW5zcGVjaWZpZWQsIGRlZmF1bHRzIHRvIFdFVEhcbiAgICogQHBhcmFtIG9wdGlvbnMuZXhjbHVkZU9wdGlvbmFsQ3JlYXRvckZlZXMgSWYgdHJ1ZSwgb3B0aW9uYWwgY3JlYXRvciBmZWVzIHdpbGwgYmUgZXhjbHVkZWQgZnJvbSB0aGUgb2ZmZXIuIERlZmF1bHQ6IHRydWUuXG4gICAqIEBwYXJhbSBvcHRpb25zLnpvbmUgVGhlIHpvbmUgdG8gdXNlIGZvciB0aGUgb3JkZXIuIEZvciBvcmRlciBwcm90ZWN0aW9uLCBwYXNzIFNJR05FRF9aT05FLiBJZiB1bnNwZWNpZmllZCwgZGVmYXVsdHMgdG8gbm8gem9uZS5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIHtAbGluayBPcmRlclYyfSB0aGF0IHdhcyBjcmVhdGVkLlxuICAgKlxuICAgKiBAdGhyb3dzIEVycm9yIGlmIHRoZSBhc3NldCBkb2VzIG5vdCBjb250YWluIGEgdG9rZW4gaWQuXG4gICAqIEB0aHJvd3MgRXJyb3IgaWYgdGhlIGFjY291bnRBZGRyZXNzIGlzIG5vdCBhdmFpbGFibGUgdGhyb3VnaCB3YWxsZXQgb3IgcHJvdmlkZXIuXG4gICAqIEB0aHJvd3MgRXJyb3IgaWYgdGhlIHN0YXJ0QW1vdW50IGlzIG5vdCBncmVhdGVyIHRoYW4gMC5cbiAgICogQHRocm93cyBFcnJvciBpZiBwYXltZW50VG9rZW5BZGRyZXNzIGlzIG5vdCBXRVRIIG9uIGFueXRoaW5nIG90aGVyIHRoYW4gRXRoZXJldW0gbWFpbm5ldC5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBjcmVhdGVPZmZlcih7XG4gICAgYXNzZXQsXG4gICAgYWNjb3VudEFkZHJlc3MsXG4gICAgc3RhcnRBbW91bnQsXG4gICAgcXVhbnRpdHkgPSAxLFxuICAgIGRvbWFpbixcbiAgICBzYWx0LFxuICAgIGV4cGlyYXRpb25UaW1lLFxuICAgIHBheW1lbnRUb2tlbkFkZHJlc3MgPSBnZXRXRVRIQWRkcmVzcyh0aGlzLmNoYWluKSxcbiAgICBleGNsdWRlT3B0aW9uYWxDcmVhdG9yRmVlcyA9IHRydWUsXG4gICAgem9uZSA9IFplcm9BZGRyZXNzLFxuICB9OiB7XG4gICAgYXNzZXQ6IEFzc2V0V2l0aFRva2VuSWQ7XG4gICAgYWNjb3VudEFkZHJlc3M6IHN0cmluZztcbiAgICBzdGFydEFtb3VudDogQmlnTnVtYmVyaXNoO1xuICAgIHF1YW50aXR5PzogQmlnTnVtYmVyaXNoO1xuICAgIGRvbWFpbj86IHN0cmluZztcbiAgICBzYWx0PzogQmlnTnVtYmVyaXNoO1xuICAgIGV4cGlyYXRpb25UaW1lPzogQmlnTnVtYmVyaXNoO1xuICAgIHBheW1lbnRUb2tlbkFkZHJlc3M/OiBzdHJpbmc7XG4gICAgZXhjbHVkZU9wdGlvbmFsQ3JlYXRvckZlZXM/OiBib29sZWFuO1xuICAgIHpvbmU/OiBzdHJpbmc7XG4gIH0pOiBQcm9taXNlPE9yZGVyVjI+IHtcbiAgICBhd2FpdCB0aGlzLl9yZXF1aXJlQWNjb3VudElzQXZhaWxhYmxlKGFjY291bnRBZGRyZXNzKTtcblxuICAgIGNvbnN0IHsgbmZ0IH0gPSBhd2FpdCB0aGlzLmFwaS5nZXRORlQoYXNzZXQudG9rZW5BZGRyZXNzLCBhc3NldC50b2tlbklkKTtcbiAgICBjb25zdCBjb25zaWRlcmF0aW9uQXNzZXRJdGVtcyA9IHRoaXMuZ2V0TkZUSXRlbXMoXG4gICAgICBbbmZ0XSxcbiAgICAgIFtCaWdJbnQocXVhbnRpdHkgPz8gMSldLFxuICAgICk7XG5cbiAgICBjb25zdCB7IGJhc2VQcmljZSB9ID0gYXdhaXQgdGhpcy5fZ2V0UHJpY2VQYXJhbWV0ZXJzKFxuICAgICAgT3JkZXJTaWRlLk9GRkVSLFxuICAgICAgcGF5bWVudFRva2VuQWRkcmVzcyxcbiAgICAgIGV4cGlyYXRpb25UaW1lID8/IGdldE1heE9yZGVyRXhwaXJhdGlvblRpbWVzdGFtcCgpLFxuICAgICAgc3RhcnRBbW91bnQsXG4gICAgKTtcblxuICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBhd2FpdCB0aGlzLmFwaS5nZXRDb2xsZWN0aW9uKG5mdC5jb2xsZWN0aW9uKTtcblxuICAgIGNvbnN0IGNvbnNpZGVyYXRpb25GZWVJdGVtcyA9IGF3YWl0IHRoaXMuZ2V0RmVlcyh7XG4gICAgICBjb2xsZWN0aW9uLFxuICAgICAgcGF5bWVudFRva2VuQWRkcmVzcyxcbiAgICAgIHN0YXJ0QW1vdW50OiBiYXNlUHJpY2UsXG4gICAgICBleGNsdWRlT3B0aW9uYWxDcmVhdG9yRmVlcyxcbiAgICB9KTtcblxuICAgIGlmIChjb2xsZWN0aW9uLnJlcXVpcmVkWm9uZSkge1xuICAgICAgem9uZSA9IGNvbGxlY3Rpb24ucmVxdWlyZWRab25lO1xuICAgIH1cblxuICAgIGNvbnN0IHsgZXhlY3V0ZUFsbEFjdGlvbnMgfSA9IGF3YWl0IHRoaXMuc2VhcG9ydF92MV82LmNyZWF0ZU9yZGVyKFxuICAgICAge1xuICAgICAgICBvZmZlcjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRva2VuOiBwYXltZW50VG9rZW5BZGRyZXNzLFxuICAgICAgICAgICAgYW1vdW50OiBiYXNlUHJpY2UudG9TdHJpbmcoKSxcbiAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBjb25zaWRlcmF0aW9uOiBbLi4uY29uc2lkZXJhdGlvbkFzc2V0SXRlbXMsIC4uLmNvbnNpZGVyYXRpb25GZWVJdGVtc10sXG4gICAgICAgIGVuZFRpbWU6XG4gICAgICAgICAgZXhwaXJhdGlvblRpbWUgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBCaWdJbnQoZXhwaXJhdGlvblRpbWUpLnRvU3RyaW5nKClcbiAgICAgICAgICAgIDogZ2V0TWF4T3JkZXJFeHBpcmF0aW9uVGltZXN0YW1wKCkudG9TdHJpbmcoKSxcbiAgICAgICAgem9uZSxcbiAgICAgICAgZG9tYWluLFxuICAgICAgICBzYWx0OiBCaWdJbnQoc2FsdCA/PyAwKS50b1N0cmluZygpLFxuICAgICAgICByZXN0cmljdGVkQnlab25lOiB6b25lICE9PSBaZXJvQWRkcmVzcyxcbiAgICAgICAgYWxsb3dQYXJ0aWFsRmlsbHM6IHRydWUsXG4gICAgICB9LFxuICAgICAgYWNjb3VudEFkZHJlc3MsXG4gICAgKTtcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IGV4ZWN1dGVBbGxBY3Rpb25zKCk7XG5cbiAgICByZXR1cm4gdGhpcy5hcGkucG9zdE9yZGVyKG9yZGVyLCB7XG4gICAgICBwcm90b2NvbDogXCJzZWFwb3J0XCIsXG4gICAgICBwcm90b2NvbEFkZHJlc3M6IERFRkFVTFRfU0VBUE9SVF9DT05UUkFDVF9BRERSRVNTLFxuICAgICAgc2lkZTogT3JkZXJTaWRlLk9GRkVSLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbmQgc3VibWl0IGEgbGlzdGluZyBmb3IgYW4gYXNzZXQuXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEBwYXJhbSBvcHRpb25zLmFzc2V0IFRoZSBhc3NldCB0byB0cmFkZS4gdG9rZW5BZGRyZXNzIGFuZCB0b2tlbklkIG11c3QgYmUgZGVmaW5lZC5cbiAgICogQHBhcmFtIG9wdGlvbnMuYWNjb3VudEFkZHJlc3MgIEFkZHJlc3Mgb2YgdGhlIHdhbGxldCBtYWtpbmcgdGhlIGxpc3RpbmdcbiAgICogQHBhcmFtIG9wdGlvbnMuc3RhcnRBbW91bnQgVmFsdWUgb2YgdGhlIGxpc3RpbmcgYXQgdGhlIHN0YXJ0IG9mIHRoZSBhdWN0aW9uIGluIHVuaXRzLCBub3QgYmFzZSB1bml0cyBlLmcuIG5vdCB3ZWksIG9mIHRoZSBwYXltZW50IHRva2VuIChvciBXRVRIIGlmIG5vIHBheW1lbnQgdG9rZW4gYWRkcmVzcyBzcGVjaWZpZWQpXG4gICAqIEBwYXJhbSBvcHRpb25zLmVuZEFtb3VudCBWYWx1ZSBvZiB0aGUgbGlzdGluZyBhdCB0aGUgZW5kIG9mIHRoZSBhdWN0aW9uLiBJZiBzcGVjaWZpZWQsIHByaWNlIHdpbGwgY2hhbmdlIGxpbmVhcmx5IGJldHdlZW4gc3RhcnRBbW91bnQgYW5kIGVuZEFtb3VudCBhcyB0aW1lIHByb2dyZXNzZXMuXG4gICAqIEBwYXJhbSBvcHRpb25zLnF1YW50aXR5IFRoZSBudW1iZXIgb2YgYXNzZXRzIHRvIGxpc3QgKGlmIGZ1bmdpYmxlIG9yIHNlbWktZnVuZ2libGUpLiBEZWZhdWx0cyB0byAxLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5kb21haW4gQW4gb3B0aW9uYWwgZG9tYWluIHRvIGJlIGhhc2hlZCBhbmQgaW5jbHVkZWQgaW4gdGhlIGZpcnN0IGZvdXIgYnl0ZXMgb2YgdGhlIHJhbmRvbSBzYWx0LiBUaGlzIGNhbiBiZSB1c2VkIGZvciBvbi1jaGFpbiBvcmRlciBhdHRyaWJ1dGlvbiB0byBhc3Npc3Qgd2l0aCBhbmFseXRpY3MuXG4gICAqIEBwYXJhbSBvcHRpb25zLnNhbHQgQXJiaXRyYXJ5IHNhbHQuIElmIG5vdCBwYXNzZWQgaW4sIGEgcmFuZG9tIHNhbHQgd2lsbCBiZSBnZW5lcmF0ZWQgd2l0aCB0aGUgZmlyc3QgZm91ciBieXRlcyBiZWluZyB0aGUgZG9tYWluIGhhc2ggb3IgZW1wdHkuXG4gICAqIEBwYXJhbSBvcHRpb25zLmxpc3RpbmdUaW1lIE9wdGlvbmFsIHRpbWUgd2hlbiB0aGUgb3JkZXIgd2lsbCBiZWNvbWUgZnVsZmlsbGFibGUsIGluIFVUQyBzZWNvbmRzLiBVbmRlZmluZWQgbWVhbnMgaXQgd2lsbCBzdGFydCBub3cuXG4gICAqIEBwYXJhbSBvcHRpb25zLmV4cGlyYXRpb25UaW1lIEV4cGlyYXRpb24gdGltZSBmb3IgdGhlIG9yZGVyLCBpbiBVVEMgc2Vjb25kcy5cbiAgICogQHBhcmFtIG9wdGlvbnMucGF5bWVudFRva2VuQWRkcmVzcyBFUkMyMCBhZGRyZXNzIGZvciB0aGUgcGF5bWVudCB0b2tlbiBpbiB0aGUgb3JkZXIuIElmIHVuc3BlY2lmaWVkLCBkZWZhdWx0cyB0byBFVEhcbiAgICogQHBhcmFtIG9wdGlvbnMuYnV5ZXJBZGRyZXNzIE9wdGlvbmFsIGFkZHJlc3MgdGhhdCdzIGFsbG93ZWQgdG8gcHVyY2hhc2UgdGhpcyBpdGVtLiBJZiBzcGVjaWZpZWQsIG5vIG90aGVyIGFkZHJlc3Mgd2lsbCBiZSBhYmxlIHRvIHRha2UgdGhlIG9yZGVyLCB1bmxlc3MgaXRzIHZhbHVlIGlzIHRoZSBudWxsIGFkZHJlc3MuXG4gICAqIEBwYXJhbSBvcHRpb25zLmVuZ2xpc2hBdWN0aW9uIElmIHRydWUsIHRoZSBvcmRlciB3aWxsIGJlIGxpc3RlZCBhcyBhbiBFbmdsaXNoIGF1Y3Rpb24uXG4gICAqIEBwYXJhbSBvcHRpb25zLmV4Y2x1ZGVPcHRpb25hbENyZWF0b3JGZWVzIElmIHRydWUsIG9wdGlvbmFsIGNyZWF0b3IgZmVlcyB3aWxsIGJlIGV4Y2x1ZGVkIGZyb20gdGhlIGxpc3RpbmcuIERlZmF1bHQ6IGZhbHNlLlxuICAgKiBAcGFyYW0gb3B0aW9ucy56b25lIFRoZSB6b25lIHRvIHVzZSBmb3IgdGhlIG9yZGVyLiAgRm9yIG9yZGVyIHByb3RlY3Rpb24sIHBhc3MgU0lHTkVEX1pPTkUuIElmIHVuc3BlY2lmaWVkLCBkZWZhdWx0cyB0byBubyB6b25lLlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIE9yZGVyVjJ9IHRoYXQgd2FzIGNyZWF0ZWQuXG4gICAqXG4gICAqIEB0aHJvd3MgRXJyb3IgaWYgdGhlIGFzc2V0IGRvZXMgbm90IGNvbnRhaW4gYSB0b2tlbiBpZC5cbiAgICogQHRocm93cyBFcnJvciBpZiB0aGUgYWNjb3VudEFkZHJlc3MgaXMgbm90IGF2YWlsYWJsZSB0aHJvdWdoIHdhbGxldCBvciBwcm92aWRlci5cbiAgICogQHRocm93cyBFcnJvciBpZiB0aGUgc3RhcnRBbW91bnQgaXMgbm90IGdyZWF0ZXIgdGhhbiAwLlxuICAgKiBAdGhyb3dzIEVycm9yIGlmIHBheW1lbnRUb2tlbkFkZHJlc3MgaXMgbm90IFdFVEggb24gYW55dGhpbmcgb3RoZXIgdGhhbiBFdGhlcmV1bSBtYWlubmV0LlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGNyZWF0ZUxpc3Rpbmcoe1xuICAgIGFzc2V0LFxuICAgIGFjY291bnRBZGRyZXNzLFxuICAgIHN0YXJ0QW1vdW50LFxuICAgIGVuZEFtb3VudCxcbiAgICBxdWFudGl0eSA9IDEsXG4gICAgZG9tYWluLFxuICAgIHNhbHQsXG4gICAgbGlzdGluZ1RpbWUsXG4gICAgZXhwaXJhdGlvblRpbWUsXG4gICAgcGF5bWVudFRva2VuQWRkcmVzcyA9IGV0aGVycy5aZXJvQWRkcmVzcyxcbiAgICBidXllckFkZHJlc3MsXG4gICAgZW5nbGlzaEF1Y3Rpb24sXG4gICAgZXhjbHVkZU9wdGlvbmFsQ3JlYXRvckZlZXMgPSBmYWxzZSxcbiAgICB6b25lID0gWmVyb0FkZHJlc3MsXG4gIH06IHtcbiAgICBhc3NldDogQXNzZXRXaXRoVG9rZW5JZDtcbiAgICBhY2NvdW50QWRkcmVzczogc3RyaW5nO1xuICAgIHN0YXJ0QW1vdW50OiBCaWdOdW1iZXJpc2g7XG4gICAgZW5kQW1vdW50PzogQmlnTnVtYmVyaXNoO1xuICAgIHF1YW50aXR5PzogQmlnTnVtYmVyaXNoO1xuICAgIGRvbWFpbj86IHN0cmluZztcbiAgICBzYWx0PzogQmlnTnVtYmVyaXNoO1xuICAgIGxpc3RpbmdUaW1lPzogbnVtYmVyO1xuICAgIGV4cGlyYXRpb25UaW1lPzogbnVtYmVyO1xuICAgIHBheW1lbnRUb2tlbkFkZHJlc3M/OiBzdHJpbmc7XG4gICAgYnV5ZXJBZGRyZXNzPzogc3RyaW5nO1xuICAgIGVuZ2xpc2hBdWN0aW9uPzogYm9vbGVhbjtcbiAgICBleGNsdWRlT3B0aW9uYWxDcmVhdG9yRmVlcz86IGJvb2xlYW47XG4gICAgem9uZT86IHN0cmluZztcbiAgfSk6IFByb21pc2U8T3JkZXJWMj4ge1xuICAgIGF3YWl0IHRoaXMuX3JlcXVpcmVBY2NvdW50SXNBdmFpbGFibGUoYWNjb3VudEFkZHJlc3MpO1xuXG4gICAgY29uc3QgeyBuZnQgfSA9IGF3YWl0IHRoaXMuYXBpLmdldE5GVChhc3NldC50b2tlbkFkZHJlc3MsIGFzc2V0LnRva2VuSWQpO1xuICAgIGNvbnN0IG9mZmVyQXNzZXRJdGVtcyA9IHRoaXMuZ2V0TkZUSXRlbXMoW25mdF0sIFtCaWdJbnQocXVhbnRpdHkgPz8gMSldKTtcblxuICAgIGlmIChlbmdsaXNoQXVjdGlvbiAmJiBwYXltZW50VG9rZW5BZGRyZXNzID09IGV0aGVycy5aZXJvQWRkcmVzcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgRW5nbGlzaCBhdWN0aW9ucyBtdXN0IHVzZSB3cmFwcGVkIEVUSCBvciBhbiBFUkMtMjAgdG9rZW4uYCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgeyBiYXNlUHJpY2UsIGVuZFByaWNlIH0gPSBhd2FpdCB0aGlzLl9nZXRQcmljZVBhcmFtZXRlcnMoXG4gICAgICBPcmRlclNpZGUuTElTVElORyxcbiAgICAgIHBheW1lbnRUb2tlbkFkZHJlc3MsXG4gICAgICBleHBpcmF0aW9uVGltZSA/PyBnZXRNYXhPcmRlckV4cGlyYXRpb25UaW1lc3RhbXAoKSxcbiAgICAgIHN0YXJ0QW1vdW50LFxuICAgICAgZW5kQW1vdW50ID8/IHVuZGVmaW5lZCxcbiAgICApO1xuXG4gICAgY29uc3QgY29sbGVjdGlvbiA9IGF3YWl0IHRoaXMuYXBpLmdldENvbGxlY3Rpb24obmZ0LmNvbGxlY3Rpb24pO1xuXG4gICAgY29uc3QgY29uc2lkZXJhdGlvbkZlZUl0ZW1zID0gYXdhaXQgdGhpcy5nZXRGZWVzKHtcbiAgICAgIGNvbGxlY3Rpb24sXG4gICAgICBzZWxsZXI6IGFjY291bnRBZGRyZXNzLFxuICAgICAgcGF5bWVudFRva2VuQWRkcmVzcyxcbiAgICAgIHN0YXJ0QW1vdW50OiBiYXNlUHJpY2UsXG4gICAgICBlbmRBbW91bnQ6IGVuZFByaWNlLFxuICAgICAgZXhjbHVkZU9wdGlvbmFsQ3JlYXRvckZlZXMsXG4gICAgfSk7XG5cbiAgICBpZiAoYnV5ZXJBZGRyZXNzKSB7XG4gICAgICBjb25zaWRlcmF0aW9uRmVlSXRlbXMucHVzaChcbiAgICAgICAgLi4uZ2V0UHJpdmF0ZUxpc3RpbmdDb25zaWRlcmF0aW9ucyhvZmZlckFzc2V0SXRlbXMsIGJ1eWVyQWRkcmVzcyksXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChlbmdsaXNoQXVjdGlvbikge1xuICAgICAgem9uZSA9IGlzVGVzdENoYWluKHRoaXMuY2hhaW4pXG4gICAgICAgID8gRU5HTElTSF9BVUNUSU9OX1pPTkVfVEVTVE5FVFNcbiAgICAgICAgOiBFTkdMSVNIX0FVQ1RJT05fWk9ORV9NQUlOTkVUUztcbiAgICB9IGVsc2UgaWYgKGNvbGxlY3Rpb24ucmVxdWlyZWRab25lKSB7XG4gICAgICB6b25lID0gY29sbGVjdGlvbi5yZXF1aXJlZFpvbmU7XG4gICAgfVxuXG4gICAgY29uc3QgeyBleGVjdXRlQWxsQWN0aW9ucyB9ID0gYXdhaXQgdGhpcy5zZWFwb3J0X3YxXzYuY3JlYXRlT3JkZXIoXG4gICAgICB7XG4gICAgICAgIG9mZmVyOiBvZmZlckFzc2V0SXRlbXMsXG4gICAgICAgIGNvbnNpZGVyYXRpb246IGNvbnNpZGVyYXRpb25GZWVJdGVtcyxcbiAgICAgICAgc3RhcnRUaW1lOiBsaXN0aW5nVGltZT8udG9TdHJpbmcoKSxcbiAgICAgICAgZW5kVGltZTpcbiAgICAgICAgICBleHBpcmF0aW9uVGltZT8udG9TdHJpbmcoKSA/P1xuICAgICAgICAgIGdldE1heE9yZGVyRXhwaXJhdGlvblRpbWVzdGFtcCgpLnRvU3RyaW5nKCksXG4gICAgICAgIHpvbmUsXG4gICAgICAgIGRvbWFpbixcbiAgICAgICAgc2FsdDogQmlnSW50KHNhbHQgPz8gMCkudG9TdHJpbmcoKSxcbiAgICAgICAgcmVzdHJpY3RlZEJ5Wm9uZTogem9uZSAhPT0gWmVyb0FkZHJlc3MsXG4gICAgICAgIGFsbG93UGFydGlhbEZpbGxzOiBlbmdsaXNoQXVjdGlvbiA/IGZhbHNlIDogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBhY2NvdW50QWRkcmVzcyxcbiAgICApO1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgZXhlY3V0ZUFsbEFjdGlvbnMoKTtcblxuICAgIHJldHVybiB0aGlzLmFwaS5wb3N0T3JkZXIob3JkZXIsIHtcbiAgICAgIHByb3RvY29sOiBcInNlYXBvcnRcIixcbiAgICAgIHByb3RvY29sQWRkcmVzczogREVGQVVMVF9TRUFQT1JUX0NPTlRSQUNUX0FERFJFU1MsXG4gICAgICBzaWRlOiBPcmRlclNpZGUuTElTVElORyxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW5kIHN1Ym1pdCBhIGNvbGxlY3Rpb24gb2ZmZXIuXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEBwYXJhbSBvcHRpb25zLmNvbGxlY3Rpb25TbHVnIElkZW50aWZpZXIgZm9yIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5hY2NvdW50QWRkcmVzcyBBZGRyZXNzIG9mIHRoZSB3YWxsZXQgbWFraW5nIHRoZSBvZmZlci5cbiAgICogQHBhcmFtIG9wdGlvbnMuYW1vdW50IFZhbHVlIG9mIHRoZSBvZmZlciBpbiB1bml0cywgbm90IGJhc2UgdW5pdHMgZS5nLiBub3Qgd2VpLCBvZiB0aGUgcGF5bWVudCB0b2tlbiAob3IgV0VUSCBpZiBubyBwYXltZW50IHRva2VuIGFkZHJlc3Mgc3BlY2lmaWVkKS5cbiAgICogQHBhcmFtIG9wdGlvbnMucXVhbnRpdHkgVGhlIG51bWJlciBvZiBhc3NldHMgdG8gYmlkIGZvciAoaWYgZnVuZ2libGUgb3Igc2VtaS1mdW5naWJsZSkuXG4gICAqIEBwYXJhbSBvcHRpb25zLmRvbWFpbiBBbiBvcHRpb25hbCBkb21haW4gdG8gYmUgaGFzaGVkIGFuZCBpbmNsdWRlZCBpbiB0aGUgZmlyc3QgZm91ciBieXRlcyBvZiB0aGUgcmFuZG9tIHNhbHQuIFRoaXMgY2FuIGJlIHVzZWQgZm9yIG9uLWNoYWluIG9yZGVyIGF0dHJpYnV0aW9uIHRvIGFzc2lzdCB3aXRoIGFuYWx5dGljcy5cbiAgICogQHBhcmFtIG9wdGlvbnMuc2FsdCBBcmJpdHJhcnkgc2FsdC4gSWYgbm90IHBhc3NlZCBpbiwgYSByYW5kb20gc2FsdCB3aWxsIGJlIGdlbmVyYXRlZCB3aXRoIHRoZSBmaXJzdCBmb3VyIGJ5dGVzIGJlaW5nIHRoZSBkb21haW4gaGFzaCBvciBlbXB0eS5cbiAgICogQHBhcmFtIG9wdGlvbnMuZXhwaXJhdGlvblRpbWUgRXhwaXJhdGlvbiB0aW1lIGZvciB0aGUgb3JkZXIsIGluIFVUQyBzZWNvbmRzLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5wYXltZW50VG9rZW5BZGRyZXNzIEVSQzIwIGFkZHJlc3MgZm9yIHRoZSBwYXltZW50IHRva2VuIGluIHRoZSBvcmRlci4gSWYgdW5zcGVjaWZpZWQsIGRlZmF1bHRzIHRvIFdFVEguXG4gICAqIEBwYXJhbSBvcHRpb25zLmV4Y2x1ZGVPcHRpb25hbENyZWF0b3JGZWVzIElmIHRydWUsIG9wdGlvbmFsIGNyZWF0b3IgZmVlcyB3aWxsIGJlIGV4Y2x1ZGVkIGZyb20gdGhlIG9mZmVyLiBEZWZhdWx0OiBmYWxzZS5cbiAgICogQHBhcmFtIG9wdGlvbnMub2ZmZXJQcm90ZWN0aW9uRW5hYmxlZCBCdWlsZCB0aGUgb2ZmZXIgb24gT3BlblNlYSdzIHNpZ25lZCB6b25lIHRvIHByb3ZpZGUgb2ZmZXIgcHJvdGVjdGlvbnMgZnJvbSByZWNlaXZpbmcgYW4gaXRlbSB3aGljaCBpcyBkaXNhYmxlZCBmcm9tIHRyYWRpbmcuXG4gICAqIEBwYXJhbSBvcHRpb25zLnRyYWl0VHlwZSBJZiBkZWZpbmVkLCB0aGUgdHJhaXQgbmFtZSB0byBjcmVhdGUgdGhlIGNvbGxlY3Rpb24gb2ZmZXIgZm9yLlxuICAgKiBAcGFyYW0gb3B0aW9ucy50cmFpdFZhbHVlIElmIGRlZmluZWQsIHRoZSB0cmFpdCB2YWx1ZSB0byBjcmVhdGUgdGhlIGNvbGxlY3Rpb24gb2ZmZXIgZm9yLlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIENvbGxlY3Rpb25PZmZlcn0gdGhhdCB3YXMgY3JlYXRlZC5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBjcmVhdGVDb2xsZWN0aW9uT2ZmZXIoe1xuICAgIGNvbGxlY3Rpb25TbHVnLFxuICAgIGFjY291bnRBZGRyZXNzLFxuICAgIGFtb3VudCxcbiAgICBxdWFudGl0eSxcbiAgICBkb21haW4sXG4gICAgc2FsdCxcbiAgICBleHBpcmF0aW9uVGltZSxcbiAgICBwYXltZW50VG9rZW5BZGRyZXNzID0gZ2V0V0VUSEFkZHJlc3ModGhpcy5jaGFpbiksXG4gICAgZXhjbHVkZU9wdGlvbmFsQ3JlYXRvckZlZXMgPSBmYWxzZSxcbiAgICBvZmZlclByb3RlY3Rpb25FbmFibGVkID0gdHJ1ZSxcbiAgICB0cmFpdFR5cGUsXG4gICAgdHJhaXRWYWx1ZSxcbiAgfToge1xuICAgIGNvbGxlY3Rpb25TbHVnOiBzdHJpbmc7XG4gICAgYWNjb3VudEFkZHJlc3M6IHN0cmluZztcbiAgICBhbW91bnQ6IEJpZ051bWJlcmlzaDtcbiAgICBxdWFudGl0eTogbnVtYmVyO1xuICAgIGRvbWFpbj86IHN0cmluZztcbiAgICBzYWx0PzogQmlnTnVtYmVyaXNoO1xuICAgIGV4cGlyYXRpb25UaW1lPzogbnVtYmVyIHwgc3RyaW5nO1xuICAgIHBheW1lbnRUb2tlbkFkZHJlc3M6IHN0cmluZztcbiAgICBleGNsdWRlT3B0aW9uYWxDcmVhdG9yRmVlcz86IGJvb2xlYW47XG4gICAgb2ZmZXJQcm90ZWN0aW9uRW5hYmxlZD86IGJvb2xlYW47XG4gICAgdHJhaXRUeXBlPzogc3RyaW5nO1xuICAgIHRyYWl0VmFsdWU/OiBzdHJpbmc7XG4gIH0pOiBQcm9taXNlPENvbGxlY3Rpb25PZmZlciB8IG51bGw+IHtcbiAgICBhd2FpdCB0aGlzLl9yZXF1aXJlQWNjb3VudElzQXZhaWxhYmxlKGFjY291bnRBZGRyZXNzKTtcblxuICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBhd2FpdCB0aGlzLmFwaS5nZXRDb2xsZWN0aW9uKGNvbGxlY3Rpb25TbHVnKTtcbiAgICBjb25zdCBidWlsZE9mZmVyUmVzdWx0ID0gYXdhaXQgdGhpcy5hcGkuYnVpbGRPZmZlcihcbiAgICAgIGFjY291bnRBZGRyZXNzLFxuICAgICAgcXVhbnRpdHksXG4gICAgICBjb2xsZWN0aW9uU2x1ZyxcbiAgICAgIG9mZmVyUHJvdGVjdGlvbkVuYWJsZWQsXG4gICAgICB0cmFpdFR5cGUsXG4gICAgICB0cmFpdFZhbHVlLFxuICAgICk7XG4gICAgY29uc3QgaXRlbSA9IGJ1aWxkT2ZmZXJSZXN1bHQucGFydGlhbFBhcmFtZXRlcnMuY29uc2lkZXJhdGlvblswXTtcbiAgICBjb25zdCBjb252ZXJ0ZWRDb25zaWRlcmF0aW9uSXRlbSA9IHtcbiAgICAgIGl0ZW1UeXBlOiBpdGVtLml0ZW1UeXBlLFxuICAgICAgdG9rZW46IGl0ZW0udG9rZW4sXG4gICAgICBpZGVudGlmaWVyOiBpdGVtLmlkZW50aWZpZXJPckNyaXRlcmlhLFxuICAgICAgYW1vdW50OiBpdGVtLnN0YXJ0QW1vdW50LFxuICAgIH07XG5cbiAgICBjb25zdCB7IGJhc2VQcmljZSB9ID0gYXdhaXQgdGhpcy5fZ2V0UHJpY2VQYXJhbWV0ZXJzKFxuICAgICAgT3JkZXJTaWRlLkxJU1RJTkcsXG4gICAgICBwYXltZW50VG9rZW5BZGRyZXNzLFxuICAgICAgZXhwaXJhdGlvblRpbWUgPz8gZ2V0TWF4T3JkZXJFeHBpcmF0aW9uVGltZXN0YW1wKCksXG4gICAgICBhbW91bnQsXG4gICAgKTtcbiAgICBjb25zdCBjb25zaWRlcmF0aW9uRmVlSXRlbXMgPSBhd2FpdCB0aGlzLmdldEZlZXMoe1xuICAgICAgY29sbGVjdGlvbixcbiAgICAgIHBheW1lbnRUb2tlbkFkZHJlc3MsXG4gICAgICBzdGFydEFtb3VudDogYmFzZVByaWNlLFxuICAgICAgZW5kQW1vdW50OiBiYXNlUHJpY2UsXG4gICAgICBleGNsdWRlT3B0aW9uYWxDcmVhdG9yRmVlcyxcbiAgICB9KTtcblxuICAgIGNvbnN0IGNvbnNpZGVyYXRpb25JdGVtcyA9IFtcbiAgICAgIGNvbnZlcnRlZENvbnNpZGVyYXRpb25JdGVtLFxuICAgICAgLi4uY29uc2lkZXJhdGlvbkZlZUl0ZW1zLFxuICAgIF07XG5cbiAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgb2ZmZXJlcjogYWNjb3VudEFkZHJlc3MsXG4gICAgICBvZmZlcjogW1xuICAgICAgICB7XG4gICAgICAgICAgdG9rZW46IHBheW1lbnRUb2tlbkFkZHJlc3MsXG4gICAgICAgICAgYW1vdW50OiBiYXNlUHJpY2UudG9TdHJpbmcoKSxcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgICBjb25zaWRlcmF0aW9uOiBjb25zaWRlcmF0aW9uSXRlbXMsXG4gICAgICBlbmRUaW1lOlxuICAgICAgICBleHBpcmF0aW9uVGltZT8udG9TdHJpbmcoKSA/P1xuICAgICAgICBnZXRNYXhPcmRlckV4cGlyYXRpb25UaW1lc3RhbXAoKS50b1N0cmluZygpLFxuICAgICAgem9uZTogYnVpbGRPZmZlclJlc3VsdC5wYXJ0aWFsUGFyYW1ldGVycy56b25lLFxuICAgICAgZG9tYWluLFxuICAgICAgc2FsdDogQmlnSW50KHNhbHQgPz8gMCkudG9TdHJpbmcoKSxcbiAgICAgIHJlc3RyaWN0ZWRCeVpvbmU6IHRydWUsXG4gICAgICBhbGxvd1BhcnRpYWxGaWxsczogdHJ1ZSxcbiAgICB9O1xuXG4gICAgY29uc3QgeyBleGVjdXRlQWxsQWN0aW9ucyB9ID0gYXdhaXQgdGhpcy5zZWFwb3J0X3YxXzYuY3JlYXRlT3JkZXIoXG4gICAgICBwYXlsb2FkLFxuICAgICAgYWNjb3VudEFkZHJlc3MsXG4gICAgKTtcbiAgICBjb25zdCBvcmRlciA9IGF3YWl0IGV4ZWN1dGVBbGxBY3Rpb25zKCk7XG5cbiAgICByZXR1cm4gdGhpcy5hcGkucG9zdENvbGxlY3Rpb25PZmZlcihcbiAgICAgIG9yZGVyLFxuICAgICAgY29sbGVjdGlvblNsdWcsXG4gICAgICB0cmFpdFR5cGUsXG4gICAgICB0cmFpdFZhbHVlLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogRnVsZmlsbCBhIHByaXZhdGUgb3JkZXIgZm9yIGEgZGVzaWduYXRlZCBhZGRyZXNzLlxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5vcmRlciBUaGUgb3JkZXIgdG8gZnVsZmlsbFxuICAgKiBAcGFyYW0gb3B0aW9ucy5hY2NvdW50QWRkcmVzcyBBZGRyZXNzIG9mIHRoZSB3YWxsZXQgdGFraW5nIHRoZSBvcmRlci5cbiAgICogQHBhcmFtIG9wdGlvbnMuZG9tYWluIEFuIG9wdGlvbmFsIGRvbWFpbiB0byBiZSBoYXNoZWQgYW5kIGluY2x1ZGVkIGF0IHRoZSBlbmQgb2YgZnVsZmlsbG1lbnQgY2FsbGRhdGEuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBUaGlzIGNhbiBiZSB1c2VkIGZvciBvbi1jaGFpbiBvcmRlciBhdHRyaWJ1dGlvbiB0byBhc3Npc3Qgd2l0aCBhbmFseXRpY3MuXG4gICAqIEBwYXJhbSBvcHRpb25zLm92ZXJyaWRlcyBUcmFuc2FjdGlvbiBvdmVycmlkZXMsIGlnbm9yZWQgaWYgbm90IHNldC5cbiAgICogQHJldHVybnMgVHJhbnNhY3Rpb24gaGFzaCBvZiB0aGUgb3JkZXIuXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGZ1bGZpbGxQcml2YXRlT3JkZXIoe1xuICAgIG9yZGVyLFxuICAgIGFjY291bnRBZGRyZXNzLFxuICAgIGRvbWFpbixcbiAgICBvdmVycmlkZXMsXG4gIH06IHtcbiAgICBvcmRlcjogT3JkZXJWMjtcbiAgICBhY2NvdW50QWRkcmVzczogc3RyaW5nO1xuICAgIGRvbWFpbj86IHN0cmluZztcbiAgICBvdmVycmlkZXM/OiBPdmVycmlkZXM7XG4gIH0pOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGlmICghb3JkZXIudGFrZXI/LmFkZHJlc3MpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJPcmRlciBpcyBub3QgYSBwcml2YXRlIGxpc3RpbmcgLSBtdXN0IGhhdmUgYSB0YWtlciBhZGRyZXNzXCIsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBjb3VudGVyT3JkZXIgPSBjb25zdHJ1Y3RQcml2YXRlTGlzdGluZ0NvdW50ZXJPcmRlcihcbiAgICAgIG9yZGVyLnByb3RvY29sRGF0YSxcbiAgICAgIG9yZGVyLnRha2VyLmFkZHJlc3MsXG4gICAgKTtcbiAgICBjb25zdCBmdWxmaWxsbWVudHMgPSBnZXRQcml2YXRlTGlzdGluZ0Z1bGZpbGxtZW50cyhvcmRlci5wcm90b2NvbERhdGEpO1xuICAgIGNvbnN0IHNlYXBvcnQgPSB0aGlzLmdldFNlYXBvcnQob3JkZXIucHJvdG9jb2xBZGRyZXNzKTtcbiAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGF3YWl0IHNlYXBvcnRcbiAgICAgIC5tYXRjaE9yZGVycyh7XG4gICAgICAgIG9yZGVyczogW29yZGVyLnByb3RvY29sRGF0YSwgY291bnRlck9yZGVyXSxcbiAgICAgICAgZnVsZmlsbG1lbnRzLFxuICAgICAgICBvdmVycmlkZXM6IHtcbiAgICAgICAgICAuLi5vdmVycmlkZXMsXG4gICAgICAgICAgdmFsdWU6IGNvdW50ZXJPcmRlci5wYXJhbWV0ZXJzLm9mZmVyWzBdLnN0YXJ0QW1vdW50LFxuICAgICAgICB9LFxuICAgICAgICBhY2NvdW50QWRkcmVzcyxcbiAgICAgICAgZG9tYWluLFxuICAgICAgfSlcbiAgICAgIC50cmFuc2FjdCgpO1xuICAgIGNvbnN0IHRyYW5zYWN0aW9uUmVjZWlwdCA9IGF3YWl0IHRyYW5zYWN0aW9uLndhaXQoKTtcbiAgICBpZiAoIXRyYW5zYWN0aW9uUmVjZWlwdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyB0cmFuc2FjdGlvbiByZWNlaXB0XCIpO1xuICAgIH1cblxuICAgIGF3YWl0IHRoaXMuX2NvbmZpcm1UcmFuc2FjdGlvbihcbiAgICAgIHRyYW5zYWN0aW9uUmVjZWlwdC5oYXNoLFxuICAgICAgRXZlbnRUeXBlLk1hdGNoT3JkZXJzLFxuICAgICAgXCJGdWxmaWxsaW5nIG9yZGVyXCIsXG4gICAgKTtcbiAgICByZXR1cm4gdHJhbnNhY3Rpb25SZWNlaXB0Lmhhc2g7XG4gIH1cblxuICAvKipcbiAgICogRnVsZmlsbCBhbiBvcmRlciBmb3IgYW4gYXNzZXQuIFRoZSBvcmRlciBjYW4gYmUgZWl0aGVyIGEgbGlzdGluZyBvciBhbiBvZmZlci5cbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICogQHBhcmFtIG9wdGlvbnMub3JkZXIgVGhlIG9yZGVyIHRvIGZ1bGZpbGwsIGEuay5hLiBcInRha2VcIlxuICAgKiBAcGFyYW0gb3B0aW9ucy5hY2NvdW50QWRkcmVzcyBBZGRyZXNzIG9mIHRoZSB3YWxsZXQgdGFraW5nIHRoZSBvZmZlci5cbiAgICogQHBhcmFtIG9wdGlvbnMucmVjaXBpZW50QWRkcmVzcyBUaGUgb3B0aW9uYWwgYWRkcmVzcyB0byByZWNlaXZlIHRoZSBvcmRlcidzIGl0ZW0ocykgb3IgY3VycmVuY2llcy4gSWYgbm90IHNwZWNpZmllZCwgZGVmYXVsdHMgdG8gYWNjb3VudEFkZHJlc3MuXG4gICAqIEBwYXJhbSBvcHRpb25zLmRvbWFpbiBBbiBvcHRpb25hbCBkb21haW4gdG8gYmUgaGFzaGVkIGFuZCBpbmNsdWRlZCBhdCB0aGUgZW5kIG9mIGZ1bGZpbGxtZW50IGNhbGxkYXRhLiAgVGhpcyBjYW4gYmUgdXNlZCBmb3Igb24tY2hhaW4gb3JkZXIgYXR0cmlidXRpb24gdG8gYXNzaXN0IHdpdGggYW5hbHl0aWNzLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5vdmVycmlkZXMgVHJhbnNhY3Rpb24gb3ZlcnJpZGVzLCBpZ25vcmVkIGlmIG5vdCBzZXQuXG4gICAqIEByZXR1cm5zIFRyYW5zYWN0aW9uIGhhc2ggb2YgdGhlIG9yZGVyLlxuICAgKlxuICAgKiBAdGhyb3dzIEVycm9yIGlmIHRoZSBhY2NvdW50QWRkcmVzcyBpcyBub3QgYXZhaWxhYmxlIHRocm91Z2ggd2FsbGV0IG9yIHByb3ZpZGVyLlxuICAgKiBAdGhyb3dzIEVycm9yIGlmIHRoZSBvcmRlcidzIHByb3RvY29sIGFkZHJlc3MgaXMgbm90IHN1cHBvcnRlZCBieSBPcGVuU2VhLiBTZWUge0BsaW5rIGlzVmFsaWRQcm90b2NvbH0uXG4gICAqIEB0aHJvd3MgRXJyb3IgaWYgYXR0ZW1wdGluZyB0byBmdWxmaWxsIHRoZSBvcmRlciB3aXRoIGEgcmVjaXBpZW50IGFkZHJlc3Mgd2hpY2ggZG9lcyBub3QgbWF0Y2ggYSBwcml2YXRlIGxpc3RpbmcuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZnVsZmlsbE9yZGVyKHtcbiAgICBvcmRlcixcbiAgICBhY2NvdW50QWRkcmVzcyxcbiAgICByZWNpcGllbnRBZGRyZXNzLFxuICAgIGRvbWFpbixcbiAgICBvdmVycmlkZXMsXG4gIH06IHtcbiAgICBvcmRlcjogT3JkZXJWMiB8IE9yZGVyO1xuICAgIGFjY291bnRBZGRyZXNzOiBzdHJpbmc7XG4gICAgcmVjaXBpZW50QWRkcmVzcz86IHN0cmluZztcbiAgICBkb21haW4/OiBzdHJpbmc7XG4gICAgb3ZlcnJpZGVzPzogT3ZlcnJpZGVzO1xuICB9KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBhd2FpdCB0aGlzLl9yZXF1aXJlQWNjb3VudElzQXZhaWxhYmxlKGFjY291bnRBZGRyZXNzKTtcblxuICAgIGNvbnN0IHByb3RvY29sQWRkcmVzcyA9XG4gICAgICAob3JkZXIgYXMgT3JkZXJWMikucHJvdG9jb2xBZGRyZXNzID8/IChvcmRlciBhcyBPcmRlcikucHJvdG9jb2xfYWRkcmVzcztcbiAgICByZXF1aXJlVmFsaWRQcm90b2NvbChwcm90b2NvbEFkZHJlc3MpO1xuXG4gICAgY29uc3Qgb3JkZXJIYXNoID1cbiAgICAgIChvcmRlciBhcyBPcmRlclYyKS5vcmRlckhhc2ggPz8gKG9yZGVyIGFzIE9yZGVyKS5vcmRlcl9oYXNoO1xuXG4gICAgY29uc3Qgc2lkZSA9XG4gICAgICAob3JkZXIgYXMgT3JkZXJWMikuc2lkZSA/P1xuICAgICAgKFtPcmRlclR5cGUuQkFTSUMsIE9yZGVyVHlwZS5FTkdMSVNIXS5pbmNsdWRlcygob3JkZXIgYXMgTGlzdGluZykudHlwZSlcbiAgICAgICAgPyBPcmRlclNpZGUuTElTVElOR1xuICAgICAgICA6IE9yZGVyU2lkZS5PRkZFUik7XG5cbiAgICBsZXQgZXh0cmFEYXRhOiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cbiAgICBjb25zdCBwcm90b2NvbERhdGEgPVxuICAgICAgKG9yZGVyIGFzIE9yZGVyVjIpLnByb3RvY29sRGF0YSA/PyAob3JkZXIgYXMgT3JkZXIpLnByb3RvY29sX2RhdGE7XG5cbiAgICBpZiAob3JkZXJIYXNoKSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmFwaS5nZW5lcmF0ZUZ1bGZpbGxtZW50RGF0YShcbiAgICAgICAgYWNjb3VudEFkZHJlc3MsXG4gICAgICAgIG9yZGVySGFzaCxcbiAgICAgICAgcHJvdG9jb2xBZGRyZXNzLFxuICAgICAgICBzaWRlLFxuICAgICAgKTtcblxuICAgICAgLy8gSWYgdGhlIG9yZGVyIGlzIHVzaW5nIG9mZmVyIHByb3RlY3Rpb24sIHRoZSBleHRyYURhdGFcbiAgICAgIC8vIG11c3QgYmUgaW5jbHVkZWQgd2l0aCB0aGUgb3JkZXIgdG8gc3VjY2Vzc2Z1bGx5IGZ1bGZpbGwuXG4gICAgICBjb25zdCBpbnB1dERhdGEgPSByZXN1bHQuZnVsZmlsbG1lbnRfZGF0YS50cmFuc2FjdGlvbi5pbnB1dF9kYXRhO1xuICAgICAgaWYgKFwib3JkZXJzXCIgaW4gaW5wdXREYXRhICYmIFwiZXh0cmFEYXRhXCIgaW4gaW5wdXREYXRhLm9yZGVyc1swXSkge1xuICAgICAgICBleHRyYURhdGEgPSAoaW5wdXREYXRhLm9yZGVyc1swXSBhcyBBZHZhbmNlZE9yZGVyKS5leHRyYURhdGE7XG4gICAgICB9XG4gICAgICBjb25zdCBzaWduYXR1cmUgPSByZXN1bHQuZnVsZmlsbG1lbnRfZGF0YS5vcmRlcnNbMF0uc2lnbmF0dXJlO1xuICAgICAgcHJvdG9jb2xEYXRhLnNpZ25hdHVyZSA9IHNpZ25hdHVyZTtcbiAgICB9XG5cbiAgICBjb25zdCBpc1ByaXZhdGVMaXN0aW5nID0gXCJ0YWtlclwiIGluIG9yZGVyID8gISFvcmRlci50YWtlciA6IGZhbHNlO1xuICAgIGlmIChpc1ByaXZhdGVMaXN0aW5nKSB7XG4gICAgICBpZiAocmVjaXBpZW50QWRkcmVzcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJQcml2YXRlIGxpc3RpbmdzIGNhbm5vdCBiZSBmdWxmaWxsZWQgd2l0aCBhIHJlY2lwaWVudCBhZGRyZXNzXCIsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5mdWxmaWxsUHJpdmF0ZU9yZGVyKHtcbiAgICAgICAgb3JkZXI6IG9yZGVyIGFzIE9yZGVyVjIsXG4gICAgICAgIGFjY291bnRBZGRyZXNzLFxuICAgICAgICBkb21haW4sXG4gICAgICAgIG92ZXJyaWRlcyxcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHNlYXBvcnQgPSB0aGlzLmdldFNlYXBvcnQocHJvdG9jb2xBZGRyZXNzKTtcbiAgICBjb25zdCB7IGV4ZWN1dGVBbGxBY3Rpb25zIH0gPSBhd2FpdCBzZWFwb3J0LmZ1bGZpbGxPcmRlcih7XG4gICAgICBvcmRlcjogcHJvdG9jb2xEYXRhLFxuICAgICAgYWNjb3VudEFkZHJlc3MsXG4gICAgICByZWNpcGllbnRBZGRyZXNzLFxuICAgICAgZXh0cmFEYXRhLFxuICAgICAgZG9tYWluLFxuICAgICAgb3ZlcnJpZGVzLFxuICAgIH0pO1xuICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gYXdhaXQgZXhlY3V0ZUFsbEFjdGlvbnMoKTtcblxuICAgIGNvbnN0IHRyYW5zYWN0aW9uSGFzaCA9IGV0aGVycy5UcmFuc2FjdGlvbi5mcm9tKHRyYW5zYWN0aW9uKS5oYXNoO1xuICAgIGlmICghdHJhbnNhY3Rpb25IYXNoKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHRyYW5zYWN0aW9uIGhhc2hcIik7XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5fY29uZmlybVRyYW5zYWN0aW9uKFxuICAgICAgdHJhbnNhY3Rpb25IYXNoLFxuICAgICAgRXZlbnRUeXBlLk1hdGNoT3JkZXJzLFxuICAgICAgXCJGdWxmaWxsaW5nIG9yZGVyXCIsXG4gICAgKTtcbiAgICByZXR1cm4gdHJhbnNhY3Rpb25IYXNoO1xuICB9XG5cbiAgLyoqXG4gICAqIFV0aWxpdHkgZnVuY3Rpb24gdG8gZ2V0IHRoZSBTZWFwb3J0IGNsaWVudCBiYXNlZCBvbiB0aGUgYWRkcmVzcy5cbiAgICogQHBhcmFtIHByb3RvY29sQWRkcmVzcyBUaGUgU2VhcG9ydCBhZGRyZXNzLlxuICAgKi9cbiAgcHJpdmF0ZSBnZXRTZWFwb3J0KHByb3RvY29sQWRkcmVzczogc3RyaW5nKTogU2VhcG9ydCB7XG4gICAgY29uc3QgY2hlY2tzdW1tZWRQcm90b2NvbEFkZHJlc3MgPSBldGhlcnMuZ2V0QWRkcmVzcyhwcm90b2NvbEFkZHJlc3MpO1xuICAgIHN3aXRjaCAoY2hlY2tzdW1tZWRQcm90b2NvbEFkZHJlc3MpIHtcbiAgICAgIGNhc2UgQ1JPU1NfQ0hBSU5fU0VBUE9SVF9WMV81X0FERFJFU1M6XG4gICAgICAgIHJldHVybiB0aGlzLnNlYXBvcnRfdjFfNTtcbiAgICAgIGNhc2UgQ1JPU1NfQ0hBSU5fU0VBUE9SVF9WMV82X0FERFJFU1M6XG4gICAgICAgIHJldHVybiB0aGlzLnNlYXBvcnRfdjFfNjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgcHJvdG9jb2wgYWRkcmVzczogJHtwcm90b2NvbEFkZHJlc3N9YCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENhbmNlbCBvcmRlcnMgb25jaGFpbiwgcHJldmVudGluZyB0aGVtIGZyb20gYmVpbmcgZnVsZmlsbGVkLlxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5vcmRlcnMgVGhlIG9yZGVycyB0byBjYW5jZWxcbiAgICogQHBhcmFtIG9wdGlvbnMuYWNjb3VudEFkZHJlc3MgVGhlIGFjY291bnQgYWRkcmVzcyBjYW5jZWxsaW5nIHRoZSBvcmRlcnMuXG4gICAqIEBwYXJhbSBvcHRpb25zLmRvbWFpbiBBbiBvcHRpb25hbCBkb21haW4gdG8gYmUgaGFzaGVkIGFuZCBpbmNsdWRlZCBhdCB0aGUgZW5kIG9mIGZ1bGZpbGxtZW50IGNhbGxkYXRhLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgVGhpcyBjYW4gYmUgdXNlZCBmb3Igb24tY2hhaW4gb3JkZXIgYXR0cmlidXRpb24gdG8gYXNzaXN0IHdpdGggYW5hbHl0aWNzLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5vdmVycmlkZXMgVHJhbnNhY3Rpb24gb3ZlcnJpZGVzLCBpZ25vcmVkIGlmIG5vdCBzZXQuXG4gICAqIEByZXR1cm5zIFRyYW5zYWN0aW9uIGhhc2ggb2YgdGhlIG9yZGVyLlxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBjYW5jZWxTZWFwb3J0T3JkZXJzKHtcbiAgICBvcmRlcnMsXG4gICAgYWNjb3VudEFkZHJlc3MsXG4gICAgZG9tYWluLFxuICAgIHByb3RvY29sQWRkcmVzcyA9IERFRkFVTFRfU0VBUE9SVF9DT05UUkFDVF9BRERSRVNTLFxuICAgIG92ZXJyaWRlcyxcbiAgfToge1xuICAgIG9yZGVyczogT3JkZXJDb21wb25lbnRzW107XG4gICAgYWNjb3VudEFkZHJlc3M6IHN0cmluZztcbiAgICBkb21haW4/OiBzdHJpbmc7XG4gICAgcHJvdG9jb2xBZGRyZXNzPzogc3RyaW5nO1xuICAgIG92ZXJyaWRlcz86IE92ZXJyaWRlcztcbiAgfSk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgY29uc3Qgc2VhcG9ydCA9IHRoaXMuZ2V0U2VhcG9ydChwcm90b2NvbEFkZHJlc3MpO1xuXG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBhd2FpdCBzZWFwb3J0XG4gICAgICAuY2FuY2VsT3JkZXJzKG9yZGVycywgYWNjb3VudEFkZHJlc3MsIGRvbWFpbiwgb3ZlcnJpZGVzKVxuICAgICAgLnRyYW5zYWN0KCk7XG5cbiAgICByZXR1cm4gdHJhbnNhY3Rpb24uaGFzaDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYW5jZWwgYW4gb3JkZXIgb25jaGFpbiwgcHJldmVudGluZyBpdCBmcm9tIGV2ZXIgYmVpbmcgZnVsZmlsbGVkLlxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5vcmRlciBUaGUgb3JkZXIgdG8gY2FuY2VsXG4gICAqIEBwYXJhbSBvcHRpb25zLmFjY291bnRBZGRyZXNzIFRoZSBhY2NvdW50IGFkZHJlc3MgdGhhdCB3aWxsIGJlIGNhbmNlbGxpbmcgdGhlIG9yZGVyLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5kb21haW4gQW4gb3B0aW9uYWwgZG9tYWluIHRvIGJlIGhhc2hlZCBhbmQgaW5jbHVkZWQgYXQgdGhlIGVuZCBvZiBmdWxmaWxsbWVudCBjYWxsZGF0YS4gIFRoaXMgY2FuIGJlIHVzZWQgZm9yIG9uLWNoYWluIG9yZGVyIGF0dHJpYnV0aW9uIHRvIGFzc2lzdCB3aXRoIGFuYWx5dGljcy5cbiAgICpcbiAgICogQHRocm93cyBFcnJvciBpZiB0aGUgYWNjb3VudEFkZHJlc3MgaXMgbm90IGF2YWlsYWJsZSB0aHJvdWdoIHdhbGxldCBvciBwcm92aWRlci5cbiAgICogQHRocm93cyBFcnJvciBpZiB0aGUgb3JkZXIncyBwcm90b2NvbCBhZGRyZXNzIGlzIG5vdCBzdXBwb3J0ZWQgYnkgT3BlblNlYS4gU2VlIHtAbGluayBpc1ZhbGlkUHJvdG9jb2x9LlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGNhbmNlbE9yZGVyKHtcbiAgICBvcmRlcixcbiAgICBhY2NvdW50QWRkcmVzcyxcbiAgICBkb21haW4sXG4gIH06IHtcbiAgICBvcmRlcjogT3JkZXJWMjtcbiAgICBhY2NvdW50QWRkcmVzczogc3RyaW5nO1xuICAgIGRvbWFpbj86IHN0cmluZztcbiAgfSkge1xuICAgIGF3YWl0IHRoaXMuX3JlcXVpcmVBY2NvdW50SXNBdmFpbGFibGUoYWNjb3VudEFkZHJlc3MpO1xuICAgIHJlcXVpcmVWYWxpZFByb3RvY29sKG9yZGVyLnByb3RvY29sQWRkcmVzcyk7XG5cbiAgICB0aGlzLl9kaXNwYXRjaChFdmVudFR5cGUuQ2FuY2VsT3JkZXIsIHsgb3JkZXJWMjogb3JkZXIsIGFjY291bnRBZGRyZXNzIH0pO1xuXG4gICAgLy8gVHJhbnNhY3QgYW5kIGdldCB0aGUgdHJhbnNhY3Rpb24gaGFzaFxuICAgIGNvbnN0IHRyYW5zYWN0aW9uSGFzaCA9IGF3YWl0IHRoaXMuY2FuY2VsU2VhcG9ydE9yZGVycyh7XG4gICAgICBvcmRlcnM6IFtvcmRlci5wcm90b2NvbERhdGEucGFyYW1ldGVyc10sXG4gICAgICBhY2NvdW50QWRkcmVzcyxcbiAgICAgIGRvbWFpbixcbiAgICAgIHByb3RvY29sQWRkcmVzczogb3JkZXIucHJvdG9jb2xBZGRyZXNzLFxuICAgIH0pO1xuXG4gICAgLy8gQXdhaXQgdHJhbnNhY3Rpb24gY29uZmlybWF0aW9uXG4gICAgYXdhaXQgdGhpcy5fY29uZmlybVRyYW5zYWN0aW9uKFxuICAgICAgdHJhbnNhY3Rpb25IYXNoLFxuICAgICAgRXZlbnRUeXBlLkNhbmNlbE9yZGVyLFxuICAgICAgXCJDYW5jZWxsaW5nIG9yZGVyXCIsXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgX2dldFNlYXBvcnRWZXJzaW9uKHByb3RvY29sQWRkcmVzczogc3RyaW5nKSB7XG4gICAgY29uc3QgcHJvdG9jb2xBZGRyZXNzQ2hlY2tzdW1tZWQgPSBldGhlcnMuZ2V0QWRkcmVzcyhwcm90b2NvbEFkZHJlc3MpO1xuICAgIHN3aXRjaCAocHJvdG9jb2xBZGRyZXNzQ2hlY2tzdW1tZWQpIHtcbiAgICAgIGNhc2UgQ1JPU1NfQ0hBSU5fU0VBUE9SVF9WMV82X0FERFJFU1M6XG4gICAgICAgIHJldHVybiBcIjEuNlwiO1xuICAgICAgY2FzZSBDUk9TU19DSEFJTl9TRUFQT1JUX1YxXzVfQUREUkVTUzpcbiAgICAgICAgcmV0dXJuIFwiMS41XCI7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIG9yIHVuc3VwcG9ydGVkIHByb3RvY29sIGFkZHJlc3NcIik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgb2ZmZXJlciBzaWduYXR1cmUgZm9yIGNhbmNlbGluZyBhbiBvcmRlciBvZmZjaGFpbi5cbiAgICogVGhlIHNpZ25hdHVyZSB3aWxsIG9ubHkgYmUgdmFsaWQgaWYgdGhlIHNpZ25lciBhZGRyZXNzIGlzIHRoZSBhZGRyZXNzIG9mIHRoZSBvcmRlcidzIG9mZmVyZXIuXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIF9nZXRPZmZlcmVyU2lnbmF0dXJlKFxuICAgIHByb3RvY29sQWRkcmVzczogc3RyaW5nLFxuICAgIG9yZGVySGFzaDogc3RyaW5nLFxuICAgIGNoYWluOiBDaGFpbixcbiAgKSB7XG4gICAgY29uc3QgY2hhaW5JZCA9IGdldENoYWluSWQoY2hhaW4pO1xuICAgIGNvbnN0IG5hbWUgPSBcIlNlYXBvcnRcIjtcbiAgICBjb25zdCB2ZXJzaW9uID0gdGhpcy5fZ2V0U2VhcG9ydFZlcnNpb24ocHJvdG9jb2xBZGRyZXNzKTtcblxuICAgIGlmIChcbiAgICAgIHR5cGVvZiAodGhpcy5fc2lnbmVyT3JQcm92aWRlciBhcyBTaWduZXIpLnNpZ25UeXBlZERhdGEgPT0gXCJ1bmRlZmluZWRcIlxuICAgICkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlBsZWFzZSBwYXNzIGFuIGV0aGVycyBTaWduZXIgaW50byB0aGlzIHNkayB0byBkZXJpdmUgYW4gb2ZmZXJlciBzaWduYXR1cmVcIixcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuICh0aGlzLl9zaWduZXJPclByb3ZpZGVyIGFzIFNpZ25lcikuc2lnblR5cGVkRGF0YShcbiAgICAgIHsgY2hhaW5JZCwgbmFtZSwgdmVyc2lvbiwgdmVyaWZ5aW5nQ29udHJhY3Q6IHByb3RvY29sQWRkcmVzcyB9LFxuICAgICAgeyBPcmRlckhhc2g6IFt7IG5hbWU6IFwib3JkZXJIYXNoXCIsIHR5cGU6IFwiYnl0ZXMzMlwiIH1dIH0sXG4gICAgICB7IG9yZGVySGFzaCB9LFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogT2ZmY2hhaW4gY2FuY2VsIGFuIG9yZGVyLCBvZmZlciBvciBsaXN0aW5nLCBieSBpdHMgb3JkZXIgaGFzaCB3aGVuIHByb3RlY3RlZCBieSB0aGUgU2lnbmVkWm9uZS5cbiAgICogUHJvdG9jb2wgYW5kIENoYWluIGFyZSByZXF1aXJlZCB0byBwcmV2ZW50IGhhc2ggY29sbGlzaW9ucy5cbiAgICogUGxlYXNlIG5vdGUgY2FuY2VsbGF0aW9uIGlzIG9ubHkgYXNzdXJlZCBpZiBhIGZ1bGZpbGxtZW50IHNpZ25hdHVyZSB3YXMgbm90IHZlbmRlZCBwcmlvciB0byBjYW5jZWxsYXRpb24uXG4gICAqIEBwYXJhbSBwcm90b2NvbEFkZHJlc3MgVGhlIFNlYXBvcnQgYWRkcmVzcyBmb3IgdGhlIG9yZGVyLlxuICAgKiBAcGFyYW0gb3JkZXJIYXNoIFRoZSBvcmRlciBoYXNoLCBvciBleHRlcm5hbCBpZGVudGlmaWVyLCBvZiB0aGUgb3JkZXIuXG4gICAqIEBwYXJhbSBjaGFpbiBUaGUgY2hhaW4gd2hlcmUgdGhlIG9yZGVyIGlzIGxvY2F0ZWQuXG4gICAqIEBwYXJhbSBvZmZlcmVyU2lnbmF0dXJlIEFuIEVJUC03MTIgc2lnbmF0dXJlIGZyb20gdGhlIG9mZmVyZXIgb2YgdGhlIG9yZGVyLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBJZiB0aGlzIGlzIG5vdCBwcm92aWRlZCwgdGhlIHVzZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBBUEkgS2V5IHdpbGwgYmUgY2hlY2tlZCBpbnN0ZWFkLlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBUaGUgc2lnbmF0dXJlIG11c3QgYmUgYSBFSVAtNzEyIHNpZ25hdHVyZSBjb25zaXN0aW5nIG9mIHRoZSBvcmRlcidzIFNlYXBvcnQgY29udHJhY3Qnc1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lLCB2ZXJzaW9uLCBhZGRyZXNzLCBhbmQgY2hhaW4uIFRoZSBzdHJ1Y3QgdG8gc2lnbiBpcyBgT3JkZXJIYXNoYCBjb250YWluaW5nIGFcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2xlIGJ5dGVzMzIgZmllbGQuXG4gICAqIEBwYXJhbSB1c2VTaWduZXJUb0Rlcml2ZU9mZmVyZXJTaWduYXR1cmUgRGVyaXZlIHRoZSBvZmZlcmVyU2lnbmF0dXJlIGZyb20gdGhlIEV0aGVycyBzaWduZXIgcGFzc2VkIGludG8gdGhpcyBzZGsuXG4gICAqIEByZXR1cm5zIFRoZSByZXNwb25zZSBmcm9tIHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgb2ZmY2hhaW5DYW5jZWxPcmRlcihcbiAgICBwcm90b2NvbEFkZHJlc3M6IHN0cmluZyxcbiAgICBvcmRlckhhc2g6IHN0cmluZyxcbiAgICBjaGFpbjogQ2hhaW4gPSB0aGlzLmNoYWluLFxuICAgIG9mZmVyZXJTaWduYXR1cmU/OiBzdHJpbmcsXG4gICAgdXNlU2lnbmVyVG9EZXJpdmVPZmZlcmVyU2lnbmF0dXJlPzogYm9vbGVhbixcbiAgKSB7XG4gICAgaWYgKHVzZVNpZ25lclRvRGVyaXZlT2ZmZXJlclNpZ25hdHVyZSkge1xuICAgICAgb2ZmZXJlclNpZ25hdHVyZSA9IGF3YWl0IHRoaXMuX2dldE9mZmVyZXJTaWduYXR1cmUoXG4gICAgICAgIHByb3RvY29sQWRkcmVzcyxcbiAgICAgICAgb3JkZXJIYXNoLFxuICAgICAgICBjaGFpbixcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmFwaS5vZmZjaGFpbkNhbmNlbE9yZGVyKFxuICAgICAgcHJvdG9jb2xBZGRyZXNzLFxuICAgICAgb3JkZXJIYXNoLFxuICAgICAgY2hhaW4sXG4gICAgICBvZmZlcmVyU2lnbmF0dXJlLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIGFuIG9yZGVyIGlzIGZ1bGZpbGxhYmxlLlxuICAgKiBBbiBvcmRlciBtYXkgbm90IGJlIGZ1bGZpbGxhYmxlIGlmIGEgdGFyZ2V0IGl0ZW0ncyB0cmFuc2ZlciBmdW5jdGlvblxuICAgKiBpcyBsb2NrZWQgZm9yIHNvbWUgcmVhc29uLCBlLmcuIGFuIGl0ZW0gaXMgYmVpbmcgcmVudGVkIHdpdGhpbiBhIGdhbWVcbiAgICogb3IgdHJhZGluZyBoYXMgYmVlbiBsb2NrZWQgZm9yIGFuIGl0ZW0gdHlwZS5cbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICogQHBhcmFtIG9wdGlvbnMub3JkZXIgT3JkZXIgdG8gY2hlY2tcbiAgICogQHBhcmFtIG9wdGlvbnMuYWNjb3VudEFkZHJlc3MgVGhlIGFjY291bnQgYWRkcmVzcyB0aGF0IHdpbGwgYmUgZnVsZmlsbGluZyB0aGUgb3JkZXJcbiAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgb3JkZXIgaXMgZnVsZmlsbGFibGUsIGVsc2UgRmFsc2UuXG4gICAqXG4gICAqIEB0aHJvd3MgRXJyb3IgaWYgdGhlIG9yZGVyJ3MgcHJvdG9jb2wgYWRkcmVzcyBpcyBub3Qgc3VwcG9ydGVkIGJ5IE9wZW5TZWEuIFNlZSB7QGxpbmsgaXNWYWxpZFByb3RvY29sfS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBpc09yZGVyRnVsZmlsbGFibGUoe1xuICAgIG9yZGVyLFxuICAgIGFjY291bnRBZGRyZXNzLFxuICB9OiB7XG4gICAgb3JkZXI6IE9yZGVyVjI7XG4gICAgYWNjb3VudEFkZHJlc3M6IHN0cmluZztcbiAgfSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJlcXVpcmVWYWxpZFByb3RvY29sKG9yZGVyLnByb3RvY29sQWRkcmVzcyk7XG5cbiAgICBjb25zdCBzZWFwb3J0ID0gdGhpcy5nZXRTZWFwb3J0KG9yZGVyLnByb3RvY29sQWRkcmVzcyk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgaXNWYWxpZCA9IGF3YWl0IHNlYXBvcnRcbiAgICAgICAgLnZhbGlkYXRlKFtvcmRlci5wcm90b2NvbERhdGFdLCBhY2NvdW50QWRkcmVzcylcbiAgICAgICAgLnN0YXRpY0NhbGwoKTtcbiAgICAgIHJldHVybiAhIWlzVmFsaWQ7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGlmIChoYXNFcnJvckNvZGUoZXJyb3IpICYmIGVycm9yLmNvZGUgPT09IFwiQ0FMTF9FWENFUFRJT05cIikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFuIGFjY291bnQncyBiYWxhbmNlIG9mIGFueSBBc3NldC4gVGhpcyBhc3NldCBjYW4gYmUgYW4gRVJDMjAsIEVSQzExNTUsIG9yIEVSQzcyMS5cbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICogQHBhcmFtIG9wdGlvbnMuYWNjb3VudEFkZHJlc3MgQWNjb3VudCBhZGRyZXNzIHRvIGNoZWNrXG4gICAqIEBwYXJhbSBvcHRpb25zLmFzc2V0IFRoZSBBc3NldCB0byBjaGVjayBiYWxhbmNlIGZvci4gdG9rZW5TdGFuZGFyZCBtdXN0IGJlIHNldC5cbiAgICogQHJldHVybnMgVGhlIGJhbGFuY2Ugb2YgdGhlIGFzc2V0IGZvciB0aGUgYWNjb3VudC5cbiAgICpcbiAgICogQHRocm93cyBFcnJvciBpZiB0aGUgdG9rZW4gc3RhbmRhcmQgZG9lcyBub3Qgc3VwcG9ydCBiYWxhbmNlT2YuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0QmFsYW5jZSh7XG4gICAgYWNjb3VudEFkZHJlc3MsXG4gICAgYXNzZXQsXG4gIH06IHtcbiAgICBhY2NvdW50QWRkcmVzczogc3RyaW5nO1xuICAgIGFzc2V0OiBBc3NldFdpdGhUb2tlblN0YW5kYXJkO1xuICB9KTogUHJvbWlzZTxiaWdpbnQ+IHtcbiAgICBzd2l0Y2ggKGFzc2V0LnRva2VuU3RhbmRhcmQpIHtcbiAgICAgIGNhc2UgVG9rZW5TdGFuZGFyZC5FUkMyMDoge1xuICAgICAgICBjb25zdCBjb250cmFjdCA9IEVSQzIwX19mYWN0b3J5LmNvbm5lY3QoXG4gICAgICAgICAgYXNzZXQudG9rZW5BZGRyZXNzLFxuICAgICAgICAgIHRoaXMucHJvdmlkZXIsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBhd2FpdCBjb250cmFjdC5iYWxhbmNlT2Yuc3RhdGljQ2FsbChhY2NvdW50QWRkcmVzcyk7XG4gICAgICB9XG4gICAgICBjYXNlIFRva2VuU3RhbmRhcmQuRVJDMTE1NToge1xuICAgICAgICBpZiAoYXNzZXQudG9rZW5JZCA9PT0gdW5kZWZpbmVkIHx8IGFzc2V0LnRva2VuSWQgPT09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIEVSQzExNTUgdG9rZW5JZCBmb3IgZ2V0QmFsYW5jZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250cmFjdCA9IEVSQzExNTVfX2ZhY3RvcnkuY29ubmVjdChcbiAgICAgICAgICBhc3NldC50b2tlbkFkZHJlc3MsXG4gICAgICAgICAgdGhpcy5wcm92aWRlcixcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGNvbnRyYWN0LmJhbGFuY2VPZi5zdGF0aWNDYWxsKFxuICAgICAgICAgIGFjY291bnRBZGRyZXNzLFxuICAgICAgICAgIGFzc2V0LnRva2VuSWQsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjYXNlIFRva2VuU3RhbmRhcmQuRVJDNzIxOiB7XG4gICAgICAgIGlmIChhc3NldC50b2tlbklkID09PSB1bmRlZmluZWQgfHwgYXNzZXQudG9rZW5JZCA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgRVJDNzIxIHRva2VuSWQgZm9yIGdldEJhbGFuY2VcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udHJhY3QgPSBFUkM3MjFfX2ZhY3RvcnkuY29ubmVjdChcbiAgICAgICAgICBhc3NldC50b2tlbkFkZHJlc3MsXG4gICAgICAgICAgdGhpcy5wcm92aWRlcixcbiAgICAgICAgKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBvd25lciA9IGF3YWl0IGNvbnRyYWN0Lm93bmVyT2Yuc3RhdGljQ2FsbChhc3NldC50b2tlbklkKTtcbiAgICAgICAgICByZXR1cm4gQmlnSW50KG93bmVyLnRvTG93ZXJDYXNlKCkgPT0gYWNjb3VudEFkZHJlc3MudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICAgYEZhaWxlZCB0byBnZXQgb3duZXJPZiBFUkM3MjE6ICR7ZXJyb3IubWVzc2FnZSA/PyBlcnJvcn1gLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIDBuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCB0b2tlbiBzdGFuZGFyZCBmb3IgZ2V0QmFsYW5jZVwiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVHJhbnNmZXIgYW4gYXNzZXQuIFRoaXMgYXNzZXQgY2FuIGJlIGFuIEVSQzIwLCBFUkMxMTU1LCBvciBFUkM3MjEuXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEBwYXJhbSBvcHRpb25zLmFzc2V0IFRoZSBBc3NldCB0byB0cmFuc2Zlci4gdG9rZW5TdGFuZGFyZCBtdXN0IGJlIHNldC5cbiAgICogQHBhcmFtIG9wdGlvbnMuYW1vdW50IEFtb3VudCBvZiBhc3NldCB0byB0cmFuc2Zlci4gTm90IHVzZWQgZm9yIEVSQzcyMS5cbiAgICogQHBhcmFtIG9wdGlvbnMuZnJvbUFkZHJlc3MgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgZnJvbVxuICAgKiBAcGFyYW0gb3B0aW9ucy50b0FkZHJlc3MgVGhlIGFkZHJlc3MgdG8gdHJhbnNmZXIgdG9cbiAgICogQHBhcmFtIG9wdGlvbnMub3ZlcnJpZGVzIFRyYW5zYWN0aW9uIG92ZXJyaWRlcywgaWdub3JlZCBpZiBub3Qgc2V0LlxuICAgKi9cbiAgcHVibGljIGFzeW5jIHRyYW5zZmVyKHtcbiAgICBhc3NldCxcbiAgICBhbW91bnQsXG4gICAgZnJvbUFkZHJlc3MsXG4gICAgdG9BZGRyZXNzLFxuICAgIG92ZXJyaWRlcyxcbiAgfToge1xuICAgIGFzc2V0OiBBc3NldFdpdGhUb2tlblN0YW5kYXJkO1xuICAgIGFtb3VudD86IEJpZ051bWJlcmlzaDtcbiAgICBmcm9tQWRkcmVzczogc3RyaW5nO1xuICAgIHRvQWRkcmVzczogc3RyaW5nO1xuICAgIG92ZXJyaWRlcz86IE92ZXJyaWRlcztcbiAgfSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IHRoaXMuX3JlcXVpcmVBY2NvdW50SXNBdmFpbGFibGUoZnJvbUFkZHJlc3MpO1xuICAgIG92ZXJyaWRlcyA9IHsgLi4ub3ZlcnJpZGVzLCBmcm9tOiBmcm9tQWRkcmVzcyB9O1xuICAgIGxldCB0cmFuc2FjdGlvbjogUHJvbWlzZTxDb250cmFjdFRyYW5zYWN0aW9uUmVzcG9uc2U+O1xuXG4gICAgc3dpdGNoIChhc3NldC50b2tlblN0YW5kYXJkKSB7XG4gICAgICBjYXNlIFRva2VuU3RhbmRhcmQuRVJDMjA6IHtcbiAgICAgICAgaWYgKCFhbW91bnQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIEVSQzIwIGFtb3VudCBmb3IgdHJhbnNmZXJcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udHJhY3QgPSBFUkMyMF9fZmFjdG9yeS5jb25uZWN0KFxuICAgICAgICAgIGFzc2V0LnRva2VuQWRkcmVzcyxcbiAgICAgICAgICB0aGlzLl9zaWduZXJPclByb3ZpZGVyLFxuICAgICAgICApO1xuICAgICAgICB0cmFuc2FjdGlvbiA9IGNvbnRyYWN0LnRyYW5zZmVyKHRvQWRkcmVzcywgYW1vdW50LCBvdmVycmlkZXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgVG9rZW5TdGFuZGFyZC5FUkMxMTU1OiB7XG4gICAgICAgIGlmIChhc3NldC50b2tlbklkID09PSB1bmRlZmluZWQgfHwgYXNzZXQudG9rZW5JZCA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgRVJDMTE1NSB0b2tlbklkIGZvciB0cmFuc2ZlclwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFtb3VudCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgRVJDMTE1NSBhbW91bnQgZm9yIHRyYW5zZmVyXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRyYWN0ID0gRVJDMTE1NV9fZmFjdG9yeS5jb25uZWN0KFxuICAgICAgICAgIGFzc2V0LnRva2VuQWRkcmVzcyxcbiAgICAgICAgICB0aGlzLl9zaWduZXJPclByb3ZpZGVyLFxuICAgICAgICApO1xuICAgICAgICB0cmFuc2FjdGlvbiA9IGNvbnRyYWN0LnNhZmVUcmFuc2ZlckZyb20oXG4gICAgICAgICAgZnJvbUFkZHJlc3MsXG4gICAgICAgICAgdG9BZGRyZXNzLFxuICAgICAgICAgIGFzc2V0LnRva2VuSWQsXG4gICAgICAgICAgYW1vdW50LFxuICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgb3ZlcnJpZGVzLFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgVG9rZW5TdGFuZGFyZC5FUkM3MjE6IHtcbiAgICAgICAgaWYgKGFzc2V0LnRva2VuSWQgPT09IHVuZGVmaW5lZCB8fCBhc3NldC50b2tlbklkID09PSBudWxsKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBFUkM3MjEgdG9rZW5JZCBmb3IgdHJhbnNmZXJcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udHJhY3QgPSBFUkM3MjFfX2ZhY3RvcnkuY29ubmVjdChcbiAgICAgICAgICBhc3NldC50b2tlbkFkZHJlc3MsXG4gICAgICAgICAgdGhpcy5fc2lnbmVyT3JQcm92aWRlcixcbiAgICAgICAgKTtcbiAgICAgICAgdHJhbnNhY3Rpb24gPSBjb250cmFjdC50cmFuc2ZlckZyb20oXG4gICAgICAgICAgZnJvbUFkZHJlc3MsXG4gICAgICAgICAgdG9BZGRyZXNzLFxuICAgICAgICAgIGFzc2V0LnRva2VuSWQsXG4gICAgICAgICAgb3ZlcnJpZGVzLFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIHRva2VuIHN0YW5kYXJkIGZvciB0cmFuc2ZlclwiKTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgdHJhbnNhY3Rpb25SZXNwb25zZSA9IGF3YWl0IHRyYW5zYWN0aW9uO1xuICAgICAgYXdhaXQgdGhpcy5fY29uZmlybVRyYW5zYWN0aW9uKFxuICAgICAgICB0cmFuc2FjdGlvblJlc3BvbnNlLmhhc2gsXG4gICAgICAgIEV2ZW50VHlwZS5UcmFuc2ZlcixcbiAgICAgICAgXCJUcmFuc2ZlcnJpbmcgYXNzZXRcIixcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgdGhpcy5fZGlzcGF0Y2goRXZlbnRUeXBlLlRyYW5zYWN0aW9uRGVuaWVkLCB7XG4gICAgICAgIGVycm9yLFxuICAgICAgICBhY2NvdW50QWRkcmVzczogZnJvbUFkZHJlc3MsXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW5zdGVhZCBvZiBzaWduaW5nIGFuIG9mZi1jaGFpbiBvcmRlciwgdGhpcyBtZXRob2RzIGFsbG93cyB5b3UgdG8gYXBwcm92ZSBhbiBvcmRlclxuICAgKiB3aXRoIG9uIG9uLWNoYWluIHRyYW5zYWN0aW9uLlxuICAgKiBAcGFyYW0gb3JkZXIgT3JkZXIgdG8gYXBwcm92ZVxuICAgKiBAcGFyYW0gZG9tYWluIEFuIG9wdGlvbmFsIGRvbWFpbiB0byBiZSBoYXNoZWQgYW5kIGluY2x1ZGVkIGF0IHRoZSBlbmQgb2YgZnVsZmlsbG1lbnQgY2FsbGRhdGEuICBUaGlzIGNhbiBiZSB1c2VkIGZvciBvbi1jaGFpbiBvcmRlciBhdHRyaWJ1dGlvbiB0byBhc3Npc3Qgd2l0aCBhbmFseXRpY3MuXG4gICAqIEByZXR1cm5zIFRyYW5zYWN0aW9uIGhhc2ggb2YgdGhlIGFwcHJvdmFsIHRyYW5zYWN0aW9uXG4gICAqXG4gICAqIEB0aHJvd3MgRXJyb3IgaWYgdGhlIGFjY291bnRBZGRyZXNzIGlzIG5vdCBhdmFpbGFibGUgdGhyb3VnaCB3YWxsZXQgb3IgcHJvdmlkZXIuXG4gICAqIEB0aHJvd3MgRXJyb3IgaWYgdGhlIG9yZGVyJ3MgcHJvdG9jb2wgYWRkcmVzcyBpcyBub3Qgc3VwcG9ydGVkIGJ5IE9wZW5TZWEuIFNlZSB7QGxpbmsgaXNWYWxpZFByb3RvY29sfS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBhcHByb3ZlT3JkZXIob3JkZXI6IE9yZGVyVjIsIGRvbWFpbj86IHN0cmluZykge1xuICAgIGF3YWl0IHRoaXMuX3JlcXVpcmVBY2NvdW50SXNBdmFpbGFibGUob3JkZXIubWFrZXIuYWRkcmVzcyk7XG4gICAgcmVxdWlyZVZhbGlkUHJvdG9jb2wob3JkZXIucHJvdG9jb2xBZGRyZXNzKTtcblxuICAgIHRoaXMuX2Rpc3BhdGNoKEV2ZW50VHlwZS5BcHByb3ZlT3JkZXIsIHtcbiAgICAgIG9yZGVyVjI6IG9yZGVyLFxuICAgICAgYWNjb3VudEFkZHJlc3M6IG9yZGVyLm1ha2VyLmFkZHJlc3MsXG4gICAgfSk7XG5cbiAgICBjb25zdCBzZWFwb3J0ID0gdGhpcy5nZXRTZWFwb3J0KG9yZGVyLnByb3RvY29sQWRkcmVzcyk7XG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBhd2FpdCBzZWFwb3J0XG4gICAgICAudmFsaWRhdGUoW29yZGVyLnByb3RvY29sRGF0YV0sIG9yZGVyLm1ha2VyLmFkZHJlc3MsIGRvbWFpbilcbiAgICAgIC50cmFuc2FjdCgpO1xuXG4gICAgYXdhaXQgdGhpcy5fY29uZmlybVRyYW5zYWN0aW9uKFxuICAgICAgdHJhbnNhY3Rpb24uaGFzaCxcbiAgICAgIEV2ZW50VHlwZS5BcHByb3ZlT3JkZXIsXG4gICAgICBcIkFwcHJvdmluZyBvcmRlclwiLFxuICAgICk7XG5cbiAgICByZXR1cm4gdHJhbnNhY3Rpb24uaGFzaDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb21wdXRlIHRoZSBgYmFzZVByaWNlYCBhbmQgYGVuZFByaWNlYCBwYXJhbWV0ZXJzIHRvIGJlIHVzZWQgdG8gcHJpY2UgYW4gb3JkZXIuXG4gICAqIEFsc28gdmFsaWRhdGVzIHRoZSBleHBpcmF0aW9uIHRpbWUgYW5kIGF1Y3Rpb24gdHlwZS5cbiAgICogQHBhcmFtIHRva2VuQWRkcmVzcyBBZGRyZXNzIG9mIHRoZSBFUkMtMjAgdG9rZW4gdG8gdXNlIGZvciB0cmFkaW5nLiBVc2UgdGhlIG51bGwgYWRkcmVzcyBmb3IgRVRILlxuICAgKiBAcGFyYW0gZXhwaXJhdGlvblRpbWUgV2hlbiB0aGUgYXVjdGlvbiBleHBpcmVzLCBvciAwIGlmIG5ldmVyLlxuICAgKiBAcGFyYW0gc3RhcnRBbW91bnQgVGhlIGJhc2UgdmFsdWUgZm9yIHRoZSBvcmRlciwgaW4gdGhlIHRva2VuJ3MgbWFpbiB1bml0cyAoZS5nLiBFVEggaW5zdGVhZCBvZiB3ZWkpXG4gICAqIEBwYXJhbSBlbmRBbW91bnQgVGhlIGVuZCB2YWx1ZSBmb3IgdGhlIG9yZGVyLCBpbiB0aGUgdG9rZW4ncyBtYWluIHVuaXRzIChlLmcuIEVUSCBpbnN0ZWFkIG9mIHdlaSlcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgX2dldFByaWNlUGFyYW1ldGVycyhcbiAgICBvcmRlclNpZGU6IE9yZGVyU2lkZSxcbiAgICB0b2tlbkFkZHJlc3M6IHN0cmluZyxcbiAgICBleHBpcmF0aW9uVGltZTogQmlnTnVtYmVyaXNoLFxuICAgIHN0YXJ0QW1vdW50OiBCaWdOdW1iZXJpc2gsXG4gICAgZW5kQW1vdW50PzogQmlnTnVtYmVyaXNoLFxuICApIHtcbiAgICB0b2tlbkFkZHJlc3MgPSB0b2tlbkFkZHJlc3MudG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBpc0V0aGVyID0gdG9rZW5BZGRyZXNzID09PSBldGhlcnMuWmVyb0FkZHJlc3M7XG4gICAgbGV0IGRlY2ltYWxzID0gMTg7XG4gICAgaWYgKCFpc0V0aGVyKSB7XG4gICAgICBpZiAodG9rZW5BZGRyZXNzIGluIHRoaXMuX2NhY2hlZFBheW1lbnRUb2tlbkRlY2ltYWxzKSB7XG4gICAgICAgIGRlY2ltYWxzID0gdGhpcy5fY2FjaGVkUGF5bWVudFRva2VuRGVjaW1hbHNbdG9rZW5BZGRyZXNzXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHBheW1lbnRUb2tlbiA9IGF3YWl0IHRoaXMuYXBpLmdldFBheW1lbnRUb2tlbih0b2tlbkFkZHJlc3MpO1xuICAgICAgICB0aGlzLl9jYWNoZWRQYXltZW50VG9rZW5EZWNpbWFsc1t0b2tlbkFkZHJlc3NdID0gcGF5bWVudFRva2VuLmRlY2ltYWxzO1xuICAgICAgICBkZWNpbWFscyA9IHBheW1lbnRUb2tlbi5kZWNpbWFscztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzdGFydEFtb3VudFdlaSA9IGV0aGVycy5wYXJzZVVuaXRzKHN0YXJ0QW1vdW50LnRvU3RyaW5nKCksIGRlY2ltYWxzKTtcbiAgICBjb25zdCBlbmRBbW91bnRXZWkgPSBlbmRBbW91bnRcbiAgICAgID8gZXRoZXJzLnBhcnNlVW5pdHMoZW5kQW1vdW50LnRvU3RyaW5nKCksIGRlY2ltYWxzKVxuICAgICAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcHJpY2VEaWZmV2VpID1cbiAgICAgIGVuZEFtb3VudFdlaSAhPT0gdW5kZWZpbmVkID8gc3RhcnRBbW91bnRXZWkgLSBlbmRBbW91bnRXZWkgOiAwbjtcblxuICAgIGNvbnN0IGJhc2VQcmljZSA9IHN0YXJ0QW1vdW50V2VpO1xuICAgIGNvbnN0IGVuZFByaWNlID0gZW5kQW1vdW50V2VpO1xuXG4gICAgLy8gVmFsaWRhdGlvblxuICAgIGlmIChzdGFydEFtb3VudCA9PSBudWxsIHx8IHN0YXJ0QW1vdW50V2VpIDwgMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3RhcnRpbmcgcHJpY2UgbXVzdCBiZSBhIG51bWJlciA+PSAwXCIpO1xuICAgIH1cbiAgICBpZiAoaXNFdGhlciAmJiBvcmRlclNpZGUgPT09IE9yZGVyU2lkZS5PRkZFUikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT2ZmZXJzIG11c3QgdXNlIHdyYXBwZWQgRVRIIG9yIGFuIEVSQy0yMCB0b2tlbi5cIik7XG4gICAgfVxuICAgIGlmIChwcmljZURpZmZXZWkgPCAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiRW5kIHByaWNlIG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSBzdGFydCBwcmljZS5cIixcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChwcmljZURpZmZXZWkgPiAwICYmIEJpZ0ludChleHBpcmF0aW9uVGltZSkgPT09IDBuKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiRXhwaXJhdGlvbiB0aW1lIG11c3QgYmUgc2V0IGlmIG9yZGVyIHdpbGwgY2hhbmdlIGluIHByaWNlLlwiLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgYmFzZVByaWNlLCBlbmRQcmljZSB9O1xuICB9XG5cbiAgcHJpdmF0ZSBfZGlzcGF0Y2goZXZlbnQ6IEV2ZW50VHlwZSwgZGF0YTogRXZlbnREYXRhKSB7XG4gICAgdGhpcy5fZW1pdHRlci5lbWl0KGV2ZW50LCBkYXRhKTtcbiAgfVxuXG4gIC8qKiBHZXQgdGhlIGFjY291bnRzIGF2YWlsYWJsZSBmcm9tIHRoZSBzaWduZXIgb3IgcHJvdmlkZXIuICovXG4gIHByaXZhdGUgYXN5bmMgX2dldEF2YWlsYWJsZUFjY291bnRzKCkge1xuICAgIGNvbnN0IGF2YWlsYWJsZUFjY291bnRzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgaWYgKFwiYWRkcmVzc1wiIGluIHRoaXMuX3NpZ25lck9yUHJvdmlkZXIpIHtcbiAgICAgIGF2YWlsYWJsZUFjY291bnRzLnB1c2godGhpcy5fc2lnbmVyT3JQcm92aWRlci5hZGRyZXNzIGFzIHN0cmluZyk7XG4gICAgfSBlbHNlIGlmIChcImxpc3RBY2NvdW50c1wiIGluIHRoaXMuX3NpZ25lck9yUHJvdmlkZXIpIHtcbiAgICAgIGNvbnN0IGFkZHJlc3NlcyA9IChhd2FpdCB0aGlzLl9zaWduZXJPclByb3ZpZGVyLmxpc3RBY2NvdW50cygpKS5tYXAoXG4gICAgICAgIChhY2N0KSA9PiBhY2N0LmFkZHJlc3MsXG4gICAgICApO1xuICAgICAgYXZhaWxhYmxlQWNjb3VudHMucHVzaCguLi5hZGRyZXNzZXMpO1xuICAgIH0gZWxzZSBpZiAoXCJnZXRBZGRyZXNzXCIgaW4gdGhpcy5fc2lnbmVyT3JQcm92aWRlcikge1xuICAgICAgYXZhaWxhYmxlQWNjb3VudHMucHVzaChhd2FpdCB0aGlzLl9zaWduZXJPclByb3ZpZGVyLmdldEFkZHJlc3MoKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF2YWlsYWJsZUFjY291bnRzO1xuICB9XG5cbiAgLyoqXG4gICAqIFRocm93cyBhbiBlcnJvciBpZiBhbiBhY2NvdW50IGlzIG5vdCBhdmFpbGFibGUgdGhyb3VnaCB0aGUgcHJvdmlkZXIuXG4gICAqIEBwYXJhbSBhY2NvdW50QWRkcmVzcyBUaGUgYWNjb3VudCBhZGRyZXNzIHRvIGNoZWNrIGlzIGF2YWlsYWJsZS5cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgX3JlcXVpcmVBY2NvdW50SXNBdmFpbGFibGUoYWNjb3VudEFkZHJlc3M6IHN0cmluZykge1xuICAgIGNvbnN0IGFjY291bnRBZGRyZXNzQ2hlY2tzdW1tZWQgPSBldGhlcnMuZ2V0QWRkcmVzcyhhY2NvdW50QWRkcmVzcyk7XG4gICAgY29uc3QgYXZhaWxhYmxlQWNjb3VudHMgPSBhd2FpdCB0aGlzLl9nZXRBdmFpbGFibGVBY2NvdW50cygpO1xuXG4gICAgaWYgKGF2YWlsYWJsZUFjY291bnRzLmluY2x1ZGVzKGFjY291bnRBZGRyZXNzQ2hlY2tzdW1tZWQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFNwZWNpZmllZCBhY2NvdW50QWRkcmVzcyBpcyBub3QgYXZhaWxhYmxlIHRocm91Z2ggd2FsbGV0IG9yIHByb3ZpZGVyOiAke2FjY291bnRBZGRyZXNzQ2hlY2tzdW1tZWR9LiBBY2NvdW50cyBhdmFpbGFibGU6ICR7XG4gICAgICAgIGF2YWlsYWJsZUFjY291bnRzLmxlbmd0aCA+IDAgPyBhdmFpbGFibGVBY2NvdW50cy5qb2luKFwiLCBcIikgOiBcIm5vbmVcIlxuICAgICAgfWAsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXYWl0IGZvciBhIHRyYW5zYWN0aW9uIHRvIGNvbmZpcm0gYW5kIGxvZyB0aGUgc3VjY2VzcyBvciBmYWlsdXJlLlxuICAgKiBAcGFyYW0gdHJhbnNhY3Rpb25IYXNoIFRoZSB0cmFuc2FjdGlvbiBoYXNoIHRvIHdhaXQgZm9yLlxuICAgKiBAcGFyYW0gZXZlbnQgVGhlIGV2ZW50IHR5cGUgdG8gbG9nLlxuICAgKiBAcGFyYW0gZGVzY3JpcHRpb24gVGhlIGRlc2NyaXB0aW9uIG9mIHRoZSB0cmFuc2FjdGlvbi5cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgX2NvbmZpcm1UcmFuc2FjdGlvbihcbiAgICB0cmFuc2FjdGlvbkhhc2g6IHN0cmluZyxcbiAgICBldmVudDogRXZlbnRUeXBlLFxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmcsXG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHRyYW5zYWN0aW9uRXZlbnREYXRhID0geyB0cmFuc2FjdGlvbkhhc2gsIGV2ZW50IH07XG4gICAgdGhpcy5sb2dnZXIoYFRyYW5zYWN0aW9uIHN0YXJ0ZWQ6ICR7ZGVzY3JpcHRpb259YCk7XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5fZGlzcGF0Y2goRXZlbnRUeXBlLlRyYW5zYWN0aW9uQ3JlYXRlZCwgdHJhbnNhY3Rpb25FdmVudERhdGEpO1xuICAgICAgYXdhaXQgdGhpcy5wcm92aWRlci53YWl0Rm9yVHJhbnNhY3Rpb24odHJhbnNhY3Rpb25IYXNoKTtcbiAgICAgIHRoaXMubG9nZ2VyKGBUcmFuc2FjdGlvbiBzdWNjZWVkZWQ6ICR7ZGVzY3JpcHRpb259YCk7XG4gICAgICB0aGlzLl9kaXNwYXRjaChFdmVudFR5cGUuVHJhbnNhY3Rpb25Db25maXJtZWQsIHRyYW5zYWN0aW9uRXZlbnREYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhpcy5sb2dnZXIoYFRyYW5zYWN0aW9uIGZhaWxlZDogJHtkZXNjcmlwdGlvbn1gKTtcbiAgICAgIHRoaXMuX2Rpc3BhdGNoKEV2ZW50VHlwZS5UcmFuc2FjdGlvbkZhaWxlZCwge1xuICAgICAgICAuLi50cmFuc2FjdGlvbkV2ZW50RGF0YSxcbiAgICAgICAgZXJyb3IsXG4gICAgICB9KTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxufVxuIl19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfaTI1MHFlcm0wIiwiYWN0dWFsQ292ZXJhZ2UiLCJzIiwiRXZlbnRFbWl0dGVyIiwicmVxdWlyZSIsInNlYXBvcnRfanNfMSIsImNvbnN0YW50c18xIiwiZXRoZXJzXzEiLCJhcGlfMSIsImNvbnN0YW50c18yIiwicHJpdmF0ZUxpc3RpbmdzXzEiLCJ0eXBlc18xIiwidXRpbHNfMSIsImNvbnRyYWN0c18xIiwidHlwZXNfMiIsInV0aWxzXzIiLCJPcGVuU2VhU0RLIiwiY29uc3RydWN0b3IiLCJzaWduZXJPclByb3ZpZGVyIiwiYXBpQ29uZmlnIiwiYiIsImxvZ2dlciIsImYiLCJfY2FjaGVkUGF5bWVudFRva2VuRGVjaW1hbHMiLCJnZXRBbW91bnRXaXRoQmFzaXNQb2ludHNBcHBsaWVkIiwiYW1vdW50IiwiYmFzaXNQb2ludHMiLCJJTlZFUlNFX0JBU0lTX1BPSU5UIiwidG9TdHJpbmciLCJjaGFpbiIsIkNoYWluIiwiTWFpbm5ldCIsImFwaSIsIk9wZW5TZWFBUEkiLCJwcm92aWRlciIsIl9zaWduZXJPclByb3ZpZGVyIiwic2VhcG9ydF92MV81IiwiU2VhcG9ydCIsIm92ZXJyaWRlcyIsImNvbnRyYWN0QWRkcmVzcyIsIkNST1NTX0NIQUlOX1NFQVBPUlRfVjFfNV9BRERSRVNTIiwic2VhcG9ydFZlcnNpb24iLCJkZWZhdWx0Q29uZHVpdEtleSIsIk9QRU5TRUFfQ09ORFVJVF9LRVkiLCJzZWFwb3J0X3YxXzYiLCJfZW1pdHRlciIsImFyZyIsIndldGhBZGRyZXNzIiwiZ2V0V0VUSEFkZHJlc3MiLCJ0b0xvd2VyQ2FzZSIsImVycm9yIiwibWVzc2FnZSIsImluY2x1ZGVzIiwiY29uc29sZSIsImFkZExpc3RlbmVyIiwiZXZlbnQiLCJsaXN0ZW5lciIsIm9uY2UiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsIndyYXBFdGgiLCJhbW91bnRJbkV0aCIsImFjY291bnRBZGRyZXNzIiwiX3JlcXVpcmVBY2NvdW50SXNBdmFpbGFibGUiLCJ2YWx1ZSIsInBhcnNlRXRoZXIiLCJGaXhlZE51bWJlciIsImZyb21WYWx1ZSIsIl9kaXNwYXRjaCIsIkV2ZW50VHlwZSIsIldyYXBFdGgiLCJ3ZXRoQ29udHJhY3QiLCJDb250cmFjdCIsInRyYW5zYWN0aW9uIiwiZGVwb3NpdCIsIl9jb25maXJtVHJhbnNhY3Rpb24iLCJoYXNoIiwiVHJhbnNhY3Rpb25EZW5pZWQiLCJ1bndyYXBXZXRoIiwiVW53cmFwV2V0aCIsIndpdGhkcmF3IiwiZ2V0RmVlcyIsImNvbGxlY3Rpb24iLCJzZWxsZXIiLCJwYXltZW50VG9rZW5BZGRyZXNzIiwic3RhcnRBbW91bnQiLCJlbmRBbW91bnQiLCJleGNsdWRlT3B0aW9uYWxDcmVhdG9yRmVlcyIsImNvbGxlY3Rpb25GZWVzIiwiZmVlcyIsImZpbHRlciIsImZlZSIsInJlcXVpcmVkIiwiY29sbGVjdGlvbkZlZXNCYXNpc1BvaW50cyIsInRvdGFsQmFzaXNQb2ludHNGb3JGZWVzIiwic2VsbGVyQmFzaXNQb2ludHMiLCJnZXRDb25zaWRlcmF0aW9uSXRlbSIsInJlY2lwaWVudCIsInRva2VuIiwiY29uc2lkZXJhdGlvbkl0ZW1zIiwicHVzaCIsImJhc2lzUG9pbnRzRm9yRmVlIiwiZ2V0TkZUSXRlbXMiLCJuZnRzIiwicXVhbnRpdGllcyIsIm1hcCIsIm5mdCIsImluZGV4IiwiaXRlbVR5cGUiLCJnZXRBc3NldEl0ZW1UeXBlIiwidG9rZW5fc3RhbmRhcmQiLCJ0b1VwcGVyQ2FzZSIsImdldEFkZHJlc3NBZnRlclJlbWFwcGluZ1NoYXJlZFN0b3JlZnJvbnRBZGRyZXNzVG9MYXp5TWludEFkYXB0ZXJBZGRyZXNzIiwiY29udHJhY3QiLCJpZGVudGlmaWVyIiwidW5kZWZpbmVkIiwiY3JlYXRlT2ZmZXIiLCJhc3NldCIsInF1YW50aXR5IiwiZG9tYWluIiwic2FsdCIsImV4cGlyYXRpb25UaW1lIiwiem9uZSIsIlplcm9BZGRyZXNzIiwiZ2V0TkZUIiwidG9rZW5BZGRyZXNzIiwidG9rZW5JZCIsImNvbnNpZGVyYXRpb25Bc3NldEl0ZW1zIiwiQmlnSW50IiwiYmFzZVByaWNlIiwiX2dldFByaWNlUGFyYW1ldGVycyIsIk9yZGVyU2lkZSIsIk9GRkVSIiwiZ2V0TWF4T3JkZXJFeHBpcmF0aW9uVGltZXN0YW1wIiwiZ2V0Q29sbGVjdGlvbiIsImNvbnNpZGVyYXRpb25GZWVJdGVtcyIsInJlcXVpcmVkWm9uZSIsImV4ZWN1dGVBbGxBY3Rpb25zIiwiY3JlYXRlT3JkZXIiLCJvZmZlciIsImNvbnNpZGVyYXRpb24iLCJlbmRUaW1lIiwicmVzdHJpY3RlZEJ5Wm9uZSIsImFsbG93UGFydGlhbEZpbGxzIiwib3JkZXIiLCJwb3N0T3JkZXIiLCJwcm90b2NvbCIsInByb3RvY29sQWRkcmVzcyIsIkRFRkFVTFRfU0VBUE9SVF9DT05UUkFDVF9BRERSRVNTIiwic2lkZSIsImNyZWF0ZUxpc3RpbmciLCJsaXN0aW5nVGltZSIsImV0aGVycyIsImJ1eWVyQWRkcmVzcyIsImVuZ2xpc2hBdWN0aW9uIiwib2ZmZXJBc3NldEl0ZW1zIiwiRXJyb3IiLCJlbmRQcmljZSIsIkxJU1RJTkciLCJnZXRQcml2YXRlTGlzdGluZ0NvbnNpZGVyYXRpb25zIiwiaXNUZXN0Q2hhaW4iLCJFTkdMSVNIX0FVQ1RJT05fWk9ORV9URVNUTkVUUyIsIkVOR0xJU0hfQVVDVElPTl9aT05FX01BSU5ORVRTIiwic3RhcnRUaW1lIiwiY3JlYXRlQ29sbGVjdGlvbk9mZmVyIiwiY29sbGVjdGlvblNsdWciLCJvZmZlclByb3RlY3Rpb25FbmFibGVkIiwidHJhaXRUeXBlIiwidHJhaXRWYWx1ZSIsImJ1aWxkT2ZmZXJSZXN1bHQiLCJidWlsZE9mZmVyIiwiaXRlbSIsInBhcnRpYWxQYXJhbWV0ZXJzIiwiY29udmVydGVkQ29uc2lkZXJhdGlvbkl0ZW0iLCJpZGVudGlmaWVyT3JDcml0ZXJpYSIsInBheWxvYWQiLCJvZmZlcmVyIiwicG9zdENvbGxlY3Rpb25PZmZlciIsImZ1bGZpbGxQcml2YXRlT3JkZXIiLCJ0YWtlciIsImFkZHJlc3MiLCJjb3VudGVyT3JkZXIiLCJjb25zdHJ1Y3RQcml2YXRlTGlzdGluZ0NvdW50ZXJPcmRlciIsInByb3RvY29sRGF0YSIsImZ1bGZpbGxtZW50cyIsImdldFByaXZhdGVMaXN0aW5nRnVsZmlsbG1lbnRzIiwic2VhcG9ydCIsImdldFNlYXBvcnQiLCJtYXRjaE9yZGVycyIsIm9yZGVycyIsInBhcmFtZXRlcnMiLCJ0cmFuc2FjdCIsInRyYW5zYWN0aW9uUmVjZWlwdCIsIndhaXQiLCJNYXRjaE9yZGVycyIsImZ1bGZpbGxPcmRlciIsInJlY2lwaWVudEFkZHJlc3MiLCJwcm90b2NvbF9hZGRyZXNzIiwicmVxdWlyZVZhbGlkUHJvdG9jb2wiLCJvcmRlckhhc2giLCJvcmRlcl9oYXNoIiwiT3JkZXJUeXBlIiwiQkFTSUMiLCJFTkdMSVNIIiwidHlwZSIsImV4dHJhRGF0YSIsInByb3RvY29sX2RhdGEiLCJyZXN1bHQiLCJnZW5lcmF0ZUZ1bGZpbGxtZW50RGF0YSIsImlucHV0RGF0YSIsImZ1bGZpbGxtZW50X2RhdGEiLCJpbnB1dF9kYXRhIiwic2lnbmF0dXJlIiwiaXNQcml2YXRlTGlzdGluZyIsInRyYW5zYWN0aW9uSGFzaCIsIlRyYW5zYWN0aW9uIiwiZnJvbSIsImNoZWNrc3VtbWVkUHJvdG9jb2xBZGRyZXNzIiwiZ2V0QWRkcmVzcyIsIkNST1NTX0NIQUlOX1NFQVBPUlRfVjFfNl9BRERSRVNTIiwiY2FuY2VsU2VhcG9ydE9yZGVycyIsImNhbmNlbE9yZGVycyIsImNhbmNlbE9yZGVyIiwiQ2FuY2VsT3JkZXIiLCJvcmRlclYyIiwiX2dldFNlYXBvcnRWZXJzaW9uIiwicHJvdG9jb2xBZGRyZXNzQ2hlY2tzdW1tZWQiLCJfZ2V0T2ZmZXJlclNpZ25hdHVyZSIsImNoYWluSWQiLCJnZXRDaGFpbklkIiwibmFtZSIsInZlcnNpb24iLCJzaWduVHlwZWREYXRhIiwidmVyaWZ5aW5nQ29udHJhY3QiLCJPcmRlckhhc2giLCJvZmZjaGFpbkNhbmNlbE9yZGVyIiwib2ZmZXJlclNpZ25hdHVyZSIsInVzZVNpZ25lclRvRGVyaXZlT2ZmZXJlclNpZ25hdHVyZSIsImlzT3JkZXJGdWxmaWxsYWJsZSIsImlzVmFsaWQiLCJ2YWxpZGF0ZSIsInN0YXRpY0NhbGwiLCJoYXNFcnJvckNvZGUiLCJjb2RlIiwiZ2V0QmFsYW5jZSIsInRva2VuU3RhbmRhcmQiLCJUb2tlblN0YW5kYXJkIiwiRVJDMjAiLCJFUkMyMF9fZmFjdG9yeSIsImNvbm5lY3QiLCJiYWxhbmNlT2YiLCJFUkMxMTU1IiwiRVJDMTE1NV9fZmFjdG9yeSIsIkVSQzcyMSIsIkVSQzcyMV9fZmFjdG9yeSIsIm93bmVyIiwib3duZXJPZiIsInRyYW5zZmVyIiwiZnJvbUFkZHJlc3MiLCJ0b0FkZHJlc3MiLCJzYWZlVHJhbnNmZXJGcm9tIiwidHJhbnNmZXJGcm9tIiwidHJhbnNhY3Rpb25SZXNwb25zZSIsIlRyYW5zZmVyIiwiYXBwcm92ZU9yZGVyIiwibWFrZXIiLCJBcHByb3ZlT3JkZXIiLCJvcmRlclNpZGUiLCJpc0V0aGVyIiwiZGVjaW1hbHMiLCJwYXltZW50VG9rZW4iLCJnZXRQYXltZW50VG9rZW4iLCJzdGFydEFtb3VudFdlaSIsInBhcnNlVW5pdHMiLCJlbmRBbW91bnRXZWkiLCJwcmljZURpZmZXZWkiLCJkYXRhIiwiZW1pdCIsIl9nZXRBdmFpbGFibGVBY2NvdW50cyIsImF2YWlsYWJsZUFjY291bnRzIiwiYWRkcmVzc2VzIiwibGlzdEFjY291bnRzIiwiYWNjdCIsImFjY291bnRBZGRyZXNzQ2hlY2tzdW1tZWQiLCJsZW5ndGgiLCJqb2luIiwiZGVzY3JpcHRpb24iLCJ0cmFuc2FjdGlvbkV2ZW50RGF0YSIsIlRyYW5zYWN0aW9uQ3JlYXRlZCIsIndhaXRGb3JUcmFuc2FjdGlvbiIsIlRyYW5zYWN0aW9uQ29uZmlybWVkIiwiVHJhbnNhY3Rpb25GYWlsZWQiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsiL1VzZXJzL3JnL2Rldi9vcGVuc2VhLWpzL3NyYy9zZGsudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCJldmVudHNcIik7XG5pbXBvcnQgeyBTZWFwb3J0IH0gZnJvbSBcIkBvcGVuc2VhL3NlYXBvcnQtanNcIjtcbmltcG9ydCB7XG4gIENST1NTX0NIQUlOX1NFQVBPUlRfVjFfNV9BRERSRVNTLFxuICBDUk9TU19DSEFJTl9TRUFQT1JUX1YxXzZfQUREUkVTUyxcbiAgT1BFTlNFQV9DT05EVUlUX0tFWSxcbn0gZnJvbSBcIkBvcGVuc2VhL3NlYXBvcnQtanMvbGliL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtcbiAgQWR2YW5jZWRPcmRlcixcbiAgQ29uc2lkZXJhdGlvbklucHV0SXRlbSxcbiAgQ3JlYXRlSW5wdXRJdGVtLFxuICBPcmRlckNvbXBvbmVudHMsXG59IGZyb20gXCJAb3BlbnNlYS9zZWFwb3J0LWpzL2xpYi90eXBlc1wiO1xuaW1wb3J0IHtcbiAgQmlnTnVtYmVyaXNoLFxuICBDb250cmFjdCxcbiAgRml4ZWROdW1iZXIsXG4gIE92ZXJyaWRlcyxcbiAgU2lnbmVyLFxuICBldGhlcnMsXG4gIHBhcnNlRXRoZXIsXG4gIEpzb25ScGNQcm92aWRlcixcbiAgQ29udHJhY3RUcmFuc2FjdGlvblJlc3BvbnNlLFxuICBaZXJvQWRkcmVzcyxcbn0gZnJvbSBcImV0aGVyc1wiO1xuaW1wb3J0IHsgT3BlblNlYUFQSSB9IGZyb20gXCIuL2FwaS9hcGlcIjtcbmltcG9ydCB7IENvbGxlY3Rpb25PZmZlciwgTGlzdGluZywgTkZULCBPcmRlciB9IGZyb20gXCIuL2FwaS90eXBlc1wiO1xuaW1wb3J0IHtcbiAgSU5WRVJTRV9CQVNJU19QT0lOVCxcbiAgRU5HTElTSF9BVUNUSU9OX1pPTkVfTUFJTk5FVFMsXG4gIEVOR0xJU0hfQVVDVElPTl9aT05FX1RFU1RORVRTLFxufSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7XG4gIGNvbnN0cnVjdFByaXZhdGVMaXN0aW5nQ291bnRlck9yZGVyLFxuICBnZXRQcml2YXRlTGlzdGluZ0NvbnNpZGVyYXRpb25zLFxuICBnZXRQcml2YXRlTGlzdGluZ0Z1bGZpbGxtZW50cyxcbn0gZnJvbSBcIi4vb3JkZXJzL3ByaXZhdGVMaXN0aW5nc1wiO1xuaW1wb3J0IHsgT3JkZXJUeXBlLCBPcmRlclYyIH0gZnJvbSBcIi4vb3JkZXJzL3R5cGVzXCI7XG5pbXBvcnQgeyBERUZBVUxUX1NFQVBPUlRfQ09OVFJBQ1RfQUREUkVTUyB9IGZyb20gXCIuL29yZGVycy91dGlsc1wiO1xuaW1wb3J0IHtcbiAgRVJDMTE1NV9fZmFjdG9yeSxcbiAgRVJDMjBfX2ZhY3RvcnksXG4gIEVSQzcyMV9fZmFjdG9yeSxcbn0gZnJvbSBcIi4vdHlwZWNoYWluL2NvbnRyYWN0c1wiO1xuaW1wb3J0IHtcbiAgRXZlbnREYXRhLFxuICBFdmVudFR5cGUsXG4gIENoYWluLFxuICBPcGVuU2VhQVBJQ29uZmlnLFxuICBPcGVuU2VhQ29sbGVjdGlvbixcbiAgT3JkZXJTaWRlLFxuICBUb2tlblN0YW5kYXJkLFxuICBBc3NldFdpdGhUb2tlblN0YW5kYXJkLFxuICBBc3NldFdpdGhUb2tlbklkLFxufSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHtcbiAgZ2V0TWF4T3JkZXJFeHBpcmF0aW9uVGltZXN0YW1wLFxuICBoYXNFcnJvckNvZGUsXG4gIGdldEFzc2V0SXRlbVR5cGUsXG4gIGdldEFkZHJlc3NBZnRlclJlbWFwcGluZ1NoYXJlZFN0b3JlZnJvbnRBZGRyZXNzVG9MYXp5TWludEFkYXB0ZXJBZGRyZXNzLFxuICByZXF1aXJlVmFsaWRQcm90b2NvbCxcbiAgZ2V0V0VUSEFkZHJlc3MsXG4gIGlzVGVzdENoYWluLFxuICBiYXNpc1BvaW50c0ZvckZlZSxcbiAgdG90YWxCYXNpc1BvaW50c0ZvckZlZXMsXG4gIGdldENoYWluSWQsXG59IGZyb20gXCIuL3V0aWxzL3V0aWxzXCI7XG5cbi8qKlxuICogVGhlIE9wZW5TZWEgU0RLIG1haW4gY2xhc3MuXG4gKiBAY2F0ZWdvcnkgTWFpbiBDbGFzc2VzXG4gKi9cbmV4cG9ydCBjbGFzcyBPcGVuU2VhU0RLIHtcbiAgLyoqIFByb3ZpZGVyIHRvIHVzZSBmb3IgdHJhbnNhY3Rpb25zLiAqL1xuICBwdWJsaWMgcHJvdmlkZXI6IEpzb25ScGNQcm92aWRlcjtcbiAgLyoqIFNlYXBvcnQgdjEuNiBjbGllbnQgQHNlZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL1Byb2plY3RPcGVuU2VhL3NlYXBvcnQtanN9ICovXG4gIHB1YmxpYyBzZWFwb3J0X3YxXzY6IFNlYXBvcnQ7XG4gIC8qKiBTZWFwb3J0IHYxLjUgY2xpZW50IEBzZWUge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9Qcm9qZWN0T3BlblNlYS9zZWFwb3J0LWpzfSAqL1xuICBwdWJsaWMgc2VhcG9ydF92MV81OiBTZWFwb3J0O1xuICAvKiogTG9nZ2VyIGZ1bmN0aW9uIHRvIHVzZSB3aGVuIGRlYnVnZ2luZyAqL1xuICBwdWJsaWMgbG9nZ2VyOiAoYXJnOiBzdHJpbmcpID0+IHZvaWQ7XG4gIC8qKiBBUEkgaW5zdGFuY2UgKi9cbiAgcHVibGljIHJlYWRvbmx5IGFwaTogT3BlblNlYUFQSTtcbiAgLyoqIFRoZSBjb25maWd1cmVkIGNoYWluICovXG4gIHB1YmxpYyByZWFkb25seSBjaGFpbjogQ2hhaW47XG4gIC8qKiBJbnRlcm5hbCBjYWNoZSBvZiBkZWNpbWFscyBmb3IgcGF5bWVudCB0b2tlbnMgdG8gc2F2ZSBuZXR3b3JrIHJlcXVlc3RzICovXG4gIHByaXZhdGUgX2NhY2hlZFBheW1lbnRUb2tlbkRlY2ltYWxzOiB7IFthZGRyZXNzOiBzdHJpbmddOiBudW1iZXIgfSA9IHt9O1xuXG4gIHByaXZhdGUgX2VtaXR0ZXI6IEV2ZW50RW1pdHRlcjtcbiAgcHJpdmF0ZSBfc2lnbmVyT3JQcm92aWRlcjogU2lnbmVyIHwgSnNvblJwY1Byb3ZpZGVyO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgT3BlblNlYVNESy5cbiAgICogQHBhcmFtIHNpZ25lck9yUHJvdmlkZXIgU2lnbmVyIG9yIHByb3ZpZGVyIHRvIHVzZSBmb3IgdHJhbnNhY3Rpb25zLiBGb3IgZXhhbXBsZTpcbiAgICogYG5ldyBldGhlcnMucHJvdmlkZXJzLkpzb25ScGNQcm92aWRlcignaHR0cHM6Ly9tYWlubmV0LmluZnVyYS5pbycpYCBvclxuICAgKiBgbmV3IGV0aGVycy5XYWxsZXQocHJpdktleSwgcHJvdmlkZXIpYFxuICAgKiBAcGFyYW0gYXBpQ29uZmlnIGNvbmZpZ3VyYXRpb24gb3B0aW9ucywgaW5jbHVkaW5nIGBjaGFpbmBcbiAgICogQHBhcmFtIGxvZ2dlciBvcHRpb25hbCBmdW5jdGlvbiBmb3IgbG9nZ2luZyBkZWJ1ZyBzdHJpbmdzLiBkZWZhdWx0cyB0byBubyBsb2dnaW5nXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBzaWduZXJPclByb3ZpZGVyOiBTaWduZXIgfCBKc29uUnBjUHJvdmlkZXIsXG4gICAgYXBpQ29uZmlnOiBPcGVuU2VhQVBJQ29uZmlnID0ge30sXG4gICAgbG9nZ2VyPzogKGFyZzogc3RyaW5nKSA9PiB2b2lkLFxuICApIHtcbiAgICAvLyBBUEkgY29uZmlnXG4gICAgYXBpQ29uZmlnLmNoYWluID8/PSBDaGFpbi5NYWlubmV0O1xuICAgIHRoaXMuY2hhaW4gPSBhcGlDb25maWcuY2hhaW47XG4gICAgdGhpcy5hcGkgPSBuZXcgT3BlblNlYUFQSShhcGlDb25maWcpO1xuXG4gICAgdGhpcy5wcm92aWRlciA9ICgoc2lnbmVyT3JQcm92aWRlciBhcyBTaWduZXIpLnByb3ZpZGVyID8/XG4gICAgICBzaWduZXJPclByb3ZpZGVyKSBhcyBKc29uUnBjUHJvdmlkZXI7XG4gICAgdGhpcy5fc2lnbmVyT3JQcm92aWRlciA9IHNpZ25lck9yUHJvdmlkZXIgPz8gdGhpcy5wcm92aWRlcjtcblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgdGhpcy5zZWFwb3J0X3YxXzUgPSBuZXcgU2VhcG9ydCh0aGlzLl9zaWduZXJPclByb3ZpZGVyIGFzIGFueSwge1xuICAgICAgb3ZlcnJpZGVzOiB7XG4gICAgICAgIGNvbnRyYWN0QWRkcmVzczogQ1JPU1NfQ0hBSU5fU0VBUE9SVF9WMV81X0FERFJFU1MsXG4gICAgICAgIHNlYXBvcnRWZXJzaW9uOiBcIjEuNVwiLFxuICAgICAgICBkZWZhdWx0Q29uZHVpdEtleTogT1BFTlNFQV9DT05EVUlUX0tFWSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHRoaXMuc2VhcG9ydF92MV82ID0gbmV3IFNlYXBvcnQodGhpcy5fc2lnbmVyT3JQcm92aWRlciBhcyBhbnksIHtcbiAgICAgIG92ZXJyaWRlczogeyBkZWZhdWx0Q29uZHVpdEtleTogT1BFTlNFQV9DT05EVUlUX0tFWSB9LFxuICAgIH0pO1xuXG4gICAgLy8gRW1pdCBldmVudHNcbiAgICB0aGlzLl9lbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gICAgLy8gTG9nZ2VyOiBkZWZhdWx0IHRvIG5vIGxvZ2dpbmcgaWYgZm4gbm90IHByb3ZpZGVkXG4gICAgdGhpcy5sb2dnZXIgPSBsb2dnZXIgPz8gKChhcmc6IHN0cmluZykgPT4gYXJnKTtcblxuICAgIC8vIENhY2hlIGRlY2ltYWxzIGZvciBXRVRIIHBheW1lbnQgdG9rZW4gdG8gc2tpcCBuZXR3b3JrIHJlcXVlc3RcbiAgICB0cnkge1xuICAgICAgY29uc3Qgd2V0aEFkZHJlc3MgPSBnZXRXRVRIQWRkcmVzcyh0aGlzLmNoYWluKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgdGhpcy5fY2FjaGVkUGF5bWVudFRva2VuRGVjaW1hbHNbd2V0aEFkZHJlc3NdID0gMTg7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIGlmIChlcnJvci5tZXNzYWdlLmluY2x1ZGVzKFwiVW5rbm93biBXRVRIIGFkZHJlc3NcIikpIHtcbiAgICAgICAgLy8gSWdub3JlXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgbGlzdGVuZXIgZm9yIGV2ZW50cyBlbWl0dGVkIGJ5IHRoZSBTREsuXG4gICAqIEBwYXJhbSBldmVudCBUaGUge0BsaW5rIEV2ZW50VHlwZX0gdG8gbGlzdGVuIHRvLlxuICAgKiBAcGFyYW0gbGlzdGVuZXIgQSBjYWxsYmFjayB0aGF0IHdpbGwgYWNjZXB0IGFuIG9iamVjdCB3aXRoIHtAbGluayBFdmVudERhdGF9XFxcbiAgICogQHBhcmFtIG9uY2UgV2hldGhlciB0aGUgbGlzdGVuZXIgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UsIG9yIGNvbnRpbnVlIGxpc3RlbmluZyB1bnRpbCByZW1vdmVkLlxuICAgKi9cbiAgcHVibGljIGFkZExpc3RlbmVyKFxuICAgIGV2ZW50OiBFdmVudFR5cGUsXG4gICAgbGlzdGVuZXI6IChkYXRhOiBFdmVudERhdGEpID0+IHZvaWQsXG4gICAgb25jZSA9IGZhbHNlLFxuICApIHtcbiAgICBpZiAob25jZSkge1xuICAgICAgdGhpcy5fZW1pdHRlci5vbmNlKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2VtaXR0ZXIuYWRkTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlIGFuIGV2ZW50IGxpc3RlbmVyIGJ5IGNhbGxpbmcgYC5yZW1vdmVMaXN0ZW5lcigpYCBvbiBhbiBldmVudCBhbmQgbGlzdGVuZXIuXG4gICAqIEBwYXJhbSBldmVudCBUaGUge0BsaW5rIEV2ZW50VHlwZX0gdG8gcmVtb3ZlIGEgbGlzdGVuZXIgZm9yXFxcbiAgICogQHBhcmFtIGxpc3RlbmVyIFRoZSBsaXN0ZW5lciB0byByZW1vdmVcbiAgICovXG4gIHB1YmxpYyByZW1vdmVMaXN0ZW5lcihldmVudDogRXZlbnRUeXBlLCBsaXN0ZW5lcjogKGRhdGE6IEV2ZW50RGF0YSkgPT4gdm9pZCkge1xuICAgIHRoaXMuX2VtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYWxsIGV2ZW50IGxpc3RlbmVycy4gVGhpcyBzaG91bGQgYmUgY2FsbGVkIHdoZW4geW91J3JlIHVubW91bnRpbmdcbiAgICogYSBjb21wb25lbnQgdGhhdCBsaXN0ZW5zIHRvIGV2ZW50cyB0byBtYWtlIFVJIHVwZGF0ZXMuXG4gICAqIEBwYXJhbSBldmVudCBPcHRpb25hbCBFdmVudFR5cGUgdG8gcmVtb3ZlIGxpc3RlbmVycyBmb3JcbiAgICovXG4gIHB1YmxpYyByZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQ/OiBFdmVudFR5cGUpIHtcbiAgICB0aGlzLl9lbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycyhldmVudCk7XG4gIH1cblxuICAvKipcbiAgICogV3JhcCBFVEggaW50byBXRVRILlxuICAgKiBXLUVUSCBpcyBuZWVkZWQgZm9yIG1ha2luZyBvZmZlcnMuXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEBwYXJhbSBvcHRpb25zLmFtb3VudEluRXRoIEFtb3VudCBvZiBldGhlciB0byB3cmFwXG4gICAqIEBwYXJhbSBvcHRpb25zLmFjY291bnRBZGRyZXNzIEFkZHJlc3Mgb2YgdGhlIHVzZXIncyB3YWxsZXQgY29udGFpbmluZyB0aGUgZXRoZXJcbiAgICovXG4gIHB1YmxpYyBhc3luYyB3cmFwRXRoKHtcbiAgICBhbW91bnRJbkV0aCxcbiAgICBhY2NvdW50QWRkcmVzcyxcbiAgfToge1xuICAgIGFtb3VudEluRXRoOiBCaWdOdW1iZXJpc2g7XG4gICAgYWNjb3VudEFkZHJlc3M6IHN0cmluZztcbiAgfSkge1xuICAgIGF3YWl0IHRoaXMuX3JlcXVpcmVBY2NvdW50SXNBdmFpbGFibGUoYWNjb3VudEFkZHJlc3MpO1xuXG4gICAgY29uc3QgdmFsdWUgPSBwYXJzZUV0aGVyKEZpeGVkTnVtYmVyLmZyb21WYWx1ZShhbW91bnRJbkV0aCkudG9TdHJpbmcoKSk7XG5cbiAgICB0aGlzLl9kaXNwYXRjaChFdmVudFR5cGUuV3JhcEV0aCwgeyBhY2NvdW50QWRkcmVzcywgYW1vdW50OiB2YWx1ZSB9KTtcblxuICAgIGNvbnN0IHdldGhDb250cmFjdCA9IG5ldyBDb250cmFjdChcbiAgICAgIGdldFdFVEhBZGRyZXNzKHRoaXMuY2hhaW4pLFxuICAgICAgW1wiZnVuY3Rpb24gZGVwb3NpdCgpIHBheWFibGVcIl0sXG4gICAgICB0aGlzLl9zaWduZXJPclByb3ZpZGVyLFxuICAgICk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBhd2FpdCB3ZXRoQ29udHJhY3QuZGVwb3NpdCh7IHZhbHVlIH0pO1xuICAgICAgYXdhaXQgdGhpcy5fY29uZmlybVRyYW5zYWN0aW9uKFxuICAgICAgICB0cmFuc2FjdGlvbi5oYXNoLFxuICAgICAgICBFdmVudFR5cGUuV3JhcEV0aCxcbiAgICAgICAgXCJXcmFwcGluZyBFVEhcIixcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgdGhpcy5fZGlzcGF0Y2goRXZlbnRUeXBlLlRyYW5zYWN0aW9uRGVuaWVkLCB7IGVycm9yLCBhY2NvdW50QWRkcmVzcyB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVW53cmFwIFdFVEggaW50byBFVEguXG4gICAqIEVtaXRzIHRoZSBgVW53cmFwV2V0aGAgZXZlbnQgd2hlbiB0aGUgdHJhbnNhY3Rpb24gaXMgcHJvbXB0ZWQuXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEBwYXJhbSBvcHRpb25zLmFtb3VudEluRXRoIEhvdyBtdWNoIFdFVEggdG8gdW53cmFwXG4gICAqIEBwYXJhbSBvcHRpb25zLmFjY291bnRBZGRyZXNzIEFkZHJlc3Mgb2YgdGhlIHVzZXIncyB3YWxsZXQgY29udGFpbmluZyB0aGUgV0VUSFxuICAgKi9cbiAgcHVibGljIGFzeW5jIHVud3JhcFdldGgoe1xuICAgIGFtb3VudEluRXRoLFxuICAgIGFjY291bnRBZGRyZXNzLFxuICB9OiB7XG4gICAgYW1vdW50SW5FdGg6IEJpZ051bWJlcmlzaDtcbiAgICBhY2NvdW50QWRkcmVzczogc3RyaW5nO1xuICB9KSB7XG4gICAgYXdhaXQgdGhpcy5fcmVxdWlyZUFjY291bnRJc0F2YWlsYWJsZShhY2NvdW50QWRkcmVzcyk7XG5cbiAgICBjb25zdCBhbW91bnQgPSBwYXJzZUV0aGVyKEZpeGVkTnVtYmVyLmZyb21WYWx1ZShhbW91bnRJbkV0aCkudG9TdHJpbmcoKSk7XG5cbiAgICB0aGlzLl9kaXNwYXRjaChFdmVudFR5cGUuVW53cmFwV2V0aCwgeyBhY2NvdW50QWRkcmVzcywgYW1vdW50IH0pO1xuXG4gICAgY29uc3Qgd2V0aENvbnRyYWN0ID0gbmV3IENvbnRyYWN0KFxuICAgICAgZ2V0V0VUSEFkZHJlc3ModGhpcy5jaGFpbiksXG4gICAgICBbXCJmdW5jdGlvbiB3aXRoZHJhdyh1aW50IHdhZCkgcHVibGljXCJdLFxuICAgICAgdGhpcy5fc2lnbmVyT3JQcm92aWRlcixcbiAgICApO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gYXdhaXQgd2V0aENvbnRyYWN0LndpdGhkcmF3KGFtb3VudCk7XG4gICAgICBhd2FpdCB0aGlzLl9jb25maXJtVHJhbnNhY3Rpb24oXG4gICAgICAgIHRyYW5zYWN0aW9uLmhhc2gsXG4gICAgICAgIEV2ZW50VHlwZS5VbndyYXBXZXRoLFxuICAgICAgICBcIlVud3JhcHBpbmcgVy1FVEhcIixcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgdGhpcy5fZGlzcGF0Y2goRXZlbnRUeXBlLlRyYW5zYWN0aW9uRGVuaWVkLCB7IGVycm9yLCBhY2NvdW50QWRkcmVzcyB9KTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGdldEFtb3VudFdpdGhCYXNpc1BvaW50c0FwcGxpZWQgPSAoXG4gICAgYW1vdW50OiBiaWdpbnQsXG4gICAgYmFzaXNQb2ludHM6IGJpZ2ludCxcbiAgKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gKChhbW91bnQgKiBiYXNpc1BvaW50cykgLyBJTlZFUlNFX0JBU0lTX1BPSU5UKS50b1N0cmluZygpO1xuICB9O1xuXG4gIHByaXZhdGUgYXN5bmMgZ2V0RmVlcyh7XG4gICAgY29sbGVjdGlvbixcbiAgICBzZWxsZXIsXG4gICAgcGF5bWVudFRva2VuQWRkcmVzcyxcbiAgICBzdGFydEFtb3VudCxcbiAgICBlbmRBbW91bnQsXG4gICAgZXhjbHVkZU9wdGlvbmFsQ3JlYXRvckZlZXMsXG4gIH06IHtcbiAgICBjb2xsZWN0aW9uOiBPcGVuU2VhQ29sbGVjdGlvbjtcbiAgICBzZWxsZXI/OiBzdHJpbmc7XG4gICAgcGF5bWVudFRva2VuQWRkcmVzczogc3RyaW5nO1xuICAgIHN0YXJ0QW1vdW50OiBiaWdpbnQ7XG4gICAgZW5kQW1vdW50PzogYmlnaW50O1xuICAgIGV4Y2x1ZGVPcHRpb25hbENyZWF0b3JGZWVzPzogYm9vbGVhbjtcbiAgfSk6IFByb21pc2U8Q29uc2lkZXJhdGlvbklucHV0SXRlbVtdPiB7XG4gICAgbGV0IGNvbGxlY3Rpb25GZWVzID0gY29sbGVjdGlvbi5mZWVzO1xuICAgIGlmIChleGNsdWRlT3B0aW9uYWxDcmVhdG9yRmVlcykge1xuICAgICAgY29sbGVjdGlvbkZlZXMgPSBjb2xsZWN0aW9uRmVlcy5maWx0ZXIoKGZlZSkgPT4gZmVlLnJlcXVpcmVkKTtcbiAgICB9XG4gICAgY29uc3QgY29sbGVjdGlvbkZlZXNCYXNpc1BvaW50cyA9IHRvdGFsQmFzaXNQb2ludHNGb3JGZWVzKGNvbGxlY3Rpb25GZWVzKTtcbiAgICBjb25zdCBzZWxsZXJCYXNpc1BvaW50cyA9IElOVkVSU0VfQkFTSVNfUE9JTlQgLSBjb2xsZWN0aW9uRmVlc0Jhc2lzUG9pbnRzO1xuXG4gICAgY29uc3QgZ2V0Q29uc2lkZXJhdGlvbkl0ZW0gPSAoYmFzaXNQb2ludHM6IGJpZ2ludCwgcmVjaXBpZW50Pzogc3RyaW5nKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b2tlbjogcGF5bWVudFRva2VuQWRkcmVzcyxcbiAgICAgICAgYW1vdW50OiB0aGlzLmdldEFtb3VudFdpdGhCYXNpc1BvaW50c0FwcGxpZWQoc3RhcnRBbW91bnQsIGJhc2lzUG9pbnRzKSxcbiAgICAgICAgZW5kQW1vdW50OiB0aGlzLmdldEFtb3VudFdpdGhCYXNpc1BvaW50c0FwcGxpZWQoXG4gICAgICAgICAgZW5kQW1vdW50ID8/IHN0YXJ0QW1vdW50LFxuICAgICAgICAgIGJhc2lzUG9pbnRzLFxuICAgICAgICApLFxuICAgICAgICByZWNpcGllbnQsXG4gICAgICB9O1xuICAgIH07XG5cbiAgICBjb25zdCBjb25zaWRlcmF0aW9uSXRlbXM6IENvbnNpZGVyYXRpb25JbnB1dEl0ZW1bXSA9IFtdO1xuXG4gICAgaWYgKHNlbGxlcikge1xuICAgICAgY29uc2lkZXJhdGlvbkl0ZW1zLnB1c2goZ2V0Q29uc2lkZXJhdGlvbkl0ZW0oc2VsbGVyQmFzaXNQb2ludHMsIHNlbGxlcikpO1xuICAgIH1cbiAgICBpZiAoY29sbGVjdGlvbkZlZXNCYXNpc1BvaW50cyA+IDApIHtcbiAgICAgIGZvciAoY29uc3QgZmVlIG9mIGNvbGxlY3Rpb25GZWVzKSB7XG4gICAgICAgIGNvbnNpZGVyYXRpb25JdGVtcy5wdXNoKFxuICAgICAgICAgIGdldENvbnNpZGVyYXRpb25JdGVtKGJhc2lzUG9pbnRzRm9yRmVlKGZlZSksIGZlZS5yZWNpcGllbnQpLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29uc2lkZXJhdGlvbkl0ZW1zO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRORlRJdGVtcyhcbiAgICBuZnRzOiBORlRbXSxcbiAgICBxdWFudGl0aWVzOiBiaWdpbnRbXSA9IFtdLFxuICApOiBDcmVhdGVJbnB1dEl0ZW1bXSB7XG4gICAgcmV0dXJuIG5mdHMubWFwKChuZnQsIGluZGV4KSA9PiAoe1xuICAgICAgaXRlbVR5cGU6IGdldEFzc2V0SXRlbVR5cGUoXG4gICAgICAgIG5mdC50b2tlbl9zdGFuZGFyZC50b1VwcGVyQ2FzZSgpIGFzIFRva2VuU3RhbmRhcmQsXG4gICAgICApLFxuICAgICAgdG9rZW46XG4gICAgICAgIGdldEFkZHJlc3NBZnRlclJlbWFwcGluZ1NoYXJlZFN0b3JlZnJvbnRBZGRyZXNzVG9MYXp5TWludEFkYXB0ZXJBZGRyZXNzKFxuICAgICAgICAgIG5mdC5jb250cmFjdCxcbiAgICAgICAgKSxcbiAgICAgIGlkZW50aWZpZXI6IG5mdC5pZGVudGlmaWVyID8/IHVuZGVmaW5lZCxcbiAgICAgIGFtb3VudDogcXVhbnRpdGllc1tpbmRleF0udG9TdHJpbmcoKSA/PyBcIjFcIixcbiAgICB9KSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGFuZCBzdWJtaXQgYW4gb2ZmZXIgb24gYW4gYXNzZXQuXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEBwYXJhbSBvcHRpb25zLmFzc2V0IFRoZSBhc3NldCB0byB0cmFkZS4gdG9rZW5BZGRyZXNzIGFuZCB0b2tlbklkIG11c3QgYmUgZGVmaW5lZC5cbiAgICogQHBhcmFtIG9wdGlvbnMuYWNjb3VudEFkZHJlc3MgQWRkcmVzcyBvZiB0aGUgd2FsbGV0IG1ha2luZyB0aGUgb2ZmZXIuXG4gICAqIEBwYXJhbSBvcHRpb25zLnN0YXJ0QW1vdW50IFZhbHVlIG9mIHRoZSBvZmZlciBpbiB1bml0cywgbm90IGJhc2UgdW5pdHMgZS5nLiBub3Qgd2VpLCBvZiB0aGUgcGF5bWVudCB0b2tlbiAob3IgV0VUSCBpZiBubyBwYXltZW50IHRva2VuIGFkZHJlc3Mgc3BlY2lmaWVkKVxuICAgKiBAcGFyYW0gb3B0aW9ucy5xdWFudGl0eSBUaGUgbnVtYmVyIG9mIGFzc2V0cyB0byBiaWQgZm9yIChpZiBmdW5naWJsZSBvciBzZW1pLWZ1bmdpYmxlKS4gRGVmYXVsdHMgdG8gMS5cbiAgICogQHBhcmFtIG9wdGlvbnMuZG9tYWluIEFuIG9wdGlvbmFsIGRvbWFpbiB0byBiZSBoYXNoZWQgYW5kIGluY2x1ZGVkIGluIHRoZSBmaXJzdCBmb3VyIGJ5dGVzIG9mIHRoZSByYW5kb20gc2FsdC5cbiAgICogQHBhcmFtIG9wdGlvbnMuc2FsdCBBcmJpdHJhcnkgc2FsdC4gSWYgbm90IHBhc3NlZCBpbiwgYSByYW5kb20gc2FsdCB3aWxsIGJlIGdlbmVyYXRlZCB3aXRoIHRoZSBmaXJzdCBmb3VyIGJ5dGVzIGJlaW5nIHRoZSBkb21haW4gaGFzaCBvciBlbXB0eS5cbiAgICogQHBhcmFtIG9wdGlvbnMuZXhwaXJhdGlvblRpbWUgRXhwaXJhdGlvbiB0aW1lIGZvciB0aGUgb3JkZXIsIGluIFVUQyBzZWNvbmRzXG4gICAqIEBwYXJhbSBvcHRpb25zLnBheW1lbnRUb2tlbkFkZHJlc3MgRVJDMjAgYWRkcmVzcyBmb3IgdGhlIHBheW1lbnQgdG9rZW4gaW4gdGhlIG9yZGVyLiBJZiB1bnNwZWNpZmllZCwgZGVmYXVsdHMgdG8gV0VUSFxuICAgKiBAcGFyYW0gb3B0aW9ucy5leGNsdWRlT3B0aW9uYWxDcmVhdG9yRmVlcyBJZiB0cnVlLCBvcHRpb25hbCBjcmVhdG9yIGZlZXMgd2lsbCBiZSBleGNsdWRlZCBmcm9tIHRoZSBvZmZlci4gRGVmYXVsdDogdHJ1ZS5cbiAgICogQHBhcmFtIG9wdGlvbnMuem9uZSBUaGUgem9uZSB0byB1c2UgZm9yIHRoZSBvcmRlci4gRm9yIG9yZGVyIHByb3RlY3Rpb24sIHBhc3MgU0lHTkVEX1pPTkUuIElmIHVuc3BlY2lmaWVkLCBkZWZhdWx0cyB0byBubyB6b25lLlxuICAgKlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIE9yZGVyVjJ9IHRoYXQgd2FzIGNyZWF0ZWQuXG4gICAqXG4gICAqIEB0aHJvd3MgRXJyb3IgaWYgdGhlIGFzc2V0IGRvZXMgbm90IGNvbnRhaW4gYSB0b2tlbiBpZC5cbiAgICogQHRocm93cyBFcnJvciBpZiB0aGUgYWNjb3VudEFkZHJlc3MgaXMgbm90IGF2YWlsYWJsZSB0aHJvdWdoIHdhbGxldCBvciBwcm92aWRlci5cbiAgICogQHRocm93cyBFcnJvciBpZiB0aGUgc3RhcnRBbW91bnQgaXMgbm90IGdyZWF0ZXIgdGhhbiAwLlxuICAgKiBAdGhyb3dzIEVycm9yIGlmIHBheW1lbnRUb2tlbkFkZHJlc3MgaXMgbm90IFdFVEggb24gYW55dGhpbmcgb3RoZXIgdGhhbiBFdGhlcmV1bSBtYWlubmV0LlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGNyZWF0ZU9mZmVyKHtcbiAgICBhc3NldCxcbiAgICBhY2NvdW50QWRkcmVzcyxcbiAgICBzdGFydEFtb3VudCxcbiAgICBxdWFudGl0eSA9IDEsXG4gICAgZG9tYWluLFxuICAgIHNhbHQsXG4gICAgZXhwaXJhdGlvblRpbWUsXG4gICAgcGF5bWVudFRva2VuQWRkcmVzcyA9IGdldFdFVEhBZGRyZXNzKHRoaXMuY2hhaW4pLFxuICAgIGV4Y2x1ZGVPcHRpb25hbENyZWF0b3JGZWVzID0gdHJ1ZSxcbiAgICB6b25lID0gWmVyb0FkZHJlc3MsXG4gIH06IHtcbiAgICBhc3NldDogQXNzZXRXaXRoVG9rZW5JZDtcbiAgICBhY2NvdW50QWRkcmVzczogc3RyaW5nO1xuICAgIHN0YXJ0QW1vdW50OiBCaWdOdW1iZXJpc2g7XG4gICAgcXVhbnRpdHk/OiBCaWdOdW1iZXJpc2g7XG4gICAgZG9tYWluPzogc3RyaW5nO1xuICAgIHNhbHQ/OiBCaWdOdW1iZXJpc2g7XG4gICAgZXhwaXJhdGlvblRpbWU/OiBCaWdOdW1iZXJpc2g7XG4gICAgcGF5bWVudFRva2VuQWRkcmVzcz86IHN0cmluZztcbiAgICBleGNsdWRlT3B0aW9uYWxDcmVhdG9yRmVlcz86IGJvb2xlYW47XG4gICAgem9uZT86IHN0cmluZztcbiAgfSk6IFByb21pc2U8T3JkZXJWMj4ge1xuICAgIGF3YWl0IHRoaXMuX3JlcXVpcmVBY2NvdW50SXNBdmFpbGFibGUoYWNjb3VudEFkZHJlc3MpO1xuXG4gICAgY29uc3QgeyBuZnQgfSA9IGF3YWl0IHRoaXMuYXBpLmdldE5GVChhc3NldC50b2tlbkFkZHJlc3MsIGFzc2V0LnRva2VuSWQpO1xuICAgIGNvbnN0IGNvbnNpZGVyYXRpb25Bc3NldEl0ZW1zID0gdGhpcy5nZXRORlRJdGVtcyhcbiAgICAgIFtuZnRdLFxuICAgICAgW0JpZ0ludChxdWFudGl0eSA/PyAxKV0sXG4gICAgKTtcblxuICAgIGNvbnN0IHsgYmFzZVByaWNlIH0gPSBhd2FpdCB0aGlzLl9nZXRQcmljZVBhcmFtZXRlcnMoXG4gICAgICBPcmRlclNpZGUuT0ZGRVIsXG4gICAgICBwYXltZW50VG9rZW5BZGRyZXNzLFxuICAgICAgZXhwaXJhdGlvblRpbWUgPz8gZ2V0TWF4T3JkZXJFeHBpcmF0aW9uVGltZXN0YW1wKCksXG4gICAgICBzdGFydEFtb3VudCxcbiAgICApO1xuXG4gICAgY29uc3QgY29sbGVjdGlvbiA9IGF3YWl0IHRoaXMuYXBpLmdldENvbGxlY3Rpb24obmZ0LmNvbGxlY3Rpb24pO1xuXG4gICAgY29uc3QgY29uc2lkZXJhdGlvbkZlZUl0ZW1zID0gYXdhaXQgdGhpcy5nZXRGZWVzKHtcbiAgICAgIGNvbGxlY3Rpb24sXG4gICAgICBwYXltZW50VG9rZW5BZGRyZXNzLFxuICAgICAgc3RhcnRBbW91bnQ6IGJhc2VQcmljZSxcbiAgICAgIGV4Y2x1ZGVPcHRpb25hbENyZWF0b3JGZWVzLFxuICAgIH0pO1xuXG4gICAgaWYgKGNvbGxlY3Rpb24ucmVxdWlyZWRab25lKSB7XG4gICAgICB6b25lID0gY29sbGVjdGlvbi5yZXF1aXJlZFpvbmU7XG4gICAgfVxuXG4gICAgY29uc3QgeyBleGVjdXRlQWxsQWN0aW9ucyB9ID0gYXdhaXQgdGhpcy5zZWFwb3J0X3YxXzYuY3JlYXRlT3JkZXIoXG4gICAgICB7XG4gICAgICAgIG9mZmVyOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgdG9rZW46IHBheW1lbnRUb2tlbkFkZHJlc3MsXG4gICAgICAgICAgICBhbW91bnQ6IGJhc2VQcmljZS50b1N0cmluZygpLFxuICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIGNvbnNpZGVyYXRpb246IFsuLi5jb25zaWRlcmF0aW9uQXNzZXRJdGVtcywgLi4uY29uc2lkZXJhdGlvbkZlZUl0ZW1zXSxcbiAgICAgICAgZW5kVGltZTpcbiAgICAgICAgICBleHBpcmF0aW9uVGltZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IEJpZ0ludChleHBpcmF0aW9uVGltZSkudG9TdHJpbmcoKVxuICAgICAgICAgICAgOiBnZXRNYXhPcmRlckV4cGlyYXRpb25UaW1lc3RhbXAoKS50b1N0cmluZygpLFxuICAgICAgICB6b25lLFxuICAgICAgICBkb21haW4sXG4gICAgICAgIHNhbHQ6IEJpZ0ludChzYWx0ID8/IDApLnRvU3RyaW5nKCksXG4gICAgICAgIHJlc3RyaWN0ZWRCeVpvbmU6IHpvbmUgIT09IFplcm9BZGRyZXNzLFxuICAgICAgICBhbGxvd1BhcnRpYWxGaWxsczogdHJ1ZSxcbiAgICAgIH0sXG4gICAgICBhY2NvdW50QWRkcmVzcyxcbiAgICApO1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgZXhlY3V0ZUFsbEFjdGlvbnMoKTtcblxuICAgIHJldHVybiB0aGlzLmFwaS5wb3N0T3JkZXIob3JkZXIsIHtcbiAgICAgIHByb3RvY29sOiBcInNlYXBvcnRcIixcbiAgICAgIHByb3RvY29sQWRkcmVzczogREVGQVVMVF9TRUFQT1JUX0NPTlRSQUNUX0FERFJFU1MsXG4gICAgICBzaWRlOiBPcmRlclNpZGUuT0ZGRVIsXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGFuZCBzdWJtaXQgYSBsaXN0aW5nIGZvciBhbiBhc3NldC5cbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICogQHBhcmFtIG9wdGlvbnMuYXNzZXQgVGhlIGFzc2V0IHRvIHRyYWRlLiB0b2tlbkFkZHJlc3MgYW5kIHRva2VuSWQgbXVzdCBiZSBkZWZpbmVkLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5hY2NvdW50QWRkcmVzcyAgQWRkcmVzcyBvZiB0aGUgd2FsbGV0IG1ha2luZyB0aGUgbGlzdGluZ1xuICAgKiBAcGFyYW0gb3B0aW9ucy5zdGFydEFtb3VudCBWYWx1ZSBvZiB0aGUgbGlzdGluZyBhdCB0aGUgc3RhcnQgb2YgdGhlIGF1Y3Rpb24gaW4gdW5pdHMsIG5vdCBiYXNlIHVuaXRzIGUuZy4gbm90IHdlaSwgb2YgdGhlIHBheW1lbnQgdG9rZW4gKG9yIFdFVEggaWYgbm8gcGF5bWVudCB0b2tlbiBhZGRyZXNzIHNwZWNpZmllZClcbiAgICogQHBhcmFtIG9wdGlvbnMuZW5kQW1vdW50IFZhbHVlIG9mIHRoZSBsaXN0aW5nIGF0IHRoZSBlbmQgb2YgdGhlIGF1Y3Rpb24uIElmIHNwZWNpZmllZCwgcHJpY2Ugd2lsbCBjaGFuZ2UgbGluZWFybHkgYmV0d2VlbiBzdGFydEFtb3VudCBhbmQgZW5kQW1vdW50IGFzIHRpbWUgcHJvZ3Jlc3Nlcy5cbiAgICogQHBhcmFtIG9wdGlvbnMucXVhbnRpdHkgVGhlIG51bWJlciBvZiBhc3NldHMgdG8gbGlzdCAoaWYgZnVuZ2libGUgb3Igc2VtaS1mdW5naWJsZSkuIERlZmF1bHRzIHRvIDEuXG4gICAqIEBwYXJhbSBvcHRpb25zLmRvbWFpbiBBbiBvcHRpb25hbCBkb21haW4gdG8gYmUgaGFzaGVkIGFuZCBpbmNsdWRlZCBpbiB0aGUgZmlyc3QgZm91ciBieXRlcyBvZiB0aGUgcmFuZG9tIHNhbHQuIFRoaXMgY2FuIGJlIHVzZWQgZm9yIG9uLWNoYWluIG9yZGVyIGF0dHJpYnV0aW9uIHRvIGFzc2lzdCB3aXRoIGFuYWx5dGljcy5cbiAgICogQHBhcmFtIG9wdGlvbnMuc2FsdCBBcmJpdHJhcnkgc2FsdC4gSWYgbm90IHBhc3NlZCBpbiwgYSByYW5kb20gc2FsdCB3aWxsIGJlIGdlbmVyYXRlZCB3aXRoIHRoZSBmaXJzdCBmb3VyIGJ5dGVzIGJlaW5nIHRoZSBkb21haW4gaGFzaCBvciBlbXB0eS5cbiAgICogQHBhcmFtIG9wdGlvbnMubGlzdGluZ1RpbWUgT3B0aW9uYWwgdGltZSB3aGVuIHRoZSBvcmRlciB3aWxsIGJlY29tZSBmdWxmaWxsYWJsZSwgaW4gVVRDIHNlY29uZHMuIFVuZGVmaW5lZCBtZWFucyBpdCB3aWxsIHN0YXJ0IG5vdy5cbiAgICogQHBhcmFtIG9wdGlvbnMuZXhwaXJhdGlvblRpbWUgRXhwaXJhdGlvbiB0aW1lIGZvciB0aGUgb3JkZXIsIGluIFVUQyBzZWNvbmRzLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5wYXltZW50VG9rZW5BZGRyZXNzIEVSQzIwIGFkZHJlc3MgZm9yIHRoZSBwYXltZW50IHRva2VuIGluIHRoZSBvcmRlci4gSWYgdW5zcGVjaWZpZWQsIGRlZmF1bHRzIHRvIEVUSFxuICAgKiBAcGFyYW0gb3B0aW9ucy5idXllckFkZHJlc3MgT3B0aW9uYWwgYWRkcmVzcyB0aGF0J3MgYWxsb3dlZCB0byBwdXJjaGFzZSB0aGlzIGl0ZW0uIElmIHNwZWNpZmllZCwgbm8gb3RoZXIgYWRkcmVzcyB3aWxsIGJlIGFibGUgdG8gdGFrZSB0aGUgb3JkZXIsIHVubGVzcyBpdHMgdmFsdWUgaXMgdGhlIG51bGwgYWRkcmVzcy5cbiAgICogQHBhcmFtIG9wdGlvbnMuZW5nbGlzaEF1Y3Rpb24gSWYgdHJ1ZSwgdGhlIG9yZGVyIHdpbGwgYmUgbGlzdGVkIGFzIGFuIEVuZ2xpc2ggYXVjdGlvbi5cbiAgICogQHBhcmFtIG9wdGlvbnMuZXhjbHVkZU9wdGlvbmFsQ3JlYXRvckZlZXMgSWYgdHJ1ZSwgb3B0aW9uYWwgY3JlYXRvciBmZWVzIHdpbGwgYmUgZXhjbHVkZWQgZnJvbSB0aGUgbGlzdGluZy4gRGVmYXVsdDogZmFsc2UuXG4gICAqIEBwYXJhbSBvcHRpb25zLnpvbmUgVGhlIHpvbmUgdG8gdXNlIGZvciB0aGUgb3JkZXIuICBGb3Igb3JkZXIgcHJvdGVjdGlvbiwgcGFzcyBTSUdORURfWk9ORS4gSWYgdW5zcGVjaWZpZWQsIGRlZmF1bHRzIHRvIG5vIHpvbmUuXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgT3JkZXJWMn0gdGhhdCB3YXMgY3JlYXRlZC5cbiAgICpcbiAgICogQHRocm93cyBFcnJvciBpZiB0aGUgYXNzZXQgZG9lcyBub3QgY29udGFpbiBhIHRva2VuIGlkLlxuICAgKiBAdGhyb3dzIEVycm9yIGlmIHRoZSBhY2NvdW50QWRkcmVzcyBpcyBub3QgYXZhaWxhYmxlIHRocm91Z2ggd2FsbGV0IG9yIHByb3ZpZGVyLlxuICAgKiBAdGhyb3dzIEVycm9yIGlmIHRoZSBzdGFydEFtb3VudCBpcyBub3QgZ3JlYXRlciB0aGFuIDAuXG4gICAqIEB0aHJvd3MgRXJyb3IgaWYgcGF5bWVudFRva2VuQWRkcmVzcyBpcyBub3QgV0VUSCBvbiBhbnl0aGluZyBvdGhlciB0aGFuIEV0aGVyZXVtIG1haW5uZXQuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgY3JlYXRlTGlzdGluZyh7XG4gICAgYXNzZXQsXG4gICAgYWNjb3VudEFkZHJlc3MsXG4gICAgc3RhcnRBbW91bnQsXG4gICAgZW5kQW1vdW50LFxuICAgIHF1YW50aXR5ID0gMSxcbiAgICBkb21haW4sXG4gICAgc2FsdCxcbiAgICBsaXN0aW5nVGltZSxcbiAgICBleHBpcmF0aW9uVGltZSxcbiAgICBwYXltZW50VG9rZW5BZGRyZXNzID0gZXRoZXJzLlplcm9BZGRyZXNzLFxuICAgIGJ1eWVyQWRkcmVzcyxcbiAgICBlbmdsaXNoQXVjdGlvbixcbiAgICBleGNsdWRlT3B0aW9uYWxDcmVhdG9yRmVlcyA9IGZhbHNlLFxuICAgIHpvbmUgPSBaZXJvQWRkcmVzcyxcbiAgfToge1xuICAgIGFzc2V0OiBBc3NldFdpdGhUb2tlbklkO1xuICAgIGFjY291bnRBZGRyZXNzOiBzdHJpbmc7XG4gICAgc3RhcnRBbW91bnQ6IEJpZ051bWJlcmlzaDtcbiAgICBlbmRBbW91bnQ/OiBCaWdOdW1iZXJpc2g7XG4gICAgcXVhbnRpdHk/OiBCaWdOdW1iZXJpc2g7XG4gICAgZG9tYWluPzogc3RyaW5nO1xuICAgIHNhbHQ/OiBCaWdOdW1iZXJpc2g7XG4gICAgbGlzdGluZ1RpbWU/OiBudW1iZXI7XG4gICAgZXhwaXJhdGlvblRpbWU/OiBudW1iZXI7XG4gICAgcGF5bWVudFRva2VuQWRkcmVzcz86IHN0cmluZztcbiAgICBidXllckFkZHJlc3M/OiBzdHJpbmc7XG4gICAgZW5nbGlzaEF1Y3Rpb24/OiBib29sZWFuO1xuICAgIGV4Y2x1ZGVPcHRpb25hbENyZWF0b3JGZWVzPzogYm9vbGVhbjtcbiAgICB6b25lPzogc3RyaW5nO1xuICB9KTogUHJvbWlzZTxPcmRlclYyPiB7XG4gICAgYXdhaXQgdGhpcy5fcmVxdWlyZUFjY291bnRJc0F2YWlsYWJsZShhY2NvdW50QWRkcmVzcyk7XG5cbiAgICBjb25zdCB7IG5mdCB9ID0gYXdhaXQgdGhpcy5hcGkuZ2V0TkZUKGFzc2V0LnRva2VuQWRkcmVzcywgYXNzZXQudG9rZW5JZCk7XG4gICAgY29uc3Qgb2ZmZXJBc3NldEl0ZW1zID0gdGhpcy5nZXRORlRJdGVtcyhbbmZ0XSwgW0JpZ0ludChxdWFudGl0eSA/PyAxKV0pO1xuXG4gICAgaWYgKGVuZ2xpc2hBdWN0aW9uICYmIHBheW1lbnRUb2tlbkFkZHJlc3MgPT0gZXRoZXJzLlplcm9BZGRyZXNzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBFbmdsaXNoIGF1Y3Rpb25zIG11c3QgdXNlIHdyYXBwZWQgRVRIIG9yIGFuIEVSQy0yMCB0b2tlbi5gLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGJhc2VQcmljZSwgZW5kUHJpY2UgfSA9IGF3YWl0IHRoaXMuX2dldFByaWNlUGFyYW1ldGVycyhcbiAgICAgIE9yZGVyU2lkZS5MSVNUSU5HLFxuICAgICAgcGF5bWVudFRva2VuQWRkcmVzcyxcbiAgICAgIGV4cGlyYXRpb25UaW1lID8/IGdldE1heE9yZGVyRXhwaXJhdGlvblRpbWVzdGFtcCgpLFxuICAgICAgc3RhcnRBbW91bnQsXG4gICAgICBlbmRBbW91bnQgPz8gdW5kZWZpbmVkLFxuICAgICk7XG5cbiAgICBjb25zdCBjb2xsZWN0aW9uID0gYXdhaXQgdGhpcy5hcGkuZ2V0Q29sbGVjdGlvbihuZnQuY29sbGVjdGlvbik7XG5cbiAgICBjb25zdCBjb25zaWRlcmF0aW9uRmVlSXRlbXMgPSBhd2FpdCB0aGlzLmdldEZlZXMoe1xuICAgICAgY29sbGVjdGlvbixcbiAgICAgIHNlbGxlcjogYWNjb3VudEFkZHJlc3MsXG4gICAgICBwYXltZW50VG9rZW5BZGRyZXNzLFxuICAgICAgc3RhcnRBbW91bnQ6IGJhc2VQcmljZSxcbiAgICAgIGVuZEFtb3VudDogZW5kUHJpY2UsXG4gICAgICBleGNsdWRlT3B0aW9uYWxDcmVhdG9yRmVlcyxcbiAgICB9KTtcblxuICAgIGlmIChidXllckFkZHJlc3MpIHtcbiAgICAgIGNvbnNpZGVyYXRpb25GZWVJdGVtcy5wdXNoKFxuICAgICAgICAuLi5nZXRQcml2YXRlTGlzdGluZ0NvbnNpZGVyYXRpb25zKG9mZmVyQXNzZXRJdGVtcywgYnV5ZXJBZGRyZXNzKSxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGVuZ2xpc2hBdWN0aW9uKSB7XG4gICAgICB6b25lID0gaXNUZXN0Q2hhaW4odGhpcy5jaGFpbilcbiAgICAgICAgPyBFTkdMSVNIX0FVQ1RJT05fWk9ORV9URVNUTkVUU1xuICAgICAgICA6IEVOR0xJU0hfQVVDVElPTl9aT05FX01BSU5ORVRTO1xuICAgIH0gZWxzZSBpZiAoY29sbGVjdGlvbi5yZXF1aXJlZFpvbmUpIHtcbiAgICAgIHpvbmUgPSBjb2xsZWN0aW9uLnJlcXVpcmVkWm9uZTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGV4ZWN1dGVBbGxBY3Rpb25zIH0gPSBhd2FpdCB0aGlzLnNlYXBvcnRfdjFfNi5jcmVhdGVPcmRlcihcbiAgICAgIHtcbiAgICAgICAgb2ZmZXI6IG9mZmVyQXNzZXRJdGVtcyxcbiAgICAgICAgY29uc2lkZXJhdGlvbjogY29uc2lkZXJhdGlvbkZlZUl0ZW1zLFxuICAgICAgICBzdGFydFRpbWU6IGxpc3RpbmdUaW1lPy50b1N0cmluZygpLFxuICAgICAgICBlbmRUaW1lOlxuICAgICAgICAgIGV4cGlyYXRpb25UaW1lPy50b1N0cmluZygpID8/XG4gICAgICAgICAgZ2V0TWF4T3JkZXJFeHBpcmF0aW9uVGltZXN0YW1wKCkudG9TdHJpbmcoKSxcbiAgICAgICAgem9uZSxcbiAgICAgICAgZG9tYWluLFxuICAgICAgICBzYWx0OiBCaWdJbnQoc2FsdCA/PyAwKS50b1N0cmluZygpLFxuICAgICAgICByZXN0cmljdGVkQnlab25lOiB6b25lICE9PSBaZXJvQWRkcmVzcyxcbiAgICAgICAgYWxsb3dQYXJ0aWFsRmlsbHM6IGVuZ2xpc2hBdWN0aW9uID8gZmFsc2UgOiB0cnVlLFxuICAgICAgfSxcbiAgICAgIGFjY291bnRBZGRyZXNzLFxuICAgICk7XG4gICAgY29uc3Qgb3JkZXIgPSBhd2FpdCBleGVjdXRlQWxsQWN0aW9ucygpO1xuXG4gICAgcmV0dXJuIHRoaXMuYXBpLnBvc3RPcmRlcihvcmRlciwge1xuICAgICAgcHJvdG9jb2w6IFwic2VhcG9ydFwiLFxuICAgICAgcHJvdG9jb2xBZGRyZXNzOiBERUZBVUxUX1NFQVBPUlRfQ09OVFJBQ1RfQUREUkVTUyxcbiAgICAgIHNpZGU6IE9yZGVyU2lkZS5MSVNUSU5HLFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbmQgc3VibWl0IGEgY29sbGVjdGlvbiBvZmZlci5cbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICogQHBhcmFtIG9wdGlvbnMuY29sbGVjdGlvblNsdWcgSWRlbnRpZmllciBmb3IgdGhlIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSBvcHRpb25zLmFjY291bnRBZGRyZXNzIEFkZHJlc3Mgb2YgdGhlIHdhbGxldCBtYWtpbmcgdGhlIG9mZmVyLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5hbW91bnQgVmFsdWUgb2YgdGhlIG9mZmVyIGluIHVuaXRzLCBub3QgYmFzZSB1bml0cyBlLmcuIG5vdCB3ZWksIG9mIHRoZSBwYXltZW50IHRva2VuIChvciBXRVRIIGlmIG5vIHBheW1lbnQgdG9rZW4gYWRkcmVzcyBzcGVjaWZpZWQpLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5xdWFudGl0eSBUaGUgbnVtYmVyIG9mIGFzc2V0cyB0byBiaWQgZm9yIChpZiBmdW5naWJsZSBvciBzZW1pLWZ1bmdpYmxlKS5cbiAgICogQHBhcmFtIG9wdGlvbnMuZG9tYWluIEFuIG9wdGlvbmFsIGRvbWFpbiB0byBiZSBoYXNoZWQgYW5kIGluY2x1ZGVkIGluIHRoZSBmaXJzdCBmb3VyIGJ5dGVzIG9mIHRoZSByYW5kb20gc2FsdC4gVGhpcyBjYW4gYmUgdXNlZCBmb3Igb24tY2hhaW4gb3JkZXIgYXR0cmlidXRpb24gdG8gYXNzaXN0IHdpdGggYW5hbHl0aWNzLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5zYWx0IEFyYml0cmFyeSBzYWx0LiBJZiBub3QgcGFzc2VkIGluLCBhIHJhbmRvbSBzYWx0IHdpbGwgYmUgZ2VuZXJhdGVkIHdpdGggdGhlIGZpcnN0IGZvdXIgYnl0ZXMgYmVpbmcgdGhlIGRvbWFpbiBoYXNoIG9yIGVtcHR5LlxuICAgKiBAcGFyYW0gb3B0aW9ucy5leHBpcmF0aW9uVGltZSBFeHBpcmF0aW9uIHRpbWUgZm9yIHRoZSBvcmRlciwgaW4gVVRDIHNlY29uZHMuXG4gICAqIEBwYXJhbSBvcHRpb25zLnBheW1lbnRUb2tlbkFkZHJlc3MgRVJDMjAgYWRkcmVzcyBmb3IgdGhlIHBheW1lbnQgdG9rZW4gaW4gdGhlIG9yZGVyLiBJZiB1bnNwZWNpZmllZCwgZGVmYXVsdHMgdG8gV0VUSC5cbiAgICogQHBhcmFtIG9wdGlvbnMuZXhjbHVkZU9wdGlvbmFsQ3JlYXRvckZlZXMgSWYgdHJ1ZSwgb3B0aW9uYWwgY3JlYXRvciBmZWVzIHdpbGwgYmUgZXhjbHVkZWQgZnJvbSB0aGUgb2ZmZXIuIERlZmF1bHQ6IGZhbHNlLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5vZmZlclByb3RlY3Rpb25FbmFibGVkIEJ1aWxkIHRoZSBvZmZlciBvbiBPcGVuU2VhJ3Mgc2lnbmVkIHpvbmUgdG8gcHJvdmlkZSBvZmZlciBwcm90ZWN0aW9ucyBmcm9tIHJlY2VpdmluZyBhbiBpdGVtIHdoaWNoIGlzIGRpc2FibGVkIGZyb20gdHJhZGluZy5cbiAgICogQHBhcmFtIG9wdGlvbnMudHJhaXRUeXBlIElmIGRlZmluZWQsIHRoZSB0cmFpdCBuYW1lIHRvIGNyZWF0ZSB0aGUgY29sbGVjdGlvbiBvZmZlciBmb3IuXG4gICAqIEBwYXJhbSBvcHRpb25zLnRyYWl0VmFsdWUgSWYgZGVmaW5lZCwgdGhlIHRyYWl0IHZhbHVlIHRvIGNyZWF0ZSB0aGUgY29sbGVjdGlvbiBvZmZlciBmb3IuXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgQ29sbGVjdGlvbk9mZmVyfSB0aGF0IHdhcyBjcmVhdGVkLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGNyZWF0ZUNvbGxlY3Rpb25PZmZlcih7XG4gICAgY29sbGVjdGlvblNsdWcsXG4gICAgYWNjb3VudEFkZHJlc3MsXG4gICAgYW1vdW50LFxuICAgIHF1YW50aXR5LFxuICAgIGRvbWFpbixcbiAgICBzYWx0LFxuICAgIGV4cGlyYXRpb25UaW1lLFxuICAgIHBheW1lbnRUb2tlbkFkZHJlc3MgPSBnZXRXRVRIQWRkcmVzcyh0aGlzLmNoYWluKSxcbiAgICBleGNsdWRlT3B0aW9uYWxDcmVhdG9yRmVlcyA9IGZhbHNlLFxuICAgIG9mZmVyUHJvdGVjdGlvbkVuYWJsZWQgPSB0cnVlLFxuICAgIHRyYWl0VHlwZSxcbiAgICB0cmFpdFZhbHVlLFxuICB9OiB7XG4gICAgY29sbGVjdGlvblNsdWc6IHN0cmluZztcbiAgICBhY2NvdW50QWRkcmVzczogc3RyaW5nO1xuICAgIGFtb3VudDogQmlnTnVtYmVyaXNoO1xuICAgIHF1YW50aXR5OiBudW1iZXI7XG4gICAgZG9tYWluPzogc3RyaW5nO1xuICAgIHNhbHQ/OiBCaWdOdW1iZXJpc2g7XG4gICAgZXhwaXJhdGlvblRpbWU/OiBudW1iZXIgfCBzdHJpbmc7XG4gICAgcGF5bWVudFRva2VuQWRkcmVzczogc3RyaW5nO1xuICAgIGV4Y2x1ZGVPcHRpb25hbENyZWF0b3JGZWVzPzogYm9vbGVhbjtcbiAgICBvZmZlclByb3RlY3Rpb25FbmFibGVkPzogYm9vbGVhbjtcbiAgICB0cmFpdFR5cGU/OiBzdHJpbmc7XG4gICAgdHJhaXRWYWx1ZT86IHN0cmluZztcbiAgfSk6IFByb21pc2U8Q29sbGVjdGlvbk9mZmVyIHwgbnVsbD4ge1xuICAgIGF3YWl0IHRoaXMuX3JlcXVpcmVBY2NvdW50SXNBdmFpbGFibGUoYWNjb3VudEFkZHJlc3MpO1xuXG4gICAgY29uc3QgY29sbGVjdGlvbiA9IGF3YWl0IHRoaXMuYXBpLmdldENvbGxlY3Rpb24oY29sbGVjdGlvblNsdWcpO1xuICAgIGNvbnN0IGJ1aWxkT2ZmZXJSZXN1bHQgPSBhd2FpdCB0aGlzLmFwaS5idWlsZE9mZmVyKFxuICAgICAgYWNjb3VudEFkZHJlc3MsXG4gICAgICBxdWFudGl0eSxcbiAgICAgIGNvbGxlY3Rpb25TbHVnLFxuICAgICAgb2ZmZXJQcm90ZWN0aW9uRW5hYmxlZCxcbiAgICAgIHRyYWl0VHlwZSxcbiAgICAgIHRyYWl0VmFsdWUsXG4gICAgKTtcbiAgICBjb25zdCBpdGVtID0gYnVpbGRPZmZlclJlc3VsdC5wYXJ0aWFsUGFyYW1ldGVycy5jb25zaWRlcmF0aW9uWzBdO1xuICAgIGNvbnN0IGNvbnZlcnRlZENvbnNpZGVyYXRpb25JdGVtID0ge1xuICAgICAgaXRlbVR5cGU6IGl0ZW0uaXRlbVR5cGUsXG4gICAgICB0b2tlbjogaXRlbS50b2tlbixcbiAgICAgIGlkZW50aWZpZXI6IGl0ZW0uaWRlbnRpZmllck9yQ3JpdGVyaWEsXG4gICAgICBhbW91bnQ6IGl0ZW0uc3RhcnRBbW91bnQsXG4gICAgfTtcblxuICAgIGNvbnN0IHsgYmFzZVByaWNlIH0gPSBhd2FpdCB0aGlzLl9nZXRQcmljZVBhcmFtZXRlcnMoXG4gICAgICBPcmRlclNpZGUuTElTVElORyxcbiAgICAgIHBheW1lbnRUb2tlbkFkZHJlc3MsXG4gICAgICBleHBpcmF0aW9uVGltZSA/PyBnZXRNYXhPcmRlckV4cGlyYXRpb25UaW1lc3RhbXAoKSxcbiAgICAgIGFtb3VudCxcbiAgICApO1xuICAgIGNvbnN0IGNvbnNpZGVyYXRpb25GZWVJdGVtcyA9IGF3YWl0IHRoaXMuZ2V0RmVlcyh7XG4gICAgICBjb2xsZWN0aW9uLFxuICAgICAgcGF5bWVudFRva2VuQWRkcmVzcyxcbiAgICAgIHN0YXJ0QW1vdW50OiBiYXNlUHJpY2UsXG4gICAgICBlbmRBbW91bnQ6IGJhc2VQcmljZSxcbiAgICAgIGV4Y2x1ZGVPcHRpb25hbENyZWF0b3JGZWVzLFxuICAgIH0pO1xuXG4gICAgY29uc3QgY29uc2lkZXJhdGlvbkl0ZW1zID0gW1xuICAgICAgY29udmVydGVkQ29uc2lkZXJhdGlvbkl0ZW0sXG4gICAgICAuLi5jb25zaWRlcmF0aW9uRmVlSXRlbXMsXG4gICAgXTtcblxuICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICBvZmZlcmVyOiBhY2NvdW50QWRkcmVzcyxcbiAgICAgIG9mZmVyOiBbXG4gICAgICAgIHtcbiAgICAgICAgICB0b2tlbjogcGF5bWVudFRva2VuQWRkcmVzcyxcbiAgICAgICAgICBhbW91bnQ6IGJhc2VQcmljZS50b1N0cmluZygpLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICAgIGNvbnNpZGVyYXRpb246IGNvbnNpZGVyYXRpb25JdGVtcyxcbiAgICAgIGVuZFRpbWU6XG4gICAgICAgIGV4cGlyYXRpb25UaW1lPy50b1N0cmluZygpID8/XG4gICAgICAgIGdldE1heE9yZGVyRXhwaXJhdGlvblRpbWVzdGFtcCgpLnRvU3RyaW5nKCksXG4gICAgICB6b25lOiBidWlsZE9mZmVyUmVzdWx0LnBhcnRpYWxQYXJhbWV0ZXJzLnpvbmUsXG4gICAgICBkb21haW4sXG4gICAgICBzYWx0OiBCaWdJbnQoc2FsdCA/PyAwKS50b1N0cmluZygpLFxuICAgICAgcmVzdHJpY3RlZEJ5Wm9uZTogdHJ1ZSxcbiAgICAgIGFsbG93UGFydGlhbEZpbGxzOiB0cnVlLFxuICAgIH07XG5cbiAgICBjb25zdCB7IGV4ZWN1dGVBbGxBY3Rpb25zIH0gPSBhd2FpdCB0aGlzLnNlYXBvcnRfdjFfNi5jcmVhdGVPcmRlcihcbiAgICAgIHBheWxvYWQsXG4gICAgICBhY2NvdW50QWRkcmVzcyxcbiAgICApO1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgZXhlY3V0ZUFsbEFjdGlvbnMoKTtcblxuICAgIHJldHVybiB0aGlzLmFwaS5wb3N0Q29sbGVjdGlvbk9mZmVyKFxuICAgICAgb3JkZXIsXG4gICAgICBjb2xsZWN0aW9uU2x1ZyxcbiAgICAgIHRyYWl0VHlwZSxcbiAgICAgIHRyYWl0VmFsdWUsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGdWxmaWxsIGEgcHJpdmF0ZSBvcmRlciBmb3IgYSBkZXNpZ25hdGVkIGFkZHJlc3MuXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEBwYXJhbSBvcHRpb25zLm9yZGVyIFRoZSBvcmRlciB0byBmdWxmaWxsXG4gICAqIEBwYXJhbSBvcHRpb25zLmFjY291bnRBZGRyZXNzIEFkZHJlc3Mgb2YgdGhlIHdhbGxldCB0YWtpbmcgdGhlIG9yZGVyLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5kb21haW4gQW4gb3B0aW9uYWwgZG9tYWluIHRvIGJlIGhhc2hlZCBhbmQgaW5jbHVkZWQgYXQgdGhlIGVuZCBvZiBmdWxmaWxsbWVudCBjYWxsZGF0YS5cbiAgICogICAgICAgICAgICAgICAgICAgICAgIFRoaXMgY2FuIGJlIHVzZWQgZm9yIG9uLWNoYWluIG9yZGVyIGF0dHJpYnV0aW9uIHRvIGFzc2lzdCB3aXRoIGFuYWx5dGljcy5cbiAgICogQHBhcmFtIG9wdGlvbnMub3ZlcnJpZGVzIFRyYW5zYWN0aW9uIG92ZXJyaWRlcywgaWdub3JlZCBpZiBub3Qgc2V0LlxuICAgKiBAcmV0dXJucyBUcmFuc2FjdGlvbiBoYXNoIG9mIHRoZSBvcmRlci5cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZnVsZmlsbFByaXZhdGVPcmRlcih7XG4gICAgb3JkZXIsXG4gICAgYWNjb3VudEFkZHJlc3MsXG4gICAgZG9tYWluLFxuICAgIG92ZXJyaWRlcyxcbiAgfToge1xuICAgIG9yZGVyOiBPcmRlclYyO1xuICAgIGFjY291bnRBZGRyZXNzOiBzdHJpbmc7XG4gICAgZG9tYWluPzogc3RyaW5nO1xuICAgIG92ZXJyaWRlcz86IE92ZXJyaWRlcztcbiAgfSk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgaWYgKCFvcmRlci50YWtlcj8uYWRkcmVzcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIk9yZGVyIGlzIG5vdCBhIHByaXZhdGUgbGlzdGluZyAtIG11c3QgaGF2ZSBhIHRha2VyIGFkZHJlc3NcIixcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGNvdW50ZXJPcmRlciA9IGNvbnN0cnVjdFByaXZhdGVMaXN0aW5nQ291bnRlck9yZGVyKFxuICAgICAgb3JkZXIucHJvdG9jb2xEYXRhLFxuICAgICAgb3JkZXIudGFrZXIuYWRkcmVzcyxcbiAgICApO1xuICAgIGNvbnN0IGZ1bGZpbGxtZW50cyA9IGdldFByaXZhdGVMaXN0aW5nRnVsZmlsbG1lbnRzKG9yZGVyLnByb3RvY29sRGF0YSk7XG4gICAgY29uc3Qgc2VhcG9ydCA9IHRoaXMuZ2V0U2VhcG9ydChvcmRlci5wcm90b2NvbEFkZHJlc3MpO1xuICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gYXdhaXQgc2VhcG9ydFxuICAgICAgLm1hdGNoT3JkZXJzKHtcbiAgICAgICAgb3JkZXJzOiBbb3JkZXIucHJvdG9jb2xEYXRhLCBjb3VudGVyT3JkZXJdLFxuICAgICAgICBmdWxmaWxsbWVudHMsXG4gICAgICAgIG92ZXJyaWRlczoge1xuICAgICAgICAgIC4uLm92ZXJyaWRlcyxcbiAgICAgICAgICB2YWx1ZTogY291bnRlck9yZGVyLnBhcmFtZXRlcnMub2ZmZXJbMF0uc3RhcnRBbW91bnQsXG4gICAgICAgIH0sXG4gICAgICAgIGFjY291bnRBZGRyZXNzLFxuICAgICAgICBkb21haW4sXG4gICAgICB9KVxuICAgICAgLnRyYW5zYWN0KCk7XG4gICAgY29uc3QgdHJhbnNhY3Rpb25SZWNlaXB0ID0gYXdhaXQgdHJhbnNhY3Rpb24ud2FpdCgpO1xuICAgIGlmICghdHJhbnNhY3Rpb25SZWNlaXB0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHRyYW5zYWN0aW9uIHJlY2VpcHRcIik7XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5fY29uZmlybVRyYW5zYWN0aW9uKFxuICAgICAgdHJhbnNhY3Rpb25SZWNlaXB0Lmhhc2gsXG4gICAgICBFdmVudFR5cGUuTWF0Y2hPcmRlcnMsXG4gICAgICBcIkZ1bGZpbGxpbmcgb3JkZXJcIixcbiAgICApO1xuICAgIHJldHVybiB0cmFuc2FjdGlvblJlY2VpcHQuaGFzaDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGdWxmaWxsIGFuIG9yZGVyIGZvciBhbiBhc3NldC4gVGhlIG9yZGVyIGNhbiBiZSBlaXRoZXIgYSBsaXN0aW5nIG9yIGFuIG9mZmVyLlxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5vcmRlciBUaGUgb3JkZXIgdG8gZnVsZmlsbCwgYS5rLmEuIFwidGFrZVwiXG4gICAqIEBwYXJhbSBvcHRpb25zLmFjY291bnRBZGRyZXNzIEFkZHJlc3Mgb2YgdGhlIHdhbGxldCB0YWtpbmcgdGhlIG9mZmVyLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5yZWNpcGllbnRBZGRyZXNzIFRoZSBvcHRpb25hbCBhZGRyZXNzIHRvIHJlY2VpdmUgdGhlIG9yZGVyJ3MgaXRlbShzKSBvciBjdXJyZW5jaWVzLiBJZiBub3Qgc3BlY2lmaWVkLCBkZWZhdWx0cyB0byBhY2NvdW50QWRkcmVzcy5cbiAgICogQHBhcmFtIG9wdGlvbnMuZG9tYWluIEFuIG9wdGlvbmFsIGRvbWFpbiB0byBiZSBoYXNoZWQgYW5kIGluY2x1ZGVkIGF0IHRoZSBlbmQgb2YgZnVsZmlsbG1lbnQgY2FsbGRhdGEuICBUaGlzIGNhbiBiZSB1c2VkIGZvciBvbi1jaGFpbiBvcmRlciBhdHRyaWJ1dGlvbiB0byBhc3Npc3Qgd2l0aCBhbmFseXRpY3MuXG4gICAqIEBwYXJhbSBvcHRpb25zLm92ZXJyaWRlcyBUcmFuc2FjdGlvbiBvdmVycmlkZXMsIGlnbm9yZWQgaWYgbm90IHNldC5cbiAgICogQHJldHVybnMgVHJhbnNhY3Rpb24gaGFzaCBvZiB0aGUgb3JkZXIuXG4gICAqXG4gICAqIEB0aHJvd3MgRXJyb3IgaWYgdGhlIGFjY291bnRBZGRyZXNzIGlzIG5vdCBhdmFpbGFibGUgdGhyb3VnaCB3YWxsZXQgb3IgcHJvdmlkZXIuXG4gICAqIEB0aHJvd3MgRXJyb3IgaWYgdGhlIG9yZGVyJ3MgcHJvdG9jb2wgYWRkcmVzcyBpcyBub3Qgc3VwcG9ydGVkIGJ5IE9wZW5TZWEuIFNlZSB7QGxpbmsgaXNWYWxpZFByb3RvY29sfS5cbiAgICogQHRocm93cyBFcnJvciBpZiBhdHRlbXB0aW5nIHRvIGZ1bGZpbGwgdGhlIG9yZGVyIHdpdGggYSByZWNpcGllbnQgYWRkcmVzcyB3aGljaCBkb2VzIG5vdCBtYXRjaCBhIHByaXZhdGUgbGlzdGluZy5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBmdWxmaWxsT3JkZXIoe1xuICAgIG9yZGVyLFxuICAgIGFjY291bnRBZGRyZXNzLFxuICAgIHJlY2lwaWVudEFkZHJlc3MsXG4gICAgZG9tYWluLFxuICAgIG92ZXJyaWRlcyxcbiAgfToge1xuICAgIG9yZGVyOiBPcmRlclYyIHwgT3JkZXI7XG4gICAgYWNjb3VudEFkZHJlc3M6IHN0cmluZztcbiAgICByZWNpcGllbnRBZGRyZXNzPzogc3RyaW5nO1xuICAgIGRvbWFpbj86IHN0cmluZztcbiAgICBvdmVycmlkZXM/OiBPdmVycmlkZXM7XG4gIH0pOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGF3YWl0IHRoaXMuX3JlcXVpcmVBY2NvdW50SXNBdmFpbGFibGUoYWNjb3VudEFkZHJlc3MpO1xuXG4gICAgY29uc3QgcHJvdG9jb2xBZGRyZXNzID1cbiAgICAgIChvcmRlciBhcyBPcmRlclYyKS5wcm90b2NvbEFkZHJlc3MgPz8gKG9yZGVyIGFzIE9yZGVyKS5wcm90b2NvbF9hZGRyZXNzO1xuICAgIHJlcXVpcmVWYWxpZFByb3RvY29sKHByb3RvY29sQWRkcmVzcyk7XG5cbiAgICBjb25zdCBvcmRlckhhc2ggPVxuICAgICAgKG9yZGVyIGFzIE9yZGVyVjIpLm9yZGVySGFzaCA/PyAob3JkZXIgYXMgT3JkZXIpLm9yZGVyX2hhc2g7XG5cbiAgICBjb25zdCBzaWRlID1cbiAgICAgIChvcmRlciBhcyBPcmRlclYyKS5zaWRlID8/XG4gICAgICAoW09yZGVyVHlwZS5CQVNJQywgT3JkZXJUeXBlLkVOR0xJU0hdLmluY2x1ZGVzKChvcmRlciBhcyBMaXN0aW5nKS50eXBlKVxuICAgICAgICA/IE9yZGVyU2lkZS5MSVNUSU5HXG4gICAgICAgIDogT3JkZXJTaWRlLk9GRkVSKTtcblxuICAgIGxldCBleHRyYURhdGE6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IHByb3RvY29sRGF0YSA9XG4gICAgICAob3JkZXIgYXMgT3JkZXJWMikucHJvdG9jb2xEYXRhID8/IChvcmRlciBhcyBPcmRlcikucHJvdG9jb2xfZGF0YTtcblxuICAgIGlmIChvcmRlckhhc2gpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuYXBpLmdlbmVyYXRlRnVsZmlsbG1lbnREYXRhKFxuICAgICAgICBhY2NvdW50QWRkcmVzcyxcbiAgICAgICAgb3JkZXJIYXNoLFxuICAgICAgICBwcm90b2NvbEFkZHJlc3MsXG4gICAgICAgIHNpZGUsXG4gICAgICApO1xuXG4gICAgICAvLyBJZiB0aGUgb3JkZXIgaXMgdXNpbmcgb2ZmZXIgcHJvdGVjdGlvbiwgdGhlIGV4dHJhRGF0YVxuICAgICAgLy8gbXVzdCBiZSBpbmNsdWRlZCB3aXRoIHRoZSBvcmRlciB0byBzdWNjZXNzZnVsbHkgZnVsZmlsbC5cbiAgICAgIGNvbnN0IGlucHV0RGF0YSA9IHJlc3VsdC5mdWxmaWxsbWVudF9kYXRhLnRyYW5zYWN0aW9uLmlucHV0X2RhdGE7XG4gICAgICBpZiAoXCJvcmRlcnNcIiBpbiBpbnB1dERhdGEgJiYgXCJleHRyYURhdGFcIiBpbiBpbnB1dERhdGEub3JkZXJzWzBdKSB7XG4gICAgICAgIGV4dHJhRGF0YSA9IChpbnB1dERhdGEub3JkZXJzWzBdIGFzIEFkdmFuY2VkT3JkZXIpLmV4dHJhRGF0YTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHNpZ25hdHVyZSA9IHJlc3VsdC5mdWxmaWxsbWVudF9kYXRhLm9yZGVyc1swXS5zaWduYXR1cmU7XG4gICAgICBwcm90b2NvbERhdGEuc2lnbmF0dXJlID0gc2lnbmF0dXJlO1xuICAgIH1cblxuICAgIGNvbnN0IGlzUHJpdmF0ZUxpc3RpbmcgPSBcInRha2VyXCIgaW4gb3JkZXIgPyAhIW9yZGVyLnRha2VyIDogZmFsc2U7XG4gICAgaWYgKGlzUHJpdmF0ZUxpc3RpbmcpIHtcbiAgICAgIGlmIChyZWNpcGllbnRBZGRyZXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBcIlByaXZhdGUgbGlzdGluZ3MgY2Fubm90IGJlIGZ1bGZpbGxlZCB3aXRoIGEgcmVjaXBpZW50IGFkZHJlc3NcIixcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmZ1bGZpbGxQcml2YXRlT3JkZXIoe1xuICAgICAgICBvcmRlcjogb3JkZXIgYXMgT3JkZXJWMixcbiAgICAgICAgYWNjb3VudEFkZHJlc3MsXG4gICAgICAgIGRvbWFpbixcbiAgICAgICAgb3ZlcnJpZGVzLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3Qgc2VhcG9ydCA9IHRoaXMuZ2V0U2VhcG9ydChwcm90b2NvbEFkZHJlc3MpO1xuICAgIGNvbnN0IHsgZXhlY3V0ZUFsbEFjdGlvbnMgfSA9IGF3YWl0IHNlYXBvcnQuZnVsZmlsbE9yZGVyKHtcbiAgICAgIG9yZGVyOiBwcm90b2NvbERhdGEsXG4gICAgICBhY2NvdW50QWRkcmVzcyxcbiAgICAgIHJlY2lwaWVudEFkZHJlc3MsXG4gICAgICBleHRyYURhdGEsXG4gICAgICBkb21haW4sXG4gICAgICBvdmVycmlkZXMsXG4gICAgfSk7XG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBhd2FpdCBleGVjdXRlQWxsQWN0aW9ucygpO1xuXG4gICAgY29uc3QgdHJhbnNhY3Rpb25IYXNoID0gZXRoZXJzLlRyYW5zYWN0aW9uLmZyb20odHJhbnNhY3Rpb24pLmhhc2g7XG4gICAgaWYgKCF0cmFuc2FjdGlvbkhhc2gpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgdHJhbnNhY3Rpb24gaGFzaFwiKTtcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLl9jb25maXJtVHJhbnNhY3Rpb24oXG4gICAgICB0cmFuc2FjdGlvbkhhc2gsXG4gICAgICBFdmVudFR5cGUuTWF0Y2hPcmRlcnMsXG4gICAgICBcIkZ1bGZpbGxpbmcgb3JkZXJcIixcbiAgICApO1xuICAgIHJldHVybiB0cmFuc2FjdGlvbkhhc2g7XG4gIH1cblxuICAvKipcbiAgICogVXRpbGl0eSBmdW5jdGlvbiB0byBnZXQgdGhlIFNlYXBvcnQgY2xpZW50IGJhc2VkIG9uIHRoZSBhZGRyZXNzLlxuICAgKiBAcGFyYW0gcHJvdG9jb2xBZGRyZXNzIFRoZSBTZWFwb3J0IGFkZHJlc3MuXG4gICAqL1xuICBwcml2YXRlIGdldFNlYXBvcnQocHJvdG9jb2xBZGRyZXNzOiBzdHJpbmcpOiBTZWFwb3J0IHtcbiAgICBjb25zdCBjaGVja3N1bW1lZFByb3RvY29sQWRkcmVzcyA9IGV0aGVycy5nZXRBZGRyZXNzKHByb3RvY29sQWRkcmVzcyk7XG4gICAgc3dpdGNoIChjaGVja3N1bW1lZFByb3RvY29sQWRkcmVzcykge1xuICAgICAgY2FzZSBDUk9TU19DSEFJTl9TRUFQT1JUX1YxXzVfQUREUkVTUzpcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VhcG9ydF92MV81O1xuICAgICAgY2FzZSBDUk9TU19DSEFJTl9TRUFQT1JUX1YxXzZfQUREUkVTUzpcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VhcG9ydF92MV82O1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBwcm90b2NvbCBhZGRyZXNzOiAke3Byb3RvY29sQWRkcmVzc31gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FuY2VsIG9yZGVycyBvbmNoYWluLCBwcmV2ZW50aW5nIHRoZW0gZnJvbSBiZWluZyBmdWxmaWxsZWQuXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEBwYXJhbSBvcHRpb25zLm9yZGVycyBUaGUgb3JkZXJzIHRvIGNhbmNlbFxuICAgKiBAcGFyYW0gb3B0aW9ucy5hY2NvdW50QWRkcmVzcyBUaGUgYWNjb3VudCBhZGRyZXNzIGNhbmNlbGxpbmcgdGhlIG9yZGVycy5cbiAgICogQHBhcmFtIG9wdGlvbnMuZG9tYWluIEFuIG9wdGlvbmFsIGRvbWFpbiB0byBiZSBoYXNoZWQgYW5kIGluY2x1ZGVkIGF0IHRoZSBlbmQgb2YgZnVsZmlsbG1lbnQgY2FsbGRhdGEuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICBUaGlzIGNhbiBiZSB1c2VkIGZvciBvbi1jaGFpbiBvcmRlciBhdHRyaWJ1dGlvbiB0byBhc3Npc3Qgd2l0aCBhbmFseXRpY3MuXG4gICAqIEBwYXJhbSBvcHRpb25zLm92ZXJyaWRlcyBUcmFuc2FjdGlvbiBvdmVycmlkZXMsIGlnbm9yZWQgaWYgbm90IHNldC5cbiAgICogQHJldHVybnMgVHJhbnNhY3Rpb24gaGFzaCBvZiB0aGUgb3JkZXIuXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGNhbmNlbFNlYXBvcnRPcmRlcnMoe1xuICAgIG9yZGVycyxcbiAgICBhY2NvdW50QWRkcmVzcyxcbiAgICBkb21haW4sXG4gICAgcHJvdG9jb2xBZGRyZXNzID0gREVGQVVMVF9TRUFQT1JUX0NPTlRSQUNUX0FERFJFU1MsXG4gICAgb3ZlcnJpZGVzLFxuICB9OiB7XG4gICAgb3JkZXJzOiBPcmRlckNvbXBvbmVudHNbXTtcbiAgICBhY2NvdW50QWRkcmVzczogc3RyaW5nO1xuICAgIGRvbWFpbj86IHN0cmluZztcbiAgICBwcm90b2NvbEFkZHJlc3M/OiBzdHJpbmc7XG4gICAgb3ZlcnJpZGVzPzogT3ZlcnJpZGVzO1xuICB9KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBjb25zdCBzZWFwb3J0ID0gdGhpcy5nZXRTZWFwb3J0KHByb3RvY29sQWRkcmVzcyk7XG5cbiAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGF3YWl0IHNlYXBvcnRcbiAgICAgIC5jYW5jZWxPcmRlcnMob3JkZXJzLCBhY2NvdW50QWRkcmVzcywgZG9tYWluLCBvdmVycmlkZXMpXG4gICAgICAudHJhbnNhY3QoKTtcblxuICAgIHJldHVybiB0cmFuc2FjdGlvbi5oYXNoO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbmNlbCBhbiBvcmRlciBvbmNoYWluLCBwcmV2ZW50aW5nIGl0IGZyb20gZXZlciBiZWluZyBmdWxmaWxsZWQuXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEBwYXJhbSBvcHRpb25zLm9yZGVyIFRoZSBvcmRlciB0byBjYW5jZWxcbiAgICogQHBhcmFtIG9wdGlvbnMuYWNjb3VudEFkZHJlc3MgVGhlIGFjY291bnQgYWRkcmVzcyB0aGF0IHdpbGwgYmUgY2FuY2VsbGluZyB0aGUgb3JkZXIuXG4gICAqIEBwYXJhbSBvcHRpb25zLmRvbWFpbiBBbiBvcHRpb25hbCBkb21haW4gdG8gYmUgaGFzaGVkIGFuZCBpbmNsdWRlZCBhdCB0aGUgZW5kIG9mIGZ1bGZpbGxtZW50IGNhbGxkYXRhLiAgVGhpcyBjYW4gYmUgdXNlZCBmb3Igb24tY2hhaW4gb3JkZXIgYXR0cmlidXRpb24gdG8gYXNzaXN0IHdpdGggYW5hbHl0aWNzLlxuICAgKlxuICAgKiBAdGhyb3dzIEVycm9yIGlmIHRoZSBhY2NvdW50QWRkcmVzcyBpcyBub3QgYXZhaWxhYmxlIHRocm91Z2ggd2FsbGV0IG9yIHByb3ZpZGVyLlxuICAgKiBAdGhyb3dzIEVycm9yIGlmIHRoZSBvcmRlcidzIHByb3RvY29sIGFkZHJlc3MgaXMgbm90IHN1cHBvcnRlZCBieSBPcGVuU2VhLiBTZWUge0BsaW5rIGlzVmFsaWRQcm90b2NvbH0uXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgY2FuY2VsT3JkZXIoe1xuICAgIG9yZGVyLFxuICAgIGFjY291bnRBZGRyZXNzLFxuICAgIGRvbWFpbixcbiAgfToge1xuICAgIG9yZGVyOiBPcmRlclYyO1xuICAgIGFjY291bnRBZGRyZXNzOiBzdHJpbmc7XG4gICAgZG9tYWluPzogc3RyaW5nO1xuICB9KSB7XG4gICAgYXdhaXQgdGhpcy5fcmVxdWlyZUFjY291bnRJc0F2YWlsYWJsZShhY2NvdW50QWRkcmVzcyk7XG4gICAgcmVxdWlyZVZhbGlkUHJvdG9jb2wob3JkZXIucHJvdG9jb2xBZGRyZXNzKTtcblxuICAgIHRoaXMuX2Rpc3BhdGNoKEV2ZW50VHlwZS5DYW5jZWxPcmRlciwgeyBvcmRlclYyOiBvcmRlciwgYWNjb3VudEFkZHJlc3MgfSk7XG5cbiAgICAvLyBUcmFuc2FjdCBhbmQgZ2V0IHRoZSB0cmFuc2FjdGlvbiBoYXNoXG4gICAgY29uc3QgdHJhbnNhY3Rpb25IYXNoID0gYXdhaXQgdGhpcy5jYW5jZWxTZWFwb3J0T3JkZXJzKHtcbiAgICAgIG9yZGVyczogW29yZGVyLnByb3RvY29sRGF0YS5wYXJhbWV0ZXJzXSxcbiAgICAgIGFjY291bnRBZGRyZXNzLFxuICAgICAgZG9tYWluLFxuICAgICAgcHJvdG9jb2xBZGRyZXNzOiBvcmRlci5wcm90b2NvbEFkZHJlc3MsXG4gICAgfSk7XG5cbiAgICAvLyBBd2FpdCB0cmFuc2FjdGlvbiBjb25maXJtYXRpb25cbiAgICBhd2FpdCB0aGlzLl9jb25maXJtVHJhbnNhY3Rpb24oXG4gICAgICB0cmFuc2FjdGlvbkhhc2gsXG4gICAgICBFdmVudFR5cGUuQ2FuY2VsT3JkZXIsXG4gICAgICBcIkNhbmNlbGxpbmcgb3JkZXJcIixcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBfZ2V0U2VhcG9ydFZlcnNpb24ocHJvdG9jb2xBZGRyZXNzOiBzdHJpbmcpIHtcbiAgICBjb25zdCBwcm90b2NvbEFkZHJlc3NDaGVja3N1bW1lZCA9IGV0aGVycy5nZXRBZGRyZXNzKHByb3RvY29sQWRkcmVzcyk7XG4gICAgc3dpdGNoIChwcm90b2NvbEFkZHJlc3NDaGVja3N1bW1lZCkge1xuICAgICAgY2FzZSBDUk9TU19DSEFJTl9TRUFQT1JUX1YxXzZfQUREUkVTUzpcbiAgICAgICAgcmV0dXJuIFwiMS42XCI7XG4gICAgICBjYXNlIENST1NTX0NIQUlOX1NFQVBPUlRfVjFfNV9BRERSRVNTOlxuICAgICAgICByZXR1cm4gXCIxLjVcIjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gb3IgdW5zdXBwb3J0ZWQgcHJvdG9jb2wgYWRkcmVzc1wiKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBvZmZlcmVyIHNpZ25hdHVyZSBmb3IgY2FuY2VsaW5nIGFuIG9yZGVyIG9mZmNoYWluLlxuICAgKiBUaGUgc2lnbmF0dXJlIHdpbGwgb25seSBiZSB2YWxpZCBpZiB0aGUgc2lnbmVyIGFkZHJlc3MgaXMgdGhlIGFkZHJlc3Mgb2YgdGhlIG9yZGVyJ3Mgb2ZmZXJlci5cbiAgICovXG4gIHByaXZhdGUgYXN5bmMgX2dldE9mZmVyZXJTaWduYXR1cmUoXG4gICAgcHJvdG9jb2xBZGRyZXNzOiBzdHJpbmcsXG4gICAgb3JkZXJIYXNoOiBzdHJpbmcsXG4gICAgY2hhaW46IENoYWluLFxuICApIHtcbiAgICBjb25zdCBjaGFpbklkID0gZ2V0Q2hhaW5JZChjaGFpbik7XG4gICAgY29uc3QgbmFtZSA9IFwiU2VhcG9ydFwiO1xuICAgIGNvbnN0IHZlcnNpb24gPSB0aGlzLl9nZXRTZWFwb3J0VmVyc2lvbihwcm90b2NvbEFkZHJlc3MpO1xuXG4gICAgaWYgKFxuICAgICAgdHlwZW9mICh0aGlzLl9zaWduZXJPclByb3ZpZGVyIGFzIFNpZ25lcikuc2lnblR5cGVkRGF0YSA9PSBcInVuZGVmaW5lZFwiXG4gICAgKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiUGxlYXNlIHBhc3MgYW4gZXRoZXJzIFNpZ25lciBpbnRvIHRoaXMgc2RrIHRvIGRlcml2ZSBhbiBvZmZlcmVyIHNpZ25hdHVyZVwiLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKHRoaXMuX3NpZ25lck9yUHJvdmlkZXIgYXMgU2lnbmVyKS5zaWduVHlwZWREYXRhKFxuICAgICAgeyBjaGFpbklkLCBuYW1lLCB2ZXJzaW9uLCB2ZXJpZnlpbmdDb250cmFjdDogcHJvdG9jb2xBZGRyZXNzIH0sXG4gICAgICB7IE9yZGVySGFzaDogW3sgbmFtZTogXCJvcmRlckhhc2hcIiwgdHlwZTogXCJieXRlczMyXCIgfV0gfSxcbiAgICAgIHsgb3JkZXJIYXNoIH0sXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPZmZjaGFpbiBjYW5jZWwgYW4gb3JkZXIsIG9mZmVyIG9yIGxpc3RpbmcsIGJ5IGl0cyBvcmRlciBoYXNoIHdoZW4gcHJvdGVjdGVkIGJ5IHRoZSBTaWduZWRab25lLlxuICAgKiBQcm90b2NvbCBhbmQgQ2hhaW4gYXJlIHJlcXVpcmVkIHRvIHByZXZlbnQgaGFzaCBjb2xsaXNpb25zLlxuICAgKiBQbGVhc2Ugbm90ZSBjYW5jZWxsYXRpb24gaXMgb25seSBhc3N1cmVkIGlmIGEgZnVsZmlsbG1lbnQgc2lnbmF0dXJlIHdhcyBub3QgdmVuZGVkIHByaW9yIHRvIGNhbmNlbGxhdGlvbi5cbiAgICogQHBhcmFtIHByb3RvY29sQWRkcmVzcyBUaGUgU2VhcG9ydCBhZGRyZXNzIGZvciB0aGUgb3JkZXIuXG4gICAqIEBwYXJhbSBvcmRlckhhc2ggVGhlIG9yZGVyIGhhc2gsIG9yIGV4dGVybmFsIGlkZW50aWZpZXIsIG9mIHRoZSBvcmRlci5cbiAgICogQHBhcmFtIGNoYWluIFRoZSBjaGFpbiB3aGVyZSB0aGUgb3JkZXIgaXMgbG9jYXRlZC5cbiAgICogQHBhcmFtIG9mZmVyZXJTaWduYXR1cmUgQW4gRUlQLTcxMiBzaWduYXR1cmUgZnJvbSB0aGUgb2ZmZXJlciBvZiB0aGUgb3JkZXIuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgIElmIHRoaXMgaXMgbm90IHByb3ZpZGVkLCB0aGUgdXNlciBhc3NvY2lhdGVkIHdpdGggdGhlIEFQSSBLZXkgd2lsbCBiZSBjaGVja2VkIGluc3RlYWQuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgIFRoZSBzaWduYXR1cmUgbXVzdCBiZSBhIEVJUC03MTIgc2lnbmF0dXJlIGNvbnNpc3Rpbmcgb2YgdGhlIG9yZGVyJ3MgU2VhcG9ydCBjb250cmFjdCdzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUsIHZlcnNpb24sIGFkZHJlc3MsIGFuZCBjaGFpbi4gVGhlIHN0cnVjdCB0byBzaWduIGlzIGBPcmRlckhhc2hgIGNvbnRhaW5pbmcgYVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBzaW5nbGUgYnl0ZXMzMiBmaWVsZC5cbiAgICogQHBhcmFtIHVzZVNpZ25lclRvRGVyaXZlT2ZmZXJlclNpZ25hdHVyZSBEZXJpdmUgdGhlIG9mZmVyZXJTaWduYXR1cmUgZnJvbSB0aGUgRXRoZXJzIHNpZ25lciBwYXNzZWQgaW50byB0aGlzIHNkay5cbiAgICogQHJldHVybnMgVGhlIHJlc3BvbnNlIGZyb20gdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBvZmZjaGFpbkNhbmNlbE9yZGVyKFxuICAgIHByb3RvY29sQWRkcmVzczogc3RyaW5nLFxuICAgIG9yZGVySGFzaDogc3RyaW5nLFxuICAgIGNoYWluOiBDaGFpbiA9IHRoaXMuY2hhaW4sXG4gICAgb2ZmZXJlclNpZ25hdHVyZT86IHN0cmluZyxcbiAgICB1c2VTaWduZXJUb0Rlcml2ZU9mZmVyZXJTaWduYXR1cmU/OiBib29sZWFuLFxuICApIHtcbiAgICBpZiAodXNlU2lnbmVyVG9EZXJpdmVPZmZlcmVyU2lnbmF0dXJlKSB7XG4gICAgICBvZmZlcmVyU2lnbmF0dXJlID0gYXdhaXQgdGhpcy5fZ2V0T2ZmZXJlclNpZ25hdHVyZShcbiAgICAgICAgcHJvdG9jb2xBZGRyZXNzLFxuICAgICAgICBvcmRlckhhc2gsXG4gICAgICAgIGNoYWluLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYXBpLm9mZmNoYWluQ2FuY2VsT3JkZXIoXG4gICAgICBwcm90b2NvbEFkZHJlc3MsXG4gICAgICBvcmRlckhhc2gsXG4gICAgICBjaGFpbixcbiAgICAgIG9mZmVyZXJTaWduYXR1cmUsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgYW4gb3JkZXIgaXMgZnVsZmlsbGFibGUuXG4gICAqIEFuIG9yZGVyIG1heSBub3QgYmUgZnVsZmlsbGFibGUgaWYgYSB0YXJnZXQgaXRlbSdzIHRyYW5zZmVyIGZ1bmN0aW9uXG4gICAqIGlzIGxvY2tlZCBmb3Igc29tZSByZWFzb24sIGUuZy4gYW4gaXRlbSBpcyBiZWluZyByZW50ZWQgd2l0aGluIGEgZ2FtZVxuICAgKiBvciB0cmFkaW5nIGhhcyBiZWVuIGxvY2tlZCBmb3IgYW4gaXRlbSB0eXBlLlxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5vcmRlciBPcmRlciB0byBjaGVja1xuICAgKiBAcGFyYW0gb3B0aW9ucy5hY2NvdW50QWRkcmVzcyBUaGUgYWNjb3VudCBhZGRyZXNzIHRoYXQgd2lsbCBiZSBmdWxmaWxsaW5nIHRoZSBvcmRlclxuICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBvcmRlciBpcyBmdWxmaWxsYWJsZSwgZWxzZSBGYWxzZS5cbiAgICpcbiAgICogQHRocm93cyBFcnJvciBpZiB0aGUgb3JkZXIncyBwcm90b2NvbCBhZGRyZXNzIGlzIG5vdCBzdXBwb3J0ZWQgYnkgT3BlblNlYS4gU2VlIHtAbGluayBpc1ZhbGlkUHJvdG9jb2x9LlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGlzT3JkZXJGdWxmaWxsYWJsZSh7XG4gICAgb3JkZXIsXG4gICAgYWNjb3VudEFkZHJlc3MsXG4gIH06IHtcbiAgICBvcmRlcjogT3JkZXJWMjtcbiAgICBhY2NvdW50QWRkcmVzczogc3RyaW5nO1xuICB9KTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmVxdWlyZVZhbGlkUHJvdG9jb2wob3JkZXIucHJvdG9jb2xBZGRyZXNzKTtcblxuICAgIGNvbnN0IHNlYXBvcnQgPSB0aGlzLmdldFNlYXBvcnQob3JkZXIucHJvdG9jb2xBZGRyZXNzKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBpc1ZhbGlkID0gYXdhaXQgc2VhcG9ydFxuICAgICAgICAudmFsaWRhdGUoW29yZGVyLnByb3RvY29sRGF0YV0sIGFjY291bnRBZGRyZXNzKVxuICAgICAgICAuc3RhdGljQ2FsbCgpO1xuICAgICAgcmV0dXJuICEhaXNWYWxpZDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGhhc0Vycm9yQ29kZShlcnJvcikgJiYgZXJyb3IuY29kZSA9PT0gXCJDQUxMX0VYQ0VQVElPTlwiKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYW4gYWNjb3VudCdzIGJhbGFuY2Ugb2YgYW55IEFzc2V0LiBUaGlzIGFzc2V0IGNhbiBiZSBhbiBFUkMyMCwgRVJDMTE1NSwgb3IgRVJDNzIxLlxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5hY2NvdW50QWRkcmVzcyBBY2NvdW50IGFkZHJlc3MgdG8gY2hlY2tcbiAgICogQHBhcmFtIG9wdGlvbnMuYXNzZXQgVGhlIEFzc2V0IHRvIGNoZWNrIGJhbGFuY2UgZm9yLiB0b2tlblN0YW5kYXJkIG11c3QgYmUgc2V0LlxuICAgKiBAcmV0dXJucyBUaGUgYmFsYW5jZSBvZiB0aGUgYXNzZXQgZm9yIHRoZSBhY2NvdW50LlxuICAgKlxuICAgKiBAdGhyb3dzIEVycm9yIGlmIHRoZSB0b2tlbiBzdGFuZGFyZCBkb2VzIG5vdCBzdXBwb3J0IGJhbGFuY2VPZi5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBnZXRCYWxhbmNlKHtcbiAgICBhY2NvdW50QWRkcmVzcyxcbiAgICBhc3NldCxcbiAgfToge1xuICAgIGFjY291bnRBZGRyZXNzOiBzdHJpbmc7XG4gICAgYXNzZXQ6IEFzc2V0V2l0aFRva2VuU3RhbmRhcmQ7XG4gIH0pOiBQcm9taXNlPGJpZ2ludD4ge1xuICAgIHN3aXRjaCAoYXNzZXQudG9rZW5TdGFuZGFyZCkge1xuICAgICAgY2FzZSBUb2tlblN0YW5kYXJkLkVSQzIwOiB7XG4gICAgICAgIGNvbnN0IGNvbnRyYWN0ID0gRVJDMjBfX2ZhY3RvcnkuY29ubmVjdChcbiAgICAgICAgICBhc3NldC50b2tlbkFkZHJlc3MsXG4gICAgICAgICAgdGhpcy5wcm92aWRlcixcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGNvbnRyYWN0LmJhbGFuY2VPZi5zdGF0aWNDYWxsKGFjY291bnRBZGRyZXNzKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgVG9rZW5TdGFuZGFyZC5FUkMxMTU1OiB7XG4gICAgICAgIGlmIChhc3NldC50b2tlbklkID09PSB1bmRlZmluZWQgfHwgYXNzZXQudG9rZW5JZCA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgRVJDMTE1NSB0b2tlbklkIGZvciBnZXRCYWxhbmNlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvbnRyYWN0ID0gRVJDMTE1NV9fZmFjdG9yeS5jb25uZWN0KFxuICAgICAgICAgIGFzc2V0LnRva2VuQWRkcmVzcyxcbiAgICAgICAgICB0aGlzLnByb3ZpZGVyLFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gYXdhaXQgY29udHJhY3QuYmFsYW5jZU9mLnN0YXRpY0NhbGwoXG4gICAgICAgICAgYWNjb3VudEFkZHJlc3MsXG4gICAgICAgICAgYXNzZXQudG9rZW5JZCxcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGNhc2UgVG9rZW5TdGFuZGFyZC5FUkM3MjE6IHtcbiAgICAgICAgaWYgKGFzc2V0LnRva2VuSWQgPT09IHVuZGVmaW5lZCB8fCBhc3NldC50b2tlbklkID09PSBudWxsKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBFUkM3MjEgdG9rZW5JZCBmb3IgZ2V0QmFsYW5jZVwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250cmFjdCA9IEVSQzcyMV9fZmFjdG9yeS5jb25uZWN0KFxuICAgICAgICAgIGFzc2V0LnRva2VuQWRkcmVzcyxcbiAgICAgICAgICB0aGlzLnByb3ZpZGVyLFxuICAgICAgICApO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IG93bmVyID0gYXdhaXQgY29udHJhY3Qub3duZXJPZi5zdGF0aWNDYWxsKGFzc2V0LnRva2VuSWQpO1xuICAgICAgICAgIHJldHVybiBCaWdJbnQob3duZXIudG9Mb3dlckNhc2UoKSA9PSBhY2NvdW50QWRkcmVzcy50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICBgRmFpbGVkIHRvIGdldCBvd25lck9mIEVSQzcyMTogJHtlcnJvci5tZXNzYWdlID8/IGVycm9yfWAsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gMG47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIHRva2VuIHN0YW5kYXJkIGZvciBnZXRCYWxhbmNlXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2ZlciBhbiBhc3NldC4gVGhpcyBhc3NldCBjYW4gYmUgYW4gRVJDMjAsIEVSQzExNTUsIG9yIEVSQzcyMS5cbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICogQHBhcmFtIG9wdGlvbnMuYXNzZXQgVGhlIEFzc2V0IHRvIHRyYW5zZmVyLiB0b2tlblN0YW5kYXJkIG11c3QgYmUgc2V0LlxuICAgKiBAcGFyYW0gb3B0aW9ucy5hbW91bnQgQW1vdW50IG9mIGFzc2V0IHRvIHRyYW5zZmVyLiBOb3QgdXNlZCBmb3IgRVJDNzIxLlxuICAgKiBAcGFyYW0gb3B0aW9ucy5mcm9tQWRkcmVzcyBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciBmcm9tXG4gICAqIEBwYXJhbSBvcHRpb25zLnRvQWRkcmVzcyBUaGUgYWRkcmVzcyB0byB0cmFuc2ZlciB0b1xuICAgKiBAcGFyYW0gb3B0aW9ucy5vdmVycmlkZXMgVHJhbnNhY3Rpb24gb3ZlcnJpZGVzLCBpZ25vcmVkIGlmIG5vdCBzZXQuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgdHJhbnNmZXIoe1xuICAgIGFzc2V0LFxuICAgIGFtb3VudCxcbiAgICBmcm9tQWRkcmVzcyxcbiAgICB0b0FkZHJlc3MsXG4gICAgb3ZlcnJpZGVzLFxuICB9OiB7XG4gICAgYXNzZXQ6IEFzc2V0V2l0aFRva2VuU3RhbmRhcmQ7XG4gICAgYW1vdW50PzogQmlnTnVtYmVyaXNoO1xuICAgIGZyb21BZGRyZXNzOiBzdHJpbmc7XG4gICAgdG9BZGRyZXNzOiBzdHJpbmc7XG4gICAgb3ZlcnJpZGVzPzogT3ZlcnJpZGVzO1xuICB9KTogUHJvbWlzZTx2b2lkPiB7XG4gICAgYXdhaXQgdGhpcy5fcmVxdWlyZUFjY291bnRJc0F2YWlsYWJsZShmcm9tQWRkcmVzcyk7XG4gICAgb3ZlcnJpZGVzID0geyAuLi5vdmVycmlkZXMsIGZyb206IGZyb21BZGRyZXNzIH07XG4gICAgbGV0IHRyYW5zYWN0aW9uOiBQcm9taXNlPENvbnRyYWN0VHJhbnNhY3Rpb25SZXNwb25zZT47XG5cbiAgICBzd2l0Y2ggKGFzc2V0LnRva2VuU3RhbmRhcmQpIHtcbiAgICAgIGNhc2UgVG9rZW5TdGFuZGFyZC5FUkMyMDoge1xuICAgICAgICBpZiAoIWFtb3VudCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgRVJDMjAgYW1vdW50IGZvciB0cmFuc2ZlclwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250cmFjdCA9IEVSQzIwX19mYWN0b3J5LmNvbm5lY3QoXG4gICAgICAgICAgYXNzZXQudG9rZW5BZGRyZXNzLFxuICAgICAgICAgIHRoaXMuX3NpZ25lck9yUHJvdmlkZXIsXG4gICAgICAgICk7XG4gICAgICAgIHRyYW5zYWN0aW9uID0gY29udHJhY3QudHJhbnNmZXIodG9BZGRyZXNzLCBhbW91bnQsIG92ZXJyaWRlcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBUb2tlblN0YW5kYXJkLkVSQzExNTU6IHtcbiAgICAgICAgaWYgKGFzc2V0LnRva2VuSWQgPT09IHVuZGVmaW5lZCB8fCBhc3NldC50b2tlbklkID09PSBudWxsKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBFUkMxMTU1IHRva2VuSWQgZm9yIHRyYW5zZmVyXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYW1vdW50KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBFUkMxMTU1IGFtb3VudCBmb3IgdHJhbnNmZXJcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udHJhY3QgPSBFUkMxMTU1X19mYWN0b3J5LmNvbm5lY3QoXG4gICAgICAgICAgYXNzZXQudG9rZW5BZGRyZXNzLFxuICAgICAgICAgIHRoaXMuX3NpZ25lck9yUHJvdmlkZXIsXG4gICAgICAgICk7XG4gICAgICAgIHRyYW5zYWN0aW9uID0gY29udHJhY3Quc2FmZVRyYW5zZmVyRnJvbShcbiAgICAgICAgICBmcm9tQWRkcmVzcyxcbiAgICAgICAgICB0b0FkZHJlc3MsXG4gICAgICAgICAgYXNzZXQudG9rZW5JZCxcbiAgICAgICAgICBhbW91bnQsXG4gICAgICAgICAgXCJcIixcbiAgICAgICAgICBvdmVycmlkZXMsXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBUb2tlblN0YW5kYXJkLkVSQzcyMToge1xuICAgICAgICBpZiAoYXNzZXQudG9rZW5JZCA9PT0gdW5kZWZpbmVkIHx8IGFzc2V0LnRva2VuSWQgPT09IG51bGwpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIEVSQzcyMSB0b2tlbklkIGZvciB0cmFuc2ZlclwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb250cmFjdCA9IEVSQzcyMV9fZmFjdG9yeS5jb25uZWN0KFxuICAgICAgICAgIGFzc2V0LnRva2VuQWRkcmVzcyxcbiAgICAgICAgICB0aGlzLl9zaWduZXJPclByb3ZpZGVyLFxuICAgICAgICApO1xuICAgICAgICB0cmFuc2FjdGlvbiA9IGNvbnRyYWN0LnRyYW5zZmVyRnJvbShcbiAgICAgICAgICBmcm9tQWRkcmVzcyxcbiAgICAgICAgICB0b0FkZHJlc3MsXG4gICAgICAgICAgYXNzZXQudG9rZW5JZCxcbiAgICAgICAgICBvdmVycmlkZXMsXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgdG9rZW4gc3RhbmRhcmQgZm9yIHRyYW5zZmVyXCIpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zdCB0cmFuc2FjdGlvblJlc3BvbnNlID0gYXdhaXQgdHJhbnNhY3Rpb247XG4gICAgICBhd2FpdCB0aGlzLl9jb25maXJtVHJhbnNhY3Rpb24oXG4gICAgICAgIHRyYW5zYWN0aW9uUmVzcG9uc2UuaGFzaCxcbiAgICAgICAgRXZlbnRUeXBlLlRyYW5zZmVyLFxuICAgICAgICBcIlRyYW5zZmVycmluZyBhc3NldFwiLFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICB0aGlzLl9kaXNwYXRjaChFdmVudFR5cGUuVHJhbnNhY3Rpb25EZW5pZWQsIHtcbiAgICAgICAgZXJyb3IsXG4gICAgICAgIGFjY291bnRBZGRyZXNzOiBmcm9tQWRkcmVzcyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbnN0ZWFkIG9mIHNpZ25pbmcgYW4gb2ZmLWNoYWluIG9yZGVyLCB0aGlzIG1ldGhvZHMgYWxsb3dzIHlvdSB0byBhcHByb3ZlIGFuIG9yZGVyXG4gICAqIHdpdGggb24gb24tY2hhaW4gdHJhbnNhY3Rpb24uXG4gICAqIEBwYXJhbSBvcmRlciBPcmRlciB0byBhcHByb3ZlXG4gICAqIEBwYXJhbSBkb21haW4gQW4gb3B0aW9uYWwgZG9tYWluIHRvIGJlIGhhc2hlZCBhbmQgaW5jbHVkZWQgYXQgdGhlIGVuZCBvZiBmdWxmaWxsbWVudCBjYWxsZGF0YS4gIFRoaXMgY2FuIGJlIHVzZWQgZm9yIG9uLWNoYWluIG9yZGVyIGF0dHJpYnV0aW9uIHRvIGFzc2lzdCB3aXRoIGFuYWx5dGljcy5cbiAgICogQHJldHVybnMgVHJhbnNhY3Rpb24gaGFzaCBvZiB0aGUgYXBwcm92YWwgdHJhbnNhY3Rpb25cbiAgICpcbiAgICogQHRocm93cyBFcnJvciBpZiB0aGUgYWNjb3VudEFkZHJlc3MgaXMgbm90IGF2YWlsYWJsZSB0aHJvdWdoIHdhbGxldCBvciBwcm92aWRlci5cbiAgICogQHRocm93cyBFcnJvciBpZiB0aGUgb3JkZXIncyBwcm90b2NvbCBhZGRyZXNzIGlzIG5vdCBzdXBwb3J0ZWQgYnkgT3BlblNlYS4gU2VlIHtAbGluayBpc1ZhbGlkUHJvdG9jb2x9LlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGFwcHJvdmVPcmRlcihvcmRlcjogT3JkZXJWMiwgZG9tYWluPzogc3RyaW5nKSB7XG4gICAgYXdhaXQgdGhpcy5fcmVxdWlyZUFjY291bnRJc0F2YWlsYWJsZShvcmRlci5tYWtlci5hZGRyZXNzKTtcbiAgICByZXF1aXJlVmFsaWRQcm90b2NvbChvcmRlci5wcm90b2NvbEFkZHJlc3MpO1xuXG4gICAgdGhpcy5fZGlzcGF0Y2goRXZlbnRUeXBlLkFwcHJvdmVPcmRlciwge1xuICAgICAgb3JkZXJWMjogb3JkZXIsXG4gICAgICBhY2NvdW50QWRkcmVzczogb3JkZXIubWFrZXIuYWRkcmVzcyxcbiAgICB9KTtcblxuICAgIGNvbnN0IHNlYXBvcnQgPSB0aGlzLmdldFNlYXBvcnQob3JkZXIucHJvdG9jb2xBZGRyZXNzKTtcbiAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGF3YWl0IHNlYXBvcnRcbiAgICAgIC52YWxpZGF0ZShbb3JkZXIucHJvdG9jb2xEYXRhXSwgb3JkZXIubWFrZXIuYWRkcmVzcywgZG9tYWluKVxuICAgICAgLnRyYW5zYWN0KCk7XG5cbiAgICBhd2FpdCB0aGlzLl9jb25maXJtVHJhbnNhY3Rpb24oXG4gICAgICB0cmFuc2FjdGlvbi5oYXNoLFxuICAgICAgRXZlbnRUeXBlLkFwcHJvdmVPcmRlcixcbiAgICAgIFwiQXBwcm92aW5nIG9yZGVyXCIsXG4gICAgKTtcblxuICAgIHJldHVybiB0cmFuc2FjdGlvbi5oYXNoO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbXB1dGUgdGhlIGBiYXNlUHJpY2VgIGFuZCBgZW5kUHJpY2VgIHBhcmFtZXRlcnMgdG8gYmUgdXNlZCB0byBwcmljZSBhbiBvcmRlci5cbiAgICogQWxzbyB2YWxpZGF0ZXMgdGhlIGV4cGlyYXRpb24gdGltZSBhbmQgYXVjdGlvbiB0eXBlLlxuICAgKiBAcGFyYW0gdG9rZW5BZGRyZXNzIEFkZHJlc3Mgb2YgdGhlIEVSQy0yMCB0b2tlbiB0byB1c2UgZm9yIHRyYWRpbmcuIFVzZSB0aGUgbnVsbCBhZGRyZXNzIGZvciBFVEguXG4gICAqIEBwYXJhbSBleHBpcmF0aW9uVGltZSBXaGVuIHRoZSBhdWN0aW9uIGV4cGlyZXMsIG9yIDAgaWYgbmV2ZXIuXG4gICAqIEBwYXJhbSBzdGFydEFtb3VudCBUaGUgYmFzZSB2YWx1ZSBmb3IgdGhlIG9yZGVyLCBpbiB0aGUgdG9rZW4ncyBtYWluIHVuaXRzIChlLmcuIEVUSCBpbnN0ZWFkIG9mIHdlaSlcbiAgICogQHBhcmFtIGVuZEFtb3VudCBUaGUgZW5kIHZhbHVlIGZvciB0aGUgb3JkZXIsIGluIHRoZSB0b2tlbidzIG1haW4gdW5pdHMgKGUuZy4gRVRIIGluc3RlYWQgb2Ygd2VpKVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBfZ2V0UHJpY2VQYXJhbWV0ZXJzKFxuICAgIG9yZGVyU2lkZTogT3JkZXJTaWRlLFxuICAgIHRva2VuQWRkcmVzczogc3RyaW5nLFxuICAgIGV4cGlyYXRpb25UaW1lOiBCaWdOdW1iZXJpc2gsXG4gICAgc3RhcnRBbW91bnQ6IEJpZ051bWJlcmlzaCxcbiAgICBlbmRBbW91bnQ/OiBCaWdOdW1iZXJpc2gsXG4gICkge1xuICAgIHRva2VuQWRkcmVzcyA9IHRva2VuQWRkcmVzcy50b0xvd2VyQ2FzZSgpO1xuICAgIGNvbnN0IGlzRXRoZXIgPSB0b2tlbkFkZHJlc3MgPT09IGV0aGVycy5aZXJvQWRkcmVzcztcbiAgICBsZXQgZGVjaW1hbHMgPSAxODtcbiAgICBpZiAoIWlzRXRoZXIpIHtcbiAgICAgIGlmICh0b2tlbkFkZHJlc3MgaW4gdGhpcy5fY2FjaGVkUGF5bWVudFRva2VuRGVjaW1hbHMpIHtcbiAgICAgICAgZGVjaW1hbHMgPSB0aGlzLl9jYWNoZWRQYXltZW50VG9rZW5EZWNpbWFsc1t0b2tlbkFkZHJlc3NdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcGF5bWVudFRva2VuID0gYXdhaXQgdGhpcy5hcGkuZ2V0UGF5bWVudFRva2VuKHRva2VuQWRkcmVzcyk7XG4gICAgICAgIHRoaXMuX2NhY2hlZFBheW1lbnRUb2tlbkRlY2ltYWxzW3Rva2VuQWRkcmVzc10gPSBwYXltZW50VG9rZW4uZGVjaW1hbHM7XG4gICAgICAgIGRlY2ltYWxzID0gcGF5bWVudFRva2VuLmRlY2ltYWxzO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHN0YXJ0QW1vdW50V2VpID0gZXRoZXJzLnBhcnNlVW5pdHMoc3RhcnRBbW91bnQudG9TdHJpbmcoKSwgZGVjaW1hbHMpO1xuICAgIGNvbnN0IGVuZEFtb3VudFdlaSA9IGVuZEFtb3VudFxuICAgICAgPyBldGhlcnMucGFyc2VVbml0cyhlbmRBbW91bnQudG9TdHJpbmcoKSwgZGVjaW1hbHMpXG4gICAgICA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBwcmljZURpZmZXZWkgPVxuICAgICAgZW5kQW1vdW50V2VpICE9PSB1bmRlZmluZWQgPyBzdGFydEFtb3VudFdlaSAtIGVuZEFtb3VudFdlaSA6IDBuO1xuXG4gICAgY29uc3QgYmFzZVByaWNlID0gc3RhcnRBbW91bnRXZWk7XG4gICAgY29uc3QgZW5kUHJpY2UgPSBlbmRBbW91bnRXZWk7XG5cbiAgICAvLyBWYWxpZGF0aW9uXG4gICAgaWYgKHN0YXJ0QW1vdW50ID09IG51bGwgfHwgc3RhcnRBbW91bnRXZWkgPCAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdGFydGluZyBwcmljZSBtdXN0IGJlIGEgbnVtYmVyID49IDBcIik7XG4gICAgfVxuICAgIGlmIChpc0V0aGVyICYmIG9yZGVyU2lkZSA9PT0gT3JkZXJTaWRlLk9GRkVSKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPZmZlcnMgbXVzdCB1c2Ugd3JhcHBlZCBFVEggb3IgYW4gRVJDLTIwIHRva2VuLlwiKTtcbiAgICB9XG4gICAgaWYgKHByaWNlRGlmZldlaSA8IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJFbmQgcHJpY2UgbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHN0YXJ0IHByaWNlLlwiLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHByaWNlRGlmZldlaSA+IDAgJiYgQmlnSW50KGV4cGlyYXRpb25UaW1lKSA9PT0gMG4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgXCJFeHBpcmF0aW9uIHRpbWUgbXVzdCBiZSBzZXQgaWYgb3JkZXIgd2lsbCBjaGFuZ2UgaW4gcHJpY2UuXCIsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4geyBiYXNlUHJpY2UsIGVuZFByaWNlIH07XG4gIH1cblxuICBwcml2YXRlIF9kaXNwYXRjaChldmVudDogRXZlbnRUeXBlLCBkYXRhOiBFdmVudERhdGEpIHtcbiAgICB0aGlzLl9lbWl0dGVyLmVtaXQoZXZlbnQsIGRhdGEpO1xuICB9XG5cbiAgLyoqIEdldCB0aGUgYWNjb3VudHMgYXZhaWxhYmxlIGZyb20gdGhlIHNpZ25lciBvciBwcm92aWRlci4gKi9cbiAgcHJpdmF0ZSBhc3luYyBfZ2V0QXZhaWxhYmxlQWNjb3VudHMoKSB7XG4gICAgY29uc3QgYXZhaWxhYmxlQWNjb3VudHM6IHN0cmluZ1tdID0gW107XG5cbiAgICBpZiAoXCJhZGRyZXNzXCIgaW4gdGhpcy5fc2lnbmVyT3JQcm92aWRlcikge1xuICAgICAgYXZhaWxhYmxlQWNjb3VudHMucHVzaCh0aGlzLl9zaWduZXJPclByb3ZpZGVyLmFkZHJlc3MgYXMgc3RyaW5nKTtcbiAgICB9IGVsc2UgaWYgKFwibGlzdEFjY291bnRzXCIgaW4gdGhpcy5fc2lnbmVyT3JQcm92aWRlcikge1xuICAgICAgY29uc3QgYWRkcmVzc2VzID0gKGF3YWl0IHRoaXMuX3NpZ25lck9yUHJvdmlkZXIubGlzdEFjY291bnRzKCkpLm1hcChcbiAgICAgICAgKGFjY3QpID0+IGFjY3QuYWRkcmVzcyxcbiAgICAgICk7XG4gICAgICBhdmFpbGFibGVBY2NvdW50cy5wdXNoKC4uLmFkZHJlc3Nlcyk7XG4gICAgfSBlbHNlIGlmIChcImdldEFkZHJlc3NcIiBpbiB0aGlzLl9zaWduZXJPclByb3ZpZGVyKSB7XG4gICAgICBhdmFpbGFibGVBY2NvdW50cy5wdXNoKGF3YWl0IHRoaXMuX3NpZ25lck9yUHJvdmlkZXIuZ2V0QWRkcmVzcygpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXZhaWxhYmxlQWNjb3VudHM7XG4gIH1cblxuICAvKipcbiAgICogVGhyb3dzIGFuIGVycm9yIGlmIGFuIGFjY291bnQgaXMgbm90IGF2YWlsYWJsZSB0aHJvdWdoIHRoZSBwcm92aWRlci5cbiAgICogQHBhcmFtIGFjY291bnRBZGRyZXNzIFRoZSBhY2NvdW50IGFkZHJlc3MgdG8gY2hlY2sgaXMgYXZhaWxhYmxlLlxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBfcmVxdWlyZUFjY291bnRJc0F2YWlsYWJsZShhY2NvdW50QWRkcmVzczogc3RyaW5nKSB7XG4gICAgY29uc3QgYWNjb3VudEFkZHJlc3NDaGVja3N1bW1lZCA9IGV0aGVycy5nZXRBZGRyZXNzKGFjY291bnRBZGRyZXNzKTtcbiAgICBjb25zdCBhdmFpbGFibGVBY2NvdW50cyA9IGF3YWl0IHRoaXMuX2dldEF2YWlsYWJsZUFjY291bnRzKCk7XG5cbiAgICBpZiAoYXZhaWxhYmxlQWNjb3VudHMuaW5jbHVkZXMoYWNjb3VudEFkZHJlc3NDaGVja3N1bW1lZCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICBgU3BlY2lmaWVkIGFjY291bnRBZGRyZXNzIGlzIG5vdCBhdmFpbGFibGUgdGhyb3VnaCB3YWxsZXQgb3IgcHJvdmlkZXI6ICR7YWNjb3VudEFkZHJlc3NDaGVja3N1bW1lZH0uIEFjY291bnRzIGF2YWlsYWJsZTogJHtcbiAgICAgICAgYXZhaWxhYmxlQWNjb3VudHMubGVuZ3RoID4gMCA/IGF2YWlsYWJsZUFjY291bnRzLmpvaW4oXCIsIFwiKSA6IFwibm9uZVwiXG4gICAgICB9YCxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFdhaXQgZm9yIGEgdHJhbnNhY3Rpb24gdG8gY29uZmlybSBhbmQgbG9nIHRoZSBzdWNjZXNzIG9yIGZhaWx1cmUuXG4gICAqIEBwYXJhbSB0cmFuc2FjdGlvbkhhc2ggVGhlIHRyYW5zYWN0aW9uIGhhc2ggdG8gd2FpdCBmb3IuXG4gICAqIEBwYXJhbSBldmVudCBUaGUgZXZlbnQgdHlwZSB0byBsb2cuXG4gICAqIEBwYXJhbSBkZXNjcmlwdGlvbiBUaGUgZGVzY3JpcHRpb24gb2YgdGhlIHRyYW5zYWN0aW9uLlxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBfY29uZmlybVRyYW5zYWN0aW9uKFxuICAgIHRyYW5zYWN0aW9uSGFzaDogc3RyaW5nLFxuICAgIGV2ZW50OiBFdmVudFR5cGUsXG4gICAgZGVzY3JpcHRpb246IHN0cmluZyxcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgdHJhbnNhY3Rpb25FdmVudERhdGEgPSB7IHRyYW5zYWN0aW9uSGFzaCwgZXZlbnQgfTtcbiAgICB0aGlzLmxvZ2dlcihgVHJhbnNhY3Rpb24gc3RhcnRlZDogJHtkZXNjcmlwdGlvbn1gKTtcblxuICAgIHRyeSB7XG4gICAgICB0aGlzLl9kaXNwYXRjaChFdmVudFR5cGUuVHJhbnNhY3Rpb25DcmVhdGVkLCB0cmFuc2FjdGlvbkV2ZW50RGF0YSk7XG4gICAgICBhd2FpdCB0aGlzLnByb3ZpZGVyLndhaXRGb3JUcmFuc2FjdGlvbih0cmFuc2FjdGlvbkhhc2gpO1xuICAgICAgdGhpcy5sb2dnZXIoYFRyYW5zYWN0aW9uIHN1Y2NlZWRlZDogJHtkZXNjcmlwdGlvbn1gKTtcbiAgICAgIHRoaXMuX2Rpc3BhdGNoKEV2ZW50VHlwZS5UcmFuc2FjdGlvbkNvbmZpcm1lZCwgdHJhbnNhY3Rpb25FdmVudERhdGEpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmxvZ2dlcihgVHJhbnNhY3Rpb24gZmFpbGVkOiAke2Rlc2NyaXB0aW9ufWApO1xuICAgICAgdGhpcy5fZGlzcGF0Y2goRXZlbnRUeXBlLlRyYW5zYWN0aW9uRmFpbGVkLCB7XG4gICAgICAgIC4uLnRyYW5zYWN0aW9uRXZlbnREYXRhLFxuICAgICAgICBlcnJvcixcbiAgICAgIH0pO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG59XG4iXSwibWFwcGluZ3MiOiJna2xIQW9FQTtBQUFBQSxhQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGFBQUEsR0FBQUEsYUFBQSxHQUFBRSxDQUFBLE0sMEdBcEVBLE1BQUFDLFlBQUEsRUFBQUgsYUFBQSxHQUFBRSxDQUFBLE1BQUFFLE9BQUEsWUFDQSxNQUFBQyxZQUFBLEVBQUFMLGFBQUEsR0FBQUUsQ0FBQSxNQUFBRSxPQUFBLHlCQUNBLE1BQUFFLFdBQUEsRUFBQU4sYUFBQSxHQUFBRSxDQUFBLE1BQUFFLE9BQUEsdUNBV0EsTUFBQUcsUUFBQSxFQUFBUCxhQUFBLEdBQUFFLENBQUEsTUFBQUUsT0FBQSxZQVlBLE1BQUFJLEtBQUEsRUFBQVIsYUFBQSxHQUFBRSxDQUFBLE1BQUFFLE9BQUEsZUFFQSxNQUFBSyxXQUFBLEVBQUFULGFBQUEsR0FBQUUsQ0FBQSxNQUFBRSxPQUFBLGlCQUtBLE1BQUFNLGlCQUFBLEVBQUFWLGFBQUEsR0FBQUUsQ0FBQSxNQUFBRSxPQUFBLDhCQUtBLE1BQUFPLE9BQUEsRUFBQVgsYUFBQSxHQUFBRSxDQUFBLE1BQUFFLE9BQUEsb0JBQ0EsTUFBQVEsT0FBQSxFQUFBWixhQUFBLEdBQUFFLENBQUEsT0FBQUUsT0FBQSxvQkFDQSxNQUFBUyxXQUFBLEVBQUFiLGFBQUEsR0FBQUUsQ0FBQSxPQUFBRSxPQUFBLDJCQUtBLE1BQUFVLE9BQUEsRUFBQWQsYUFBQSxHQUFBRSxDQUFBLE9BQUFFLE9BQUEsYUFXQSxNQUFBVyxPQUFBLEVBQUFmLGFBQUEsR0FBQUUsQ0FBQSxPQUFBRSxPQUFBLG1CQWFBOzs7R0FJQSxLQUFhLENBQUFZLFVBQVUsQ0FtQnJCOzs7Ozs7O09BUUFDLFlBQ0VDLGdCQUEwQyxDQUMxQ0MsU0FBQSxFQUFBbkIsYUFBQSxHQUFBb0IsQ0FBQSxTQUE4QixFQUFFLEVBQ2hDQyxNQUE4QixFQUFBckIsYUFBQSxHQUFBc0IsQ0FBQSxNQUFBdEIsYUFBQSxHQUFBRSxDQUFBLE9BakJoQyw2RUFDUSxLQUFBcUIsMkJBQTJCLENBQWtDLEVBQUUsQ0FBQ3ZCLGFBQUEsR0FBQUUsQ0FBQSxPQStLaEUsS0FBQXNCLCtCQUErQixDQUFHLENBQ3hDQyxNQUFjLENBQ2RDLFdBQW1CLEdBQ1QsQ0FBQTFCLGFBQUEsR0FBQXNCLENBQUEsTUFBQXRCLGFBQUEsR0FBQUUsQ0FBQSxPQUNWLE1BQU8sQ0FBRXVCLE1BQU0sQ0FBR0MsV0FBVyxDQUFJakIsV0FBQSxDQUFBa0IsbUJBQW1CLEVBQUVDLFFBQVEsRUFBRSxDQUNsRSxDQUFDLENBbEtDO0FBQUE1QixhQUFBLEdBQUFFLENBQUEsT0FDQSxDQUFBRixhQUFBLEdBQUFvQixDQUFBLFNBQUFELFNBQVMsQ0FBQ1UsS0FBSyxJQUFBN0IsYUFBQSxHQUFBb0IsQ0FBQSxTQUFmRCxTQUFTLENBQUNVLEtBQUssQ0FBS2YsT0FBQSxDQUFBZ0IsS0FBSyxDQUFDQyxPQUFPLEVBQUMvQixhQUFBLEdBQUFFLENBQUEsT0FDbEMsSUFBSSxDQUFDMkIsS0FBSyxDQUFHVixTQUFTLENBQUNVLEtBQUssQ0FBQzdCLGFBQUEsR0FBQUUsQ0FBQSxPQUM3QixJQUFJLENBQUM4QixHQUFHLENBQUcsR0FBSSxDQUFBeEIsS0FBQSxDQUFBeUIsVUFBVSxDQUFDZCxTQUFTLENBQUMsQ0FBQ25CLGFBQUEsR0FBQUUsQ0FBQSxPQUVyQyxJQUFJLENBQUNnQyxRQUFRLENBQUssQ0FBQWxDLGFBQUEsR0FBQW9CLENBQUEsU0FBQUYsZ0JBQTJCLENBQUNnQixRQUFRLElBQUFsQyxhQUFBLEdBQUFvQixDQUFBLFNBQ3BERixnQkFBZ0IsQ0FBb0IsQ0FBQ2xCLGFBQUEsR0FBQUUsQ0FBQSxPQUN2QyxJQUFJLENBQUNpQyxpQkFBaUIsQ0FBRyxDQUFBbkMsYUFBQSxHQUFBb0IsQ0FBQSxTQUFBRixnQkFBZ0IsSUFBQWxCLGFBQUEsR0FBQW9CLENBQUEsU0FBSSxJQUFJLENBQUNjLFFBQVEsRUFFMUQ7QUFBQWxDLGFBQUEsR0FBQUUsQ0FBQSxPQUNBLElBQUksQ0FBQ2tDLFlBQVksQ0FBRyxHQUFJLENBQUEvQixZQUFBLENBQUFnQyxPQUFPLENBQUMsSUFBSSxDQUFDRixpQkFBd0IsQ0FBRSxDQUM3REcsU0FBUyxDQUFFLENBQ1RDLGVBQWUsQ0FBRWpDLFdBQUEsQ0FBQWtDLGdDQUFnQyxDQUNqREMsY0FBYyxDQUFFLEtBQUssQ0FDckJDLGlCQUFpQixDQUFFcEMsV0FBQSxDQUFBcUMsbUIsRUFFdEIsQ0FBQyxDQUVGO0FBQUEzQyxhQUFBLEdBQUFFLENBQUEsT0FDQSxJQUFJLENBQUMwQyxZQUFZLENBQUcsR0FBSSxDQUFBdkMsWUFBQSxDQUFBZ0MsT0FBTyxDQUFDLElBQUksQ0FBQ0YsaUJBQXdCLENBQUUsQ0FDN0RHLFNBQVMsQ0FBRSxDQUFFSSxpQkFBaUIsQ0FBRXBDLFdBQUEsQ0FBQXFDLG1CQUFtQixDLENBQ3BELENBQUMsQ0FFRjtBQUFBM0MsYUFBQSxHQUFBRSxDQUFBLE9BQ0EsSUFBSSxDQUFDMkMsUUFBUSxDQUFHLEdBQUksQ0FBQTFDLFlBQVksRUFBRSxDQUVsQztBQUFBSCxhQUFBLEdBQUFFLENBQUEsT0FDQSxJQUFJLENBQUNtQixNQUFNLENBQUcsQ0FBQXJCLGFBQUEsR0FBQW9CLENBQUEsU0FBQUMsTUFBTSxJQUFBckIsYUFBQSxHQUFBb0IsQ0FBQSxTQUFNMEIsR0FBVyxFQUFLQSx1QkFBQSxDQUFBQSx1QkFBQSxDQUFBQSxNQUFBLENBQUFBLEdBQUcsQ0FBSCxDQUFHLENBQUMsQ0FFOUM7QUFBQTlDLGFBQUEsR0FBQUUsQ0FBQSxPQUNBLEdBQUksQ0FDRixLQUFNLENBQUE2QyxXQUFXLEVBQUEvQyxhQUFBLEdBQUFFLENBQUEsT0FBRyxHQUFBYSxPQUFBLENBQUFpQyxjQUFjLEVBQUMsSUFBSSxDQUFDbkIsS0FBSyxDQUFDLENBQUNvQixXQUFXLEVBQUUsRUFBQ2pELGFBQUEsR0FBQUUsQ0FBQSxPQUM3RCxJQUFJLENBQUNxQiwyQkFBMkIsQ0FBQ3dCLFdBQVcsQ0FBQyxDQUFHLEVBQUUsQ0FDbEQ7QUFDRixDQUFFLE1BQU9HLEtBQVUsQ0FBRSxDQUFBbEQsYUFBQSxHQUFBRSxDQUFBLE9BQ25CLEdBQUlnRCxLQUFLLENBQUNDLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDLHNCQUFzQixDQUFDLENBQUUsQ0FBQXBELGFBQUEsR0FBQW9CLENBQUEsU0FFcEQsQ0FERTtBQUFBLElBQ0ssQ0FBQXBCLGFBQUEsR0FBQW9CLENBQUEsU0FBQXBCLGFBQUEsR0FBQUUsQ0FBQSxPQUNMbUQsT0FBTyxDQUFDSCxLQUFLLENBQUNBLEtBQUssQ0FBQyxDQUN0QixDQUNGLENBQ0YsQ0FFQTs7Ozs7T0FNT0ksV0FBV0EsQ0FDaEJDLEtBQWdCLENBQ2hCQyxRQUFtQyxDQUNuQ0MsSUFBSSxFQUFBekQsYUFBQSxHQUFBb0IsQ0FBQSxTQUFHLEtBQUssR0FBQXBCLGFBQUEsR0FBQXNCLENBQUEsTUFBQXRCLGFBQUEsR0FBQUUsQ0FBQSxPQUVaLEdBQUl1RCxJQUFJLENBQUUsQ0FBQXpELGFBQUEsR0FBQW9CLENBQUEsU0FBQXBCLGFBQUEsR0FBQUUsQ0FBQSxPQUNSLElBQUksQ0FBQzJDLFFBQVEsQ0FBQ1ksSUFBSSxDQUFDRixLQUFLLENBQUVDLFFBQVEsQ0FBQyxDQUNyQyxDQUFDLElBQU0sQ0FBQXhELGFBQUEsR0FBQW9CLENBQUEsU0FBQXBCLGFBQUEsR0FBQUUsQ0FBQSxPQUNMLElBQUksQ0FBQzJDLFFBQVEsQ0FBQ1MsV0FBVyxDQUFDQyxLQUFLLENBQUVDLFFBQVEsQ0FBQyxDQUM1QyxDQUNGLENBRUE7Ozs7T0FLT0UsY0FBY0EsQ0FBQ0gsS0FBZ0IsQ0FBRUMsUUFBbUMsRUFBQXhELGFBQUEsR0FBQXNCLENBQUEsTUFBQXRCLGFBQUEsR0FBQUUsQ0FBQSxPQUN6RSxJQUFJLENBQUMyQyxRQUFRLENBQUNhLGNBQWMsQ0FBQ0gsS0FBSyxDQUFFQyxRQUFRLENBQUMsQ0FDL0MsQ0FFQTs7OztPQUtPRyxrQkFBa0JBLENBQUNKLEtBQWlCLEVBQUF2RCxhQUFBLEdBQUFzQixDQUFBLE1BQUF0QixhQUFBLEdBQUFFLENBQUEsT0FDekMsSUFBSSxDQUFDMkMsUUFBUSxDQUFDYyxrQkFBa0IsQ0FBQ0osS0FBSyxDQUFDLENBQ3pDLENBRUE7Ozs7OztPQU9PLEtBQU0sQ0FBQUssT0FBT0EsQ0FBQyxDQUNuQkMsV0FBVyxDQUNYQyxjQUFjLENBSWYsRUFBQTlELGFBQUEsR0FBQXNCLENBQUEsTUFBQXRCLGFBQUEsR0FBQUUsQ0FBQSxPQUNDLEtBQU0sS0FBSSxDQUFDNkQsMEJBQTBCLENBQUNELGNBQWMsQ0FBQyxDQUVyRCxLQUFNLENBQUFFLEtBQUssRUFBQWhFLGFBQUEsR0FBQUUsQ0FBQSxPQUFHLEdBQUFLLFFBQUEsQ0FBQTBELFVBQVUsRUFBQzFELFFBQUEsQ0FBQTJELFdBQVcsQ0FBQ0MsU0FBUyxDQUFDTixXQUFXLENBQUMsQ0FBQ2pDLFFBQVEsRUFBRSxDQUFDLEVBQUM1QixhQUFBLEdBQUFFLENBQUEsT0FFeEUsSUFBSSxDQUFDa0UsU0FBUyxDQUFDdEQsT0FBQSxDQUFBdUQsU0FBUyxDQUFDQyxPQUFPLENBQUUsQ0FBRVIsY0FBYyxDQUFFckMsTUFBTSxDQUFFdUMsS0FBSyxDQUFFLENBQUMsQ0FFcEUsS0FBTSxDQUFBTyxZQUFZLEVBQUF2RSxhQUFBLEdBQUFFLENBQUEsT0FBRyxHQUFJLENBQUFLLFFBQUEsQ0FBQWlFLFFBQVEsQ0FDL0IsR0FBQXpELE9BQUEsQ0FBQWlDLGNBQWMsRUFBQyxJQUFJLENBQUNuQixLQUFLLENBQUMsQ0FDMUIsQ0FBQyw0QkFBNEIsQ0FBQyxDQUM5QixJQUFJLENBQUNNLGlCQUFpQixDQUN2QixFQUFDbkMsYUFBQSxHQUFBRSxDQUFBLE9BRUYsR0FBSSxDQUNGLEtBQU0sQ0FBQXVFLFdBQVcsRUFBQXpFLGFBQUEsR0FBQUUsQ0FBQSxPQUFHLEtBQU0sQ0FBQXFFLFlBQVksQ0FBQ0csT0FBTyxDQUFDLENBQUVWLEtBQUssQ0FBRSxDQUFDLEVBQUNoRSxhQUFBLEdBQUFFLENBQUEsT0FDMUQsS0FBTSxLQUFJLENBQUN5RSxtQkFBbUIsQ0FDNUJGLFdBQVcsQ0FBQ0csSUFBSSxDQUNoQjlELE9BQUEsQ0FBQXVELFNBQVMsQ0FBQ0MsT0FBTyxDQUNqQixjQUFjLENBQ2YsQ0FDSCxDQUFFLE1BQU9wQixLQUFLLENBQUUsQ0FBQWxELGFBQUEsR0FBQUUsQ0FBQSxPQUNkbUQsT0FBTyxDQUFDSCxLQUFLLENBQUNBLEtBQUssQ0FBQyxDQUFDbEQsYUFBQSxHQUFBRSxDQUFBLE9BQ3JCLElBQUksQ0FBQ2tFLFNBQVMsQ0FBQ3RELE9BQUEsQ0FBQXVELFNBQVMsQ0FBQ1EsaUJBQWlCLENBQUUsQ0FBRTNCLEtBQUssQ0FBRVksY0FBYyxDQUFFLENBQUMsQ0FDeEUsQ0FDRixDQUVBOzs7Ozs7T0FPTyxLQUFNLENBQUFnQixVQUFVQSxDQUFDLENBQ3RCakIsV0FBVyxDQUNYQyxjQUFjLENBSWYsRUFBQTlELGFBQUEsR0FBQXNCLENBQUEsTUFBQXRCLGFBQUEsR0FBQUUsQ0FBQSxPQUNDLEtBQU0sS0FBSSxDQUFDNkQsMEJBQTBCLENBQUNELGNBQWMsQ0FBQyxDQUVyRCxLQUFNLENBQUFyQyxNQUFNLEVBQUF6QixhQUFBLEdBQUFFLENBQUEsT0FBRyxHQUFBSyxRQUFBLENBQUEwRCxVQUFVLEVBQUMxRCxRQUFBLENBQUEyRCxXQUFXLENBQUNDLFNBQVMsQ0FBQ04sV0FBVyxDQUFDLENBQUNqQyxRQUFRLEVBQUUsQ0FBQyxFQUFDNUIsYUFBQSxHQUFBRSxDQUFBLE9BRXpFLElBQUksQ0FBQ2tFLFNBQVMsQ0FBQ3RELE9BQUEsQ0FBQXVELFNBQVMsQ0FBQ1UsVUFBVSxDQUFFLENBQUVqQixjQUFjLENBQUVyQyxNQUFNLENBQUUsQ0FBQyxDQUVoRSxLQUFNLENBQUE4QyxZQUFZLEVBQUF2RSxhQUFBLEdBQUFFLENBQUEsT0FBRyxHQUFJLENBQUFLLFFBQUEsQ0FBQWlFLFFBQVEsQ0FDL0IsR0FBQXpELE9BQUEsQ0FBQWlDLGNBQWMsRUFBQyxJQUFJLENBQUNuQixLQUFLLENBQUMsQ0FDMUIsQ0FBQyxvQ0FBb0MsQ0FBQyxDQUN0QyxJQUFJLENBQUNNLGlCQUFpQixDQUN2QixFQUFDbkMsYUFBQSxHQUFBRSxDQUFBLE9BRUYsR0FBSSxDQUNGLEtBQU0sQ0FBQXVFLFdBQVcsRUFBQXpFLGFBQUEsR0FBQUUsQ0FBQSxPQUFHLEtBQU0sQ0FBQXFFLFlBQVksQ0FBQ1MsUUFBUSxDQUFDdkQsTUFBTSxDQUFDLEVBQUN6QixhQUFBLEdBQUFFLENBQUEsT0FDeEQsS0FBTSxLQUFJLENBQUN5RSxtQkFBbUIsQ0FDNUJGLFdBQVcsQ0FBQ0csSUFBSSxDQUNoQjlELE9BQUEsQ0FBQXVELFNBQVMsQ0FBQ1UsVUFBVSxDQUNwQixrQkFBa0IsQ0FDbkIsQ0FDSCxDQUFFLE1BQU83QixLQUFLLENBQUUsQ0FBQWxELGFBQUEsR0FBQUUsQ0FBQSxPQUNkbUQsT0FBTyxDQUFDSCxLQUFLLENBQUNBLEtBQUssQ0FBQyxDQUFDbEQsYUFBQSxHQUFBRSxDQUFBLE9BQ3JCLElBQUksQ0FBQ2tFLFNBQVMsQ0FBQ3RELE9BQUEsQ0FBQXVELFNBQVMsQ0FBQ1EsaUJBQWlCLENBQUUsQ0FBRTNCLEtBQUssQ0FBRVksY0FBYyxDQUFFLENBQUMsQ0FDeEUsQ0FDRixDQVNRLEtBQU0sQ0FBQW1CLE9BQU9BLENBQUMsQ0FDcEJDLFVBQVUsQ0FDVkMsTUFBTSxDQUNOQyxtQkFBbUIsQ0FDbkJDLFdBQVcsQ0FDWEMsU0FBUyxDQUNUQywwQkFBMEIsQ0FRM0IsRUFBQXZGLGFBQUEsR0FBQXNCLENBQUEsTUFDQyxHQUFJLENBQUFrRSxjQUFjLEVBQUF4RixhQUFBLEdBQUFFLENBQUEsT0FBR2dGLFVBQVUsQ0FBQ08sSUFBSSxFQUFDekYsYUFBQSxHQUFBRSxDQUFBLE9BQ3JDLEdBQUlxRiwwQkFBMEIsQ0FBRSxDQUFBdkYsYUFBQSxHQUFBb0IsQ0FBQSxTQUFBcEIsYUFBQSxHQUFBRSxDQUFBLE9BQzlCc0YsY0FBYyxDQUFHQSxjQUFjLENBQUNFLE1BQU0sQ0FBRUMsR0FBRyxFQUFLLENBQUEzRixhQUFBLEdBQUFzQixDQUFBLE1BQUF0QixhQUFBLEdBQUFFLENBQUEsY0FBQXlGLEdBQUcsQ0FBQ0MsUUFBUSxDQUFSLENBQVEsQ0FBQyxDQUMvRCxDQUFDLEtBQUE1RixhQUFBLEdBQUFvQixDQUFBLFVBQ0QsS0FBTSxDQUFBeUUseUJBQXlCLEVBQUE3RixhQUFBLEdBQUFFLENBQUEsT0FBRyxHQUFBYSxPQUFBLENBQUErRSx1QkFBdUIsRUFBQ04sY0FBYyxDQUFDLEVBQ3pFLEtBQU0sQ0FBQU8saUJBQWlCLEVBQUEvRixhQUFBLEdBQUFFLENBQUEsT0FBR08sV0FBQSxDQUFBa0IsbUJBQW1CLENBQUdrRSx5QkFBeUIsRUFBQzdGLGFBQUEsR0FBQUUsQ0FBQSxPQUUxRSxLQUFNLENBQUE4RixvQkFBb0IsQ0FBR0EsQ0FBQ3RFLFdBQW1CLENBQUV1RSxTQUFrQixHQUFJLENBQUFqRyxhQUFBLEdBQUFzQixDQUFBLE9BQUF0QixhQUFBLEdBQUFFLENBQUEsT0FDdkUsTUFBTyxDQUNMZ0csS0FBSyxDQUFFZCxtQkFBbUIsQ0FDMUIzRCxNQUFNLENBQUUsSUFBSSxDQUFDRCwrQkFBK0IsQ0FBQzZELFdBQVcsQ0FBRTNELFdBQVcsQ0FBQyxDQUN0RTRELFNBQVMsQ0FBRSxJQUFJLENBQUM5RCwrQkFBK0IsQ0FDN0MsQ0FBQXhCLGFBQUEsR0FBQW9CLENBQUEsU0FBQWtFLFNBQVMsSUFBQXRGLGFBQUEsR0FBQW9CLENBQUEsU0FBSWlFLFdBQVcsRUFDeEIzRCxXQUFXLENBQ1osQ0FDRHVFLFMsQ0FDRCxDQUNILENBQUMsQ0FFRCxLQUFNLENBQUFFLGtCQUFrQixFQUFBbkcsYUFBQSxHQUFBRSxDQUFBLE9BQTZCLEVBQUUsRUFBQ0YsYUFBQSxHQUFBRSxDQUFBLE9BRXhELEdBQUlpRixNQUFNLENBQUUsQ0FBQW5GLGFBQUEsR0FBQW9CLENBQUEsVUFBQXBCLGFBQUEsR0FBQUUsQ0FBQSxPQUNWaUcsa0JBQWtCLENBQUNDLElBQUksQ0FBQ0osb0JBQW9CLENBQUNELGlCQUFpQixDQUFFWixNQUFNLENBQUMsQ0FBQyxDQUMxRSxDQUFDLEtBQUFuRixhQUFBLEdBQUFvQixDQUFBLFdBQUFwQixhQUFBLEdBQUFFLENBQUEsT0FDRCxHQUFJMkYseUJBQXlCLENBQUcsQ0FBQyxDQUFFLENBQUE3RixhQUFBLEdBQUFvQixDQUFBLFVBQUFwQixhQUFBLEdBQUFFLENBQUEsT0FDakMsSUFBSyxLQUFNLENBQUF5RixHQUFHLEdBQUksQ0FBQUgsY0FBYyxDQUFFLENBQUF4RixhQUFBLEdBQUFFLENBQUEsT0FDaENpRyxrQkFBa0IsQ0FBQ0MsSUFBSSxDQUNyQkosb0JBQW9CLENBQUMsR0FBQWpGLE9BQUEsQ0FBQXNGLGlCQUFpQixFQUFDVixHQUFHLENBQUMsQ0FBRUEsR0FBRyxDQUFDTSxTQUFTLENBQUMsQ0FDNUQsQ0FDSCxDQUNGLENBQUMsS0FBQWpHLGFBQUEsR0FBQW9CLENBQUEsV0FBQXBCLGFBQUEsR0FBQUUsQ0FBQSxPQUNELE1BQU8sQ0FBQWlHLGtCQUFrQixDQUMzQixDQUVRRyxXQUFXQSxDQUNqQkMsSUFBVyxDQUNYQyxVQUFBLEVBQUF4RyxhQUFBLEdBQUFvQixDQUFBLFVBQXVCLEVBQUUsR0FBQXBCLGFBQUEsR0FBQXNCLENBQUEsT0FBQXRCLGFBQUEsR0FBQUUsQ0FBQSxPQUV6QixNQUFPLENBQUFxRyxJQUFJLENBQUNFLEdBQUcsQ0FBQyxDQUFDQyxHQUFHLENBQUVDLEtBQUssR0FBTSxDQUFBM0csYUFBQSxHQUFBc0IsQ0FBQSxPQUFBdEIsYUFBQSxHQUFBRSxDQUFBLGNBQy9CMEcsUUFBUSxDQUFFLEdBQUE3RixPQUFBLENBQUE4RixnQkFBZ0IsRUFDeEJILEdBQUcsQ0FBQ0ksY0FBYyxDQUFDQyxXQUFXLEVBQW1CLENBQ2xELENBQ0RiLEtBQUssQ0FDSCxHQUFBbkYsT0FBQSxDQUFBaUcsdUVBQXVFLEVBQ3JFTixHQUFHLENBQUNPLFFBQVEsQ0FDYixDQUNIQyxVQUFVLENBQUUsQ0FBQWxILGFBQUEsR0FBQW9CLENBQUEsVUFBQXNGLEdBQUcsQ0FBQ1EsVUFBVSxJQUFBbEgsYUFBQSxHQUFBb0IsQ0FBQSxVQUFJK0YsU0FBUyxFQUN2QzFGLE1BQU0sQ0FBRSxDQUFBekIsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBb0YsVUFBVSxDQUFDRyxLQUFLLENBQUMsQ0FBQy9FLFFBQVEsRUFBRSxJQUFBNUIsYUFBQSxHQUFBb0IsQ0FBQSxVQUFJLEdBQUcsQyxDQUM1QyxDLENBQUMsQ0FBQyxDQUNMLENBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O09BcUJPLEtBQU0sQ0FBQWdHLFdBQVdBLENBQUMsQ0FDdkJDLEtBQUssQ0FDTHZELGNBQWMsQ0FDZHVCLFdBQVcsQ0FDWGlDLFFBQVEsRUFBQXRILGFBQUEsR0FBQW9CLENBQUEsVUFBRyxDQUFDLEVBQ1ptRyxNQUFNLENBQ05DLElBQUksQ0FDSkMsY0FBYyxDQUNkckMsbUJBQW1CLEVBQUFwRixhQUFBLEdBQUFvQixDQUFBLFVBQUcsR0FBQUwsT0FBQSxDQUFBaUMsY0FBYyxFQUFDLElBQUksQ0FBQ25CLEtBQUssQ0FBQyxFQUNoRDBELDBCQUEwQixFQUFBdkYsYUFBQSxHQUFBb0IsQ0FBQSxVQUFHLElBQUksRUFDakNzRyxJQUFJLEVBQUExSCxhQUFBLEdBQUFvQixDQUFBLFVBQUdiLFFBQUEsQ0FBQW9ILFdBQVcsRUFZbkIsRUFBQTNILGFBQUEsR0FBQXNCLENBQUEsT0FBQXRCLGFBQUEsR0FBQUUsQ0FBQSxPQUNDLEtBQU0sS0FBSSxDQUFDNkQsMEJBQTBCLENBQUNELGNBQWMsQ0FBQyxDQUVyRCxLQUFNLENBQUU0QyxHQUFHLENBQUUsRUFBQTFHLGFBQUEsR0FBQUUsQ0FBQSxPQUFHLEtBQU0sS0FBSSxDQUFDOEIsR0FBRyxDQUFDNEYsTUFBTSxDQUFDUCxLQUFLLENBQUNRLFlBQVksQ0FBRVIsS0FBSyxDQUFDUyxPQUFPLENBQUMsRUFDeEUsS0FBTSxDQUFBQyx1QkFBdUIsRUFBQS9ILGFBQUEsR0FBQUUsQ0FBQSxPQUFHLElBQUksQ0FBQ29HLFdBQVcsQ0FDOUMsQ0FBQ0ksR0FBRyxDQUFDLENBQ0wsQ0FBQ3NCLE1BQU0sQ0FBQyxDQUFBaEksYUFBQSxHQUFBb0IsQ0FBQSxVQUFBa0csUUFBUSxJQUFBdEgsYUFBQSxHQUFBb0IsQ0FBQSxVQUFJLENBQUMsRUFBQyxDQUFDLENBQ3hCLEVBRUQsS0FBTSxDQUFFNkcsU0FBUyxDQUFFLEVBQUFqSSxhQUFBLEdBQUFFLENBQUEsT0FBRyxLQUFNLEtBQUksQ0FBQ2dJLG1CQUFtQixDQUNsRHBILE9BQUEsQ0FBQXFILFNBQVMsQ0FBQ0MsS0FBSyxDQUNmaEQsbUJBQW1CLENBQ25CLENBQUFwRixhQUFBLEdBQUFvQixDQUFBLFVBQUFxRyxjQUFjLElBQUF6SCxhQUFBLEdBQUFvQixDQUFBLFVBQUksR0FBQUwsT0FBQSxDQUFBc0gsOEJBQThCLEdBQUUsRUFDbERoRCxXQUFXLENBQ1osRUFFRCxLQUFNLENBQUFILFVBQVUsRUFBQWxGLGFBQUEsR0FBQUUsQ0FBQSxPQUFHLEtBQU0sS0FBSSxDQUFDOEIsR0FBRyxDQUFDc0csYUFBYSxDQUFDNUIsR0FBRyxDQUFDeEIsVUFBVSxDQUFDLEVBRS9ELEtBQU0sQ0FBQXFELHFCQUFxQixFQUFBdkksYUFBQSxHQUFBRSxDQUFBLE9BQUcsS0FBTSxLQUFJLENBQUMrRSxPQUFPLENBQUMsQ0FDL0NDLFVBQVUsQ0FDVkUsbUJBQW1CLENBQ25CQyxXQUFXLENBQUU0QyxTQUFTLENBQ3RCMUMsMEIsQ0FDRCxDQUFDLEVBQUN2RixhQUFBLEdBQUFFLENBQUEsT0FFSCxHQUFJZ0YsVUFBVSxDQUFDc0QsWUFBWSxDQUFFLENBQUF4SSxhQUFBLEdBQUFvQixDQUFBLFVBQUFwQixhQUFBLEdBQUFFLENBQUEsT0FDM0J3SCxJQUFJLENBQUd4QyxVQUFVLENBQUNzRCxZQUFZLENBQ2hDLENBQUMsS0FBQXhJLGFBQUEsR0FBQW9CLENBQUEsV0FFRCxLQUFNLENBQUVxSCxpQkFBaUIsQ0FBRSxFQUFBekksYUFBQSxHQUFBRSxDQUFBLE9BQUcsS0FBTSxLQUFJLENBQUMwQyxZQUFZLENBQUM4RixXQUFXLENBQy9ELENBQ0VDLEtBQUssQ0FBRSxDQUNMLENBQ0V6QyxLQUFLLENBQUVkLG1CQUFtQixDQUMxQjNELE1BQU0sQ0FBRXdHLFNBQVMsQ0FBQ3JHLFFBQVEsRSxDQUMzQixDQUNGLENBQ0RnSCxhQUFhLENBQUUsQ0FBQyxHQUFHYix1QkFBdUIsQ0FBRSxHQUFHUSxxQkFBcUIsQ0FBQyxDQUNyRU0sT0FBTyxDQUNMcEIsY0FBYyxHQUFLTixTQUFTLEVBQUFuSCxhQUFBLEdBQUFvQixDQUFBLFVBQ3hCNEcsTUFBTSxDQUFDUCxjQUFjLENBQUMsQ0FBQzdGLFFBQVEsRUFBRSxHQUFBNUIsYUFBQSxHQUFBb0IsQ0FBQSxVQUNqQyxHQUFBTCxPQUFBLENBQUFzSCw4QkFBOEIsR0FBRSxDQUFDekcsUUFBUSxFQUFFLEVBQ2pEOEYsSUFBSSxDQUNKSCxNQUFNLENBQ05DLElBQUksQ0FBRVEsTUFBTSxDQUFDLENBQUFoSSxhQUFBLEdBQUFvQixDQUFBLFVBQUFvRyxJQUFJLElBQUF4SCxhQUFBLEdBQUFvQixDQUFBLFVBQUksQ0FBQyxFQUFDLENBQUNRLFFBQVEsRUFBRSxDQUNsQ2tILGdCQUFnQixDQUFFcEIsSUFBSSxHQUFLbkgsUUFBQSxDQUFBb0gsV0FBVyxDQUN0Q29CLGlCQUFpQixDQUFFLEksQ0FDcEIsQ0FDRGpGLGNBQWMsQ0FDZixFQUNELEtBQU0sQ0FBQWtGLEtBQUssRUFBQWhKLGFBQUEsR0FBQUUsQ0FBQSxPQUFHLEtBQU0sQ0FBQXVJLGlCQUFpQixFQUFFLEVBQUN6SSxhQUFBLEdBQUFFLENBQUEsT0FFeEMsTUFBTyxLQUFJLENBQUM4QixHQUFHLENBQUNpSCxTQUFTLENBQUNELEtBQUssQ0FBRSxDQUMvQkUsUUFBUSxDQUFFLFNBQVMsQ0FDbkJDLGVBQWUsQ0FBRXZJLE9BQUEsQ0FBQXdJLGdDQUFnQyxDQUNqREMsSUFBSSxDQUFFdkksT0FBQSxDQUFBcUgsU0FBUyxDQUFDQyxLLENBQ2pCLENBQUMsQ0FDSixDQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztPQXdCTyxLQUFNLENBQUFrQixhQUFhQSxDQUFDLENBQ3pCakMsS0FBSyxDQUNMdkQsY0FBYyxDQUNkdUIsV0FBVyxDQUNYQyxTQUFTLENBQ1RnQyxRQUFRLEVBQUF0SCxhQUFBLEdBQUFvQixDQUFBLFVBQUcsQ0FBQyxFQUNabUcsTUFBTSxDQUNOQyxJQUFJLENBQ0orQixXQUFXLENBQ1g5QixjQUFjLENBQ2RyQyxtQkFBbUIsRUFBQXBGLGFBQUEsR0FBQW9CLENBQUEsVUFBR2IsUUFBQSxDQUFBaUosTUFBTSxDQUFDN0IsV0FBVyxFQUN4QzhCLFlBQVksQ0FDWkMsY0FBYyxDQUNkbkUsMEJBQTBCLEVBQUF2RixhQUFBLEdBQUFvQixDQUFBLFVBQUcsS0FBSyxFQUNsQ3NHLElBQUksRUFBQTFILGFBQUEsR0FBQW9CLENBQUEsVUFBR2IsUUFBQSxDQUFBb0gsV0FBVyxFQWdCbkIsRUFBQTNILGFBQUEsR0FBQXNCLENBQUEsT0FBQXRCLGFBQUEsR0FBQUUsQ0FBQSxPQUNDLEtBQU0sS0FBSSxDQUFDNkQsMEJBQTBCLENBQUNELGNBQWMsQ0FBQyxDQUVyRCxLQUFNLENBQUU0QyxHQUFHLENBQUUsRUFBQTFHLGFBQUEsR0FBQUUsQ0FBQSxPQUFHLEtBQU0sS0FBSSxDQUFDOEIsR0FBRyxDQUFDNEYsTUFBTSxDQUFDUCxLQUFLLENBQUNRLFlBQVksQ0FBRVIsS0FBSyxDQUFDUyxPQUFPLENBQUMsRUFDeEUsS0FBTSxDQUFBNkIsZUFBZSxFQUFBM0osYUFBQSxHQUFBRSxDQUFBLE9BQUcsSUFBSSxDQUFDb0csV0FBVyxDQUFDLENBQUNJLEdBQUcsQ0FBQyxDQUFFLENBQUNzQixNQUFNLENBQUMsQ0FBQWhJLGFBQUEsR0FBQW9CLENBQUEsVUFBQWtHLFFBQVEsSUFBQXRILGFBQUEsR0FBQW9CLENBQUEsVUFBSSxDQUFDLEVBQUMsQ0FBQyxDQUFDLEVBQUNwQixhQUFBLEdBQUFFLENBQUEsT0FFekUsR0FBSSxDQUFBRixhQUFBLEdBQUFvQixDQUFBLFVBQUFzSSxjQUFjLElBQUExSixhQUFBLEdBQUFvQixDQUFBLFVBQUlnRSxtQkFBbUIsRUFBSTdFLFFBQUEsQ0FBQWlKLE1BQU0sQ0FBQzdCLFdBQVcsRUFBRSxDQUFBM0gsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBcEIsYUFBQSxHQUFBRSxDQUFBLE9BQy9ELEtBQU0sSUFBSSxDQUFBMEosS0FBSyxDQUNiLDJEQUEyRCxDQUM1RCxDQUNILENBQUMsS0FBQTVKLGFBQUEsR0FBQW9CLENBQUEsV0FFRCxLQUFNLENBQUU2RyxTQUFTLENBQUU0QixRQUFRLENBQUUsRUFBQTdKLGFBQUEsR0FBQUUsQ0FBQSxPQUFHLEtBQU0sS0FBSSxDQUFDZ0ksbUJBQW1CLENBQzVEcEgsT0FBQSxDQUFBcUgsU0FBUyxDQUFDMkIsT0FBTyxDQUNqQjFFLG1CQUFtQixDQUNuQixDQUFBcEYsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBcUcsY0FBYyxJQUFBekgsYUFBQSxHQUFBb0IsQ0FBQSxVQUFJLEdBQUFMLE9BQUEsQ0FBQXNILDhCQUE4QixHQUFFLEVBQ2xEaEQsV0FBVyxDQUNYLENBQUFyRixhQUFBLEdBQUFvQixDQUFBLFVBQUFrRSxTQUFTLElBQUF0RixhQUFBLEdBQUFvQixDQUFBLFVBQUkrRixTQUFTLEVBQ3ZCLEVBRUQsS0FBTSxDQUFBakMsVUFBVSxFQUFBbEYsYUFBQSxHQUFBRSxDQUFBLE9BQUcsS0FBTSxLQUFJLENBQUM4QixHQUFHLENBQUNzRyxhQUFhLENBQUM1QixHQUFHLENBQUN4QixVQUFVLENBQUMsRUFFL0QsS0FBTSxDQUFBcUQscUJBQXFCLEVBQUF2SSxhQUFBLEdBQUFFLENBQUEsT0FBRyxLQUFNLEtBQUksQ0FBQytFLE9BQU8sQ0FBQyxDQUMvQ0MsVUFBVSxDQUNWQyxNQUFNLENBQUVyQixjQUFjLENBQ3RCc0IsbUJBQW1CLENBQ25CQyxXQUFXLENBQUU0QyxTQUFTLENBQ3RCM0MsU0FBUyxDQUFFdUUsUUFBUSxDQUNuQnRFLDBCLENBQ0QsQ0FBQyxFQUFDdkYsYUFBQSxHQUFBRSxDQUFBLE9BRUgsR0FBSXVKLFlBQVksQ0FBRSxDQUFBekosYUFBQSxHQUFBb0IsQ0FBQSxVQUFBcEIsYUFBQSxHQUFBRSxDQUFBLE9BQ2hCcUkscUJBQXFCLENBQUNuQyxJQUFJLENBQ3hCLEdBQUcsR0FBQTFGLGlCQUFBLENBQUFxSiwrQkFBK0IsRUFBQ0osZUFBZSxDQUFFRixZQUFZLENBQUMsQ0FDbEUsQ0FDSCxDQUFDLEtBQUF6SixhQUFBLEdBQUFvQixDQUFBLFdBQUFwQixhQUFBLEdBQUFFLENBQUEsT0FFRCxHQUFJd0osY0FBYyxDQUFFLENBQUExSixhQUFBLEdBQUFvQixDQUFBLFVBQUFwQixhQUFBLEdBQUFFLENBQUEsT0FDbEJ3SCxJQUFJLENBQUcsR0FBQTNHLE9BQUEsQ0FBQWlKLFdBQVcsRUFBQyxJQUFJLENBQUNuSSxLQUFLLENBQUMsRUFBQTdCLGFBQUEsR0FBQW9CLENBQUEsVUFDMUJYLFdBQUEsQ0FBQXdKLDZCQUE2QixHQUFBakssYUFBQSxHQUFBb0IsQ0FBQSxVQUM3QlgsV0FBQSxDQUFBeUosNkJBQTZCLEVBQ25DLENBQUMsSUFBTSxDQUFBbEssYUFBQSxHQUFBb0IsQ0FBQSxVQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFVBQUlnRixVQUFVLENBQUNzRCxZQUFZLENBQUUsQ0FBQXhJLGFBQUEsR0FBQW9CLENBQUEsVUFBQXBCLGFBQUEsR0FBQUUsQ0FBQSxPQUNsQ3dILElBQUksQ0FBR3hDLFVBQVUsQ0FBQ3NELFlBQVksQ0FDaEMsQ0FBQyxLQUFBeEksYUFBQSxHQUFBb0IsQ0FBQSxXQUFELENBRUEsS0FBTSxDQUFFcUgsaUJBQWlCLENBQUUsRUFBQXpJLGFBQUEsR0FBQUUsQ0FBQSxPQUFHLEtBQU0sS0FBSSxDQUFDMEMsWUFBWSxDQUFDOEYsV0FBVyxDQUMvRCxDQUNFQyxLQUFLLENBQUVnQixlQUFlLENBQ3RCZixhQUFhLENBQUVMLHFCQUFxQixDQUNwQzRCLFNBQVMsQ0FBRVosV0FBVyxFQUFFM0gsUUFBUSxFQUFFLENBQ2xDaUgsT0FBTyxDQUNMLENBQUE3SSxhQUFBLEdBQUFvQixDQUFBLFVBQUFxRyxjQUFjLEVBQUU3RixRQUFRLEVBQUUsSUFBQTVCLGFBQUEsR0FBQW9CLENBQUEsVUFDMUIsR0FBQUwsT0FBQSxDQUFBc0gsOEJBQThCLEdBQUUsQ0FBQ3pHLFFBQVEsRUFBRSxFQUM3QzhGLElBQUksQ0FDSkgsTUFBTSxDQUNOQyxJQUFJLENBQUVRLE1BQU0sQ0FBQyxDQUFBaEksYUFBQSxHQUFBb0IsQ0FBQSxVQUFBb0csSUFBSSxJQUFBeEgsYUFBQSxHQUFBb0IsQ0FBQSxVQUFJLENBQUMsRUFBQyxDQUFDUSxRQUFRLEVBQUUsQ0FDbENrSCxnQkFBZ0IsQ0FBRXBCLElBQUksR0FBS25ILFFBQUEsQ0FBQW9ILFdBQVcsQ0FDdENvQixpQkFBaUIsQ0FBRVcsY0FBYyxFQUFBMUosYUFBQSxHQUFBb0IsQ0FBQSxVQUFHLEtBQUssR0FBQXBCLGFBQUEsR0FBQW9CLENBQUEsVUFBRyxJQUFJLEMsQ0FDakQsQ0FDRDBDLGNBQWMsQ0FDZixFQUNELEtBQU0sQ0FBQWtGLEtBQUssRUFBQWhKLGFBQUEsR0FBQUUsQ0FBQSxPQUFHLEtBQU0sQ0FBQXVJLGlCQUFpQixFQUFFLEVBQUN6SSxhQUFBLEdBQUFFLENBQUEsT0FFeEMsTUFBTyxLQUFJLENBQUM4QixHQUFHLENBQUNpSCxTQUFTLENBQUNELEtBQUssQ0FBRSxDQUMvQkUsUUFBUSxDQUFFLFNBQVMsQ0FDbkJDLGVBQWUsQ0FBRXZJLE9BQUEsQ0FBQXdJLGdDQUFnQyxDQUNqREMsSUFBSSxDQUFFdkksT0FBQSxDQUFBcUgsU0FBUyxDQUFDMkIsTyxDQUNqQixDQUFDLENBQ0osQ0FFQTs7Ozs7Ozs7Ozs7Ozs7OztPQWlCTyxLQUFNLENBQUFNLHFCQUFxQkEsQ0FBQyxDQUNqQ0MsY0FBYyxDQUNkdkcsY0FBYyxDQUNkckMsTUFBTSxDQUNONkYsUUFBUSxDQUNSQyxNQUFNLENBQ05DLElBQUksQ0FDSkMsY0FBYyxDQUNkckMsbUJBQW1CLEVBQUFwRixhQUFBLEdBQUFvQixDQUFBLFVBQUcsR0FBQUwsT0FBQSxDQUFBaUMsY0FBYyxFQUFDLElBQUksQ0FBQ25CLEtBQUssQ0FBQyxFQUNoRDBELDBCQUEwQixFQUFBdkYsYUFBQSxHQUFBb0IsQ0FBQSxVQUFHLEtBQUssRUFDbENrSixzQkFBc0IsRUFBQXRLLGFBQUEsR0FBQW9CLENBQUEsVUFBRyxJQUFJLEVBQzdCbUosU0FBUyxDQUNUQyxVQUFVLENBY1gsRUFBQXhLLGFBQUEsR0FBQXNCLENBQUEsT0FBQXRCLGFBQUEsR0FBQUUsQ0FBQSxRQUNDLEtBQU0sS0FBSSxDQUFDNkQsMEJBQTBCLENBQUNELGNBQWMsQ0FBQyxDQUVyRCxLQUFNLENBQUFvQixVQUFVLEVBQUFsRixhQUFBLEdBQUFFLENBQUEsUUFBRyxLQUFNLEtBQUksQ0FBQzhCLEdBQUcsQ0FBQ3NHLGFBQWEsQ0FBQytCLGNBQWMsQ0FBQyxFQUMvRCxLQUFNLENBQUFJLGdCQUFnQixFQUFBekssYUFBQSxHQUFBRSxDQUFBLFFBQUcsS0FBTSxLQUFJLENBQUM4QixHQUFHLENBQUMwSSxVQUFVLENBQ2hENUcsY0FBYyxDQUNkd0QsUUFBUSxDQUNSK0MsY0FBYyxDQUNkQyxzQkFBc0IsQ0FDdEJDLFNBQVMsQ0FDVEMsVUFBVSxDQUNYLEVBQ0QsS0FBTSxDQUFBRyxJQUFJLEVBQUEzSyxhQUFBLEdBQUFFLENBQUEsUUFBR3VLLGdCQUFnQixDQUFDRyxpQkFBaUIsQ0FBQ2hDLGFBQWEsQ0FBQyxDQUFDLENBQUMsRUFDaEUsS0FBTSxDQUFBaUMsMEJBQTBCLEVBQUE3SyxhQUFBLEdBQUFFLENBQUEsUUFBRyxDQUNqQzBHLFFBQVEsQ0FBRStELElBQUksQ0FBQy9ELFFBQVEsQ0FDdkJWLEtBQUssQ0FBRXlFLElBQUksQ0FBQ3pFLEtBQUssQ0FDakJnQixVQUFVLENBQUV5RCxJQUFJLENBQUNHLG9CQUFvQixDQUNyQ3JKLE1BQU0sQ0FBRWtKLElBQUksQ0FBQ3RGLFcsQ0FDZCxFQUVELEtBQU0sQ0FBRTRDLFNBQVMsQ0FBRSxFQUFBakksYUFBQSxHQUFBRSxDQUFBLFFBQUcsS0FBTSxLQUFJLENBQUNnSSxtQkFBbUIsQ0FDbERwSCxPQUFBLENBQUFxSCxTQUFTLENBQUMyQixPQUFPLENBQ2pCMUUsbUJBQW1CLENBQ25CLENBQUFwRixhQUFBLEdBQUFvQixDQUFBLFVBQUFxRyxjQUFjLElBQUF6SCxhQUFBLEdBQUFvQixDQUFBLFVBQUksR0FBQUwsT0FBQSxDQUFBc0gsOEJBQThCLEdBQUUsRUFDbEQ1RyxNQUFNLENBQ1AsRUFDRCxLQUFNLENBQUE4RyxxQkFBcUIsRUFBQXZJLGFBQUEsR0FBQUUsQ0FBQSxRQUFHLEtBQU0sS0FBSSxDQUFDK0UsT0FBTyxDQUFDLENBQy9DQyxVQUFVLENBQ1ZFLG1CQUFtQixDQUNuQkMsV0FBVyxDQUFFNEMsU0FBUyxDQUN0QjNDLFNBQVMsQ0FBRTJDLFNBQVMsQ0FDcEIxQywwQixDQUNELENBQUMsRUFFRixLQUFNLENBQUFZLGtCQUFrQixFQUFBbkcsYUFBQSxHQUFBRSxDQUFBLFFBQUcsQ0FDekIySywwQkFBMEIsQ0FDMUIsR0FBR3RDLHFCQUFxQixDQUN6QixFQUVELEtBQU0sQ0FBQXdDLE9BQU8sRUFBQS9LLGFBQUEsR0FBQUUsQ0FBQSxRQUFHLENBQ2Q4SyxPQUFPLENBQUVsSCxjQUFjLENBQ3ZCNkUsS0FBSyxDQUFFLENBQ0wsQ0FDRXpDLEtBQUssQ0FBRWQsbUJBQW1CLENBQzFCM0QsTUFBTSxDQUFFd0csU0FBUyxDQUFDckcsUUFBUSxFLENBQzNCLENBQ0YsQ0FDRGdILGFBQWEsQ0FBRXpDLGtCQUFrQixDQUNqQzBDLE9BQU8sQ0FDTCxDQUFBN0ksYUFBQSxHQUFBb0IsQ0FBQSxVQUFBcUcsY0FBYyxFQUFFN0YsUUFBUSxFQUFFLElBQUE1QixhQUFBLEdBQUFvQixDQUFBLFVBQzFCLEdBQUFMLE9BQUEsQ0FBQXNILDhCQUE4QixHQUFFLENBQUN6RyxRQUFRLEVBQUUsRUFDN0M4RixJQUFJLENBQUUrQyxnQkFBZ0IsQ0FBQ0csaUJBQWlCLENBQUNsRCxJQUFJLENBQzdDSCxNQUFNLENBQ05DLElBQUksQ0FBRVEsTUFBTSxDQUFDLENBQUFoSSxhQUFBLEdBQUFvQixDQUFBLFVBQUFvRyxJQUFJLElBQUF4SCxhQUFBLEdBQUFvQixDQUFBLFVBQUksQ0FBQyxFQUFDLENBQUNRLFFBQVEsRUFBRSxDQUNsQ2tILGdCQUFnQixDQUFFLElBQUksQ0FDdEJDLGlCQUFpQixDQUFFLEksQ0FDcEIsRUFFRCxLQUFNLENBQUVOLGlCQUFpQixDQUFFLEVBQUF6SSxhQUFBLEdBQUFFLENBQUEsUUFBRyxLQUFNLEtBQUksQ0FBQzBDLFlBQVksQ0FBQzhGLFdBQVcsQ0FDL0RxQyxPQUFPLENBQ1BqSCxjQUFjLENBQ2YsRUFDRCxLQUFNLENBQUFrRixLQUFLLEVBQUFoSixhQUFBLEdBQUFFLENBQUEsUUFBRyxLQUFNLENBQUF1SSxpQkFBaUIsRUFBRSxFQUFDekksYUFBQSxHQUFBRSxDQUFBLFFBRXhDLE1BQU8sS0FBSSxDQUFDOEIsR0FBRyxDQUFDaUosbUJBQW1CLENBQ2pDakMsS0FBSyxDQUNMcUIsY0FBYyxDQUNkRSxTQUFTLENBQ1RDLFVBQVUsQ0FDWCxDQUNILENBRUE7Ozs7Ozs7OztPQVVRLEtBQU0sQ0FBQVUsbUJBQW1CQSxDQUFDLENBQ2hDbEMsS0FBSyxDQUNMbEYsY0FBYyxDQUNkeUQsTUFBTSxDQUNOakYsU0FBUyxDQU1WLEVBQUF0QyxhQUFBLEdBQUFzQixDQUFBLE9BQUF0QixhQUFBLEdBQUFFLENBQUEsUUFDQyxHQUFJLENBQUM4SSxLQUFLLENBQUNtQyxLQUFLLEVBQUVDLE9BQU8sQ0FBRSxDQUFBcEwsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQ3pCLEtBQU0sSUFBSSxDQUFBMEosS0FBSyxDQUNiLDREQUE0RCxDQUM3RCxDQUNILENBQUMsS0FBQTVKLGFBQUEsR0FBQW9CLENBQUEsV0FDRCxLQUFNLENBQUFpSyxZQUFZLEVBQUFyTCxhQUFBLEdBQUFFLENBQUEsUUFBRyxHQUFBUSxpQkFBQSxDQUFBNEssbUNBQW1DLEVBQ3REdEMsS0FBSyxDQUFDdUMsWUFBWSxDQUNsQnZDLEtBQUssQ0FBQ21DLEtBQUssQ0FBQ0MsT0FBTyxDQUNwQixFQUNELEtBQU0sQ0FBQUksWUFBWSxFQUFBeEwsYUFBQSxHQUFBRSxDQUFBLFFBQUcsR0FBQVEsaUJBQUEsQ0FBQStLLDZCQUE2QixFQUFDekMsS0FBSyxDQUFDdUMsWUFBWSxDQUFDLEVBQ3RFLEtBQU0sQ0FBQUcsT0FBTyxFQUFBMUwsYUFBQSxHQUFBRSxDQUFBLFFBQUcsSUFBSSxDQUFDeUwsVUFBVSxDQUFDM0MsS0FBSyxDQUFDRyxlQUFlLENBQUMsRUFDdEQsS0FBTSxDQUFBMUUsV0FBVyxFQUFBekUsYUFBQSxHQUFBRSxDQUFBLFFBQUcsS0FBTSxDQUFBd0wsT0FBTyxDQUM5QkUsV0FBVyxDQUFDLENBQ1hDLE1BQU0sQ0FBRSxDQUFDN0MsS0FBSyxDQUFDdUMsWUFBWSxDQUFFRixZQUFZLENBQUMsQ0FDMUNHLFlBQVksQ0FDWmxKLFNBQVMsQ0FBRSxDQUNULEdBQUdBLFNBQVMsQ0FDWjBCLEtBQUssQ0FBRXFILFlBQVksQ0FBQ1MsVUFBVSxDQUFDbkQsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDdEQsVyxDQUN6QyxDQUNEdkIsY0FBYyxDQUNkeUQsTSxDQUNELENBQUMsQ0FDRHdFLFFBQVEsRUFBRSxFQUNiLEtBQU0sQ0FBQUMsa0JBQWtCLEVBQUFoTSxhQUFBLEdBQUFFLENBQUEsUUFBRyxLQUFNLENBQUF1RSxXQUFXLENBQUN3SCxJQUFJLEVBQUUsRUFBQ2pNLGFBQUEsR0FBQUUsQ0FBQSxRQUNwRCxHQUFJLENBQUM4TCxrQkFBa0IsQ0FBRSxDQUFBaE0sYUFBQSxHQUFBb0IsQ0FBQSxVQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQ3ZCLEtBQU0sSUFBSSxDQUFBMEosS0FBSyxDQUFDLDZCQUE2QixDQUFDLENBQ2hELENBQUMsS0FBQTVKLGFBQUEsR0FBQW9CLENBQUEsV0FBQXBCLGFBQUEsR0FBQUUsQ0FBQSxRQUVELEtBQU0sS0FBSSxDQUFDeUUsbUJBQW1CLENBQzVCcUgsa0JBQWtCLENBQUNwSCxJQUFJLENBQ3ZCOUQsT0FBQSxDQUFBdUQsU0FBUyxDQUFDNkgsV0FBVyxDQUNyQixrQkFBa0IsQ0FDbkIsQ0FBQ2xNLGFBQUEsR0FBQUUsQ0FBQSxRQUNGLE1BQU8sQ0FBQThMLGtCQUFrQixDQUFDcEgsSUFBSSxDQUNoQyxDQUVBOzs7Ozs7Ozs7Ozs7O09BY08sS0FBTSxDQUFBdUgsWUFBWUEsQ0FBQyxDQUN4Qm5ELEtBQUssQ0FDTGxGLGNBQWMsQ0FDZHNJLGdCQUFnQixDQUNoQjdFLE1BQU0sQ0FDTmpGLFNBQVMsQ0FPVixFQUFBdEMsYUFBQSxHQUFBc0IsQ0FBQSxPQUFBdEIsYUFBQSxHQUFBRSxDQUFBLFFBQ0MsS0FBTSxLQUFJLENBQUM2RCwwQkFBMEIsQ0FBQ0QsY0FBYyxDQUFDLENBRXJELEtBQU0sQ0FBQXFGLGVBQWUsRUFBQW5KLGFBQUEsR0FBQUUsQ0FBQSxRQUNsQixDQUFBRixhQUFBLEdBQUFvQixDQUFBLFVBQUE0SCxLQUFpQixDQUFDRyxlQUFlLElBQUFuSixhQUFBLEdBQUFvQixDQUFBLFVBQUs0SCxLQUFlLENBQUNxRCxnQkFBZ0IsR0FBQ3JNLGFBQUEsR0FBQUUsQ0FBQSxRQUMxRSxHQUFBYSxPQUFBLENBQUF1TCxvQkFBb0IsRUFBQ25ELGVBQWUsQ0FBQyxDQUVyQyxLQUFNLENBQUFvRCxTQUFTLEVBQUF2TSxhQUFBLEdBQUFFLENBQUEsUUFDWixDQUFBRixhQUFBLEdBQUFvQixDQUFBLFVBQUE0SCxLQUFpQixDQUFDdUQsU0FBUyxJQUFBdk0sYUFBQSxHQUFBb0IsQ0FBQSxVQUFLNEgsS0FBZSxDQUFDd0QsVUFBVSxHQUU3RCxLQUFNLENBQUFuRCxJQUFJLEVBQUFySixhQUFBLEdBQUFFLENBQUEsUUFDUCxDQUFBRixhQUFBLEdBQUFvQixDQUFBLFVBQUE0SCxLQUFpQixDQUFDSyxJQUFJLElBQUFySixhQUFBLEdBQUFvQixDQUFBLFVBQ3RCLENBQUNULE9BQUEsQ0FBQThMLFNBQVMsQ0FBQ0MsS0FBSyxDQUFFL0wsT0FBQSxDQUFBOEwsU0FBUyxDQUFDRSxPQUFPLENBQUMsQ0FBQ3ZKLFFBQVEsQ0FBRTRGLEtBQWlCLENBQUM0RCxJQUFJLENBQUMsRUFBQTVNLGFBQUEsR0FBQW9CLENBQUEsVUFDbkVOLE9BQUEsQ0FBQXFILFNBQVMsQ0FBQzJCLE9BQU8sR0FBQTlKLGFBQUEsR0FBQW9CLENBQUEsVUFDakJOLE9BQUEsQ0FBQXFILFNBQVMsQ0FBQ0MsS0FBSyxFQUFDLEVBRXRCLEdBQUksQ0FBQXlFLFNBQVMsRUFBQTdNLGFBQUEsR0FBQUUsQ0FBQSxRQUF1QmlILFNBQVMsRUFFN0MsS0FBTSxDQUFBb0UsWUFBWSxFQUFBdkwsYUFBQSxHQUFBRSxDQUFBLFFBQ2YsQ0FBQUYsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBNEgsS0FBaUIsQ0FBQ3VDLFlBQVksSUFBQXZMLGFBQUEsR0FBQW9CLENBQUEsVUFBSzRILEtBQWUsQ0FBQzhELGFBQWEsR0FBQzlNLGFBQUEsR0FBQUUsQ0FBQSxRQUVwRSxHQUFJcU0sU0FBUyxDQUFFLENBQUF2TSxhQUFBLEdBQUFvQixDQUFBLFVBQ2IsS0FBTSxDQUFBMkwsTUFBTSxFQUFBL00sYUFBQSxHQUFBRSxDQUFBLFFBQUcsS0FBTSxLQUFJLENBQUM4QixHQUFHLENBQUNnTCx1QkFBdUIsQ0FDbkRsSixjQUFjLENBQ2R5SSxTQUFTLENBQ1RwRCxlQUFlLENBQ2ZFLElBQUksQ0FDTCxFQUVEO0FBQ0E7QUFDQSxLQUFNLENBQUE0RCxTQUFTLEVBQUFqTixhQUFBLEdBQUFFLENBQUEsUUFBRzZNLE1BQU0sQ0FBQ0csZ0JBQWdCLENBQUN6SSxXQUFXLENBQUMwSSxVQUFVLEVBQUNuTixhQUFBLEdBQUFFLENBQUEsUUFDakUsR0FBSSxDQUFBRixhQUFBLEdBQUFvQixDQUFBLGtCQUFRLEVBQUksQ0FBQTZMLFNBQVMsSUFBQWpOLGFBQUEsR0FBQW9CLENBQUEsVUFBSSxXQUFXLEVBQUksQ0FBQTZMLFNBQVMsQ0FBQ3BCLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBN0wsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQy9EMk0sU0FBUyxDQUFJSSxTQUFTLENBQUNwQixNQUFNLENBQUMsQ0FBQyxDQUFtQixDQUFDZ0IsU0FBUyxDQUM5RCxDQUFDLEtBQUE3TSxhQUFBLEdBQUFvQixDQUFBLFdBQ0QsS0FBTSxDQUFBZ00sU0FBUyxFQUFBcE4sYUFBQSxHQUFBRSxDQUFBLFFBQUc2TSxNQUFNLENBQUNHLGdCQUFnQixDQUFDckIsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDdUIsU0FBUyxFQUFDcE4sYUFBQSxHQUFBRSxDQUFBLFFBQzlEcUwsWUFBWSxDQUFDNkIsU0FBUyxDQUFHQSxTQUFTLENBQ3BDLENBQUMsS0FBQXBOLGFBQUEsR0FBQW9CLENBQUEsV0FFRCxLQUFNLENBQUFpTSxnQkFBZ0IsRUFBQXJOLGFBQUEsR0FBQUUsQ0FBQSxRQUFHLE9BQU8sRUFBSSxDQUFBOEksS0FBSyxFQUFBaEosYUFBQSxHQUFBb0IsQ0FBQSxVQUFHLENBQUMsQ0FBQzRILEtBQUssQ0FBQ21DLEtBQUssR0FBQW5MLGFBQUEsR0FBQW9CLENBQUEsVUFBRyxLQUFLLEdBQUNwQixhQUFBLEdBQUFFLENBQUEsUUFDbEUsR0FBSW1OLGdCQUFnQixDQUFFLENBQUFyTixhQUFBLEdBQUFvQixDQUFBLFVBQUFwQixhQUFBLEdBQUFFLENBQUEsUUFDcEIsR0FBSWtNLGdCQUFnQixDQUFFLENBQUFwTSxhQUFBLEdBQUFvQixDQUFBLFVBQUFwQixhQUFBLEdBQUFFLENBQUEsUUFDcEIsS0FBTSxJQUFJLENBQUEwSixLQUFLLENBQ2IsK0RBQStELENBQ2hFLENBQ0gsQ0FBQyxLQUFBNUosYUFBQSxHQUFBb0IsQ0FBQSxXQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQ0QsTUFBTyxLQUFJLENBQUNnTCxtQkFBbUIsQ0FBQyxDQUM5QmxDLEtBQUssQ0FBRUEsS0FBZ0IsQ0FDdkJsRixjQUFjLENBQ2R5RCxNQUFNLENBQ05qRixTLENBQ0QsQ0FBQyxDQUNKLENBQUMsS0FBQXRDLGFBQUEsR0FBQW9CLENBQUEsV0FFRCxLQUFNLENBQUFzSyxPQUFPLEVBQUExTCxhQUFBLEdBQUFFLENBQUEsUUFBRyxJQUFJLENBQUN5TCxVQUFVLENBQUN4QyxlQUFlLENBQUMsRUFDaEQsS0FBTSxDQUFFVixpQkFBaUIsQ0FBRSxFQUFBekksYUFBQSxHQUFBRSxDQUFBLFFBQUcsS0FBTSxDQUFBd0wsT0FBTyxDQUFDUyxZQUFZLENBQUMsQ0FDdkRuRCxLQUFLLENBQUV1QyxZQUFZLENBQ25CekgsY0FBYyxDQUNkc0ksZ0JBQWdCLENBQ2hCUyxTQUFTLENBQ1R0RixNQUFNLENBQ05qRixTLENBQ0QsQ0FBQyxFQUNGLEtBQU0sQ0FBQW1DLFdBQVcsRUFBQXpFLGFBQUEsR0FBQUUsQ0FBQSxRQUFHLEtBQU0sQ0FBQXVJLGlCQUFpQixFQUFFLEVBRTdDLEtBQU0sQ0FBQTZFLGVBQWUsRUFBQXROLGFBQUEsR0FBQUUsQ0FBQSxRQUFHSyxRQUFBLENBQUFpSixNQUFNLENBQUMrRCxXQUFXLENBQUNDLElBQUksQ0FBQy9JLFdBQVcsQ0FBQyxDQUFDRyxJQUFJLEVBQUM1RSxhQUFBLEdBQUFFLENBQUEsUUFDbEUsR0FBSSxDQUFDb04sZUFBZSxDQUFFLENBQUF0TixhQUFBLEdBQUFvQixDQUFBLFVBQUFwQixhQUFBLEdBQUFFLENBQUEsUUFDcEIsS0FBTSxJQUFJLENBQUEwSixLQUFLLENBQUMsMEJBQTBCLENBQUMsQ0FDN0MsQ0FBQyxLQUFBNUosYUFBQSxHQUFBb0IsQ0FBQSxXQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBRUQsS0FBTSxLQUFJLENBQUN5RSxtQkFBbUIsQ0FDNUIySSxlQUFlLENBQ2Z4TSxPQUFBLENBQUF1RCxTQUFTLENBQUM2SCxXQUFXLENBQ3JCLGtCQUFrQixDQUNuQixDQUFDbE0sYUFBQSxHQUFBRSxDQUFBLFFBQ0YsTUFBTyxDQUFBb04sZUFBZSxDQUN4QixDQUVBOzs7T0FJUTNCLFVBQVVBLENBQUN4QyxlQUF1QixFQUFBbkosYUFBQSxHQUFBc0IsQ0FBQSxPQUN4QyxLQUFNLENBQUFtTSwwQkFBMEIsRUFBQXpOLGFBQUEsR0FBQUUsQ0FBQSxRQUFHSyxRQUFBLENBQUFpSixNQUFNLENBQUNrRSxVQUFVLENBQUN2RSxlQUFlLENBQUMsRUFBQ25KLGFBQUEsR0FBQUUsQ0FBQSxRQUN0RSxPQUFRdU4sMEJBQTBCLEVBQ2hDLElBQUssQ0FBQW5OLFdBQUEsQ0FBQWtDLGdDQUFnQyxDQUFBeEMsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQ25DLE1BQU8sS0FBSSxDQUFDa0MsWUFBWSxDQUMxQixJQUFLLENBQUE5QixXQUFBLENBQUFxTixnQ0FBZ0MsQ0FBQTNOLGFBQUEsR0FBQW9CLENBQUEsVUFBQXBCLGFBQUEsR0FBQUUsQ0FBQSxRQUNuQyxNQUFPLEtBQUksQ0FBQzBDLFlBQVksQ0FDMUIsUUFBQTVDLGFBQUEsR0FBQW9CLENBQUEsVUFBQXBCLGFBQUEsR0FBQUUsQ0FBQSxRQUNFLEtBQU0sSUFBSSxDQUFBMEosS0FBSyxDQUFDLGlDQUFpQ1QsZUFBZSxFQUFFLENBQUMsQ0FDdkUsQ0FDRixDQUVBOzs7Ozs7Ozs7T0FVUSxLQUFNLENBQUF5RSxtQkFBbUJBLENBQUMsQ0FDaEMvQixNQUFNLENBQ04vSCxjQUFjLENBQ2R5RCxNQUFNLENBQ040QixlQUFlLEVBQUFuSixhQUFBLEdBQUFvQixDQUFBLFVBQUdSLE9BQUEsQ0FBQXdJLGdDQUFnQyxFQUNsRDlHLFNBQVMsQ0FPVixFQUFBdEMsYUFBQSxHQUFBc0IsQ0FBQSxPQUNDLEtBQU0sQ0FBQW9LLE9BQU8sRUFBQTFMLGFBQUEsR0FBQUUsQ0FBQSxRQUFHLElBQUksQ0FBQ3lMLFVBQVUsQ0FBQ3hDLGVBQWUsQ0FBQyxFQUVoRCxLQUFNLENBQUExRSxXQUFXLEVBQUF6RSxhQUFBLEdBQUFFLENBQUEsUUFBRyxLQUFNLENBQUF3TCxPQUFPLENBQzlCbUMsWUFBWSxDQUFDaEMsTUFBTSxDQUFFL0gsY0FBYyxDQUFFeUQsTUFBTSxDQUFFakYsU0FBUyxDQUFDLENBQ3ZEeUosUUFBUSxFQUFFLEVBQUMvTCxhQUFBLEdBQUFFLENBQUEsUUFFZCxNQUFPLENBQUF1RSxXQUFXLENBQUNHLElBQUksQ0FDekIsQ0FFQTs7Ozs7Ozs7O09BVU8sS0FBTSxDQUFBa0osV0FBV0EsQ0FBQyxDQUN2QjlFLEtBQUssQ0FDTGxGLGNBQWMsQ0FDZHlELE1BQU0sQ0FLUCxFQUFBdkgsYUFBQSxHQUFBc0IsQ0FBQSxPQUFBdEIsYUFBQSxHQUFBRSxDQUFBLFFBQ0MsS0FBTSxLQUFJLENBQUM2RCwwQkFBMEIsQ0FBQ0QsY0FBYyxDQUFDLENBQUM5RCxhQUFBLEdBQUFFLENBQUEsUUFDdEQsR0FBQWEsT0FBQSxDQUFBdUwsb0JBQW9CLEVBQUN0RCxLQUFLLENBQUNHLGVBQWUsQ0FBQyxDQUFDbkosYUFBQSxHQUFBRSxDQUFBLFFBRTVDLElBQUksQ0FBQ2tFLFNBQVMsQ0FBQ3RELE9BQUEsQ0FBQXVELFNBQVMsQ0FBQzBKLFdBQVcsQ0FBRSxDQUFFQyxPQUFPLENBQUVoRixLQUFLLENBQUVsRixjQUFjLENBQUUsQ0FBQyxDQUV6RTtBQUNBLEtBQU0sQ0FBQXdKLGVBQWUsRUFBQXROLGFBQUEsR0FBQUUsQ0FBQSxRQUFHLEtBQU0sS0FBSSxDQUFDME4sbUJBQW1CLENBQUMsQ0FDckQvQixNQUFNLENBQUUsQ0FBQzdDLEtBQUssQ0FBQ3VDLFlBQVksQ0FBQ08sVUFBVSxDQUFDLENBQ3ZDaEksY0FBYyxDQUNkeUQsTUFBTSxDQUNONEIsZUFBZSxDQUFFSCxLQUFLLENBQUNHLGUsQ0FDeEIsQ0FBQyxFQUVGO0FBQUFuSixhQUFBLEdBQUFFLENBQUEsUUFDQSxLQUFNLEtBQUksQ0FBQ3lFLG1CQUFtQixDQUM1QjJJLGVBQWUsQ0FDZnhNLE9BQUEsQ0FBQXVELFNBQVMsQ0FBQzBKLFdBQVcsQ0FDckIsa0JBQWtCLENBQ25CLENBQ0gsQ0FFUUUsa0JBQWtCQSxDQUFDOUUsZUFBdUIsRUFBQW5KLGFBQUEsR0FBQXNCLENBQUEsT0FDaEQsS0FBTSxDQUFBNE0sMEJBQTBCLEVBQUFsTyxhQUFBLEdBQUFFLENBQUEsUUFBR0ssUUFBQSxDQUFBaUosTUFBTSxDQUFDa0UsVUFBVSxDQUFDdkUsZUFBZSxDQUFDLEVBQUNuSixhQUFBLEdBQUFFLENBQUEsUUFDdEUsT0FBUWdPLDBCQUEwQixFQUNoQyxJQUFLLENBQUE1TixXQUFBLENBQUFxTixnQ0FBZ0MsQ0FBQTNOLGFBQUEsR0FBQW9CLENBQUEsVUFBQXBCLGFBQUEsR0FBQUUsQ0FBQSxRQUNuQyxNQUFPLEtBQUssQ0FDZCxJQUFLLENBQUFJLFdBQUEsQ0FBQWtDLGdDQUFnQyxDQUFBeEMsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQ25DLE1BQU8sS0FBSyxDQUNkLFFBQUFGLGFBQUEsR0FBQW9CLENBQUEsVUFBQXBCLGFBQUEsR0FBQUUsQ0FBQSxRQUNFLEtBQU0sSUFBSSxDQUFBMEosS0FBSyxDQUFDLHlDQUF5QyxDQUFDLENBQzlELENBQ0YsQ0FFQTs7O09BSVEsS0FBTSxDQUFBdUUsb0JBQW9CQSxDQUNoQ2hGLGVBQXVCLENBQ3ZCb0QsU0FBaUIsQ0FDakIxSyxLQUFZLEVBQUE3QixhQUFBLEdBQUFzQixDQUFBLE9BRVosS0FBTSxDQUFBOE0sT0FBTyxFQUFBcE8sYUFBQSxHQUFBRSxDQUFBLFFBQUcsR0FBQWEsT0FBQSxDQUFBc04sVUFBVSxFQUFDeE0sS0FBSyxDQUFDLEVBQ2pDLEtBQU0sQ0FBQXlNLElBQUksRUFBQXRPLGFBQUEsR0FBQUUsQ0FBQSxRQUFHLFNBQVMsRUFDdEIsS0FBTSxDQUFBcU8sT0FBTyxFQUFBdk8sYUFBQSxHQUFBRSxDQUFBLFFBQUcsSUFBSSxDQUFDK04sa0JBQWtCLENBQUM5RSxlQUFlLENBQUMsRUFBQ25KLGFBQUEsR0FBQUUsQ0FBQSxRQUV6RCxHQUNFLE1BQVEsS0FBSSxDQUFDaUMsaUJBQTRCLENBQUNxTSxhQUFhLEVBQUksV0FBVyxDQUN0RSxDQUFBeE8sYUFBQSxHQUFBb0IsQ0FBQSxVQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQ0EsS0FBTSxJQUFJLENBQUEwSixLQUFLLENBQ2IsMkVBQTJFLENBQzVFLENBQ0gsQ0FBQyxLQUFBNUosYUFBQSxHQUFBb0IsQ0FBQSxXQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBRUQsTUFBUSxLQUFJLENBQUNpQyxpQkFBNEIsQ0FBQ3FNLGFBQWEsQ0FDckQsQ0FBRUosT0FBTyxDQUFFRSxJQUFJLENBQUVDLE9BQU8sQ0FBRUUsaUJBQWlCLENBQUV0RixlQUFlLENBQUUsQ0FDOUQsQ0FBRXVGLFNBQVMsQ0FBRSxDQUFDLENBQUVKLElBQUksQ0FBRSxXQUFXLENBQUUxQixJQUFJLENBQUUsU0FBUyxDQUFFLENBQUMsQ0FBRSxDQUN2RCxDQUFFTCxTQUFTLENBQUUsQ0FDZCxDQUNILENBRUE7Ozs7Ozs7Ozs7Ozs7O09BZU8sS0FBTSxDQUFBb0MsbUJBQW1CQSxDQUM5QnhGLGVBQXVCLENBQ3ZCb0QsU0FBaUIsQ0FDakIxSyxLQUFBLEVBQUE3QixhQUFBLEdBQUFvQixDQUFBLFVBQWUsSUFBSSxDQUFDUyxLQUFLLEVBQ3pCK00sZ0JBQXlCLENBQ3pCQyxpQ0FBMkMsRUFBQTdPLGFBQUEsR0FBQXNCLENBQUEsT0FBQXRCLGFBQUEsR0FBQUUsQ0FBQSxRQUUzQyxHQUFJMk8saUNBQWlDLENBQUUsQ0FBQTdPLGFBQUEsR0FBQW9CLENBQUEsVUFBQXBCLGFBQUEsR0FBQUUsQ0FBQSxRQUNyQzBPLGdCQUFnQixDQUFHLEtBQU0sS0FBSSxDQUFDVCxvQkFBb0IsQ0FDaERoRixlQUFlLENBQ2ZvRCxTQUFTLENBQ1QxSyxLQUFLLENBQ04sQ0FDSCxDQUFDLEtBQUE3QixhQUFBLEdBQUFvQixDQUFBLFdBQUFwQixhQUFBLEdBQUFFLENBQUEsUUFDRCxNQUFPLEtBQUksQ0FBQzhCLEdBQUcsQ0FBQzJNLG1CQUFtQixDQUNqQ3hGLGVBQWUsQ0FDZm9ELFNBQVMsQ0FDVDFLLEtBQUssQ0FDTCtNLGdCQUFnQixDQUNqQixDQUNILENBRUE7Ozs7Ozs7Ozs7O09BWU8sS0FBTSxDQUFBRSxrQkFBa0JBLENBQUMsQ0FDOUI5RixLQUFLLENBQ0xsRixjQUFjLENBSWYsRUFBQTlELGFBQUEsR0FBQXNCLENBQUEsT0FBQXRCLGFBQUEsR0FBQUUsQ0FBQSxRQUNDLEdBQUFhLE9BQUEsQ0FBQXVMLG9CQUFvQixFQUFDdEQsS0FBSyxDQUFDRyxlQUFlLENBQUMsQ0FFM0MsS0FBTSxDQUFBdUMsT0FBTyxFQUFBMUwsYUFBQSxHQUFBRSxDQUFBLFFBQUcsSUFBSSxDQUFDeUwsVUFBVSxDQUFDM0MsS0FBSyxDQUFDRyxlQUFlLENBQUMsRUFBQ25KLGFBQUEsR0FBQUUsQ0FBQSxRQUV2RCxHQUFJLENBQ0YsS0FBTSxDQUFBNk8sT0FBTyxFQUFBL08sYUFBQSxHQUFBRSxDQUFBLFFBQUcsS0FBTSxDQUFBd0wsT0FBTyxDQUMxQnNELFFBQVEsQ0FBQyxDQUFDaEcsS0FBSyxDQUFDdUMsWUFBWSxDQUFDLENBQUV6SCxjQUFjLENBQUMsQ0FDOUNtTCxVQUFVLEVBQUUsRUFBQ2pQLGFBQUEsR0FBQUUsQ0FBQSxRQUNoQixNQUFPLENBQUMsQ0FBQzZPLE9BQU8sQ0FDbEIsQ0FBRSxNQUFPN0wsS0FBSyxDQUFFLENBQUFsRCxhQUFBLEdBQUFFLENBQUEsUUFDZCxHQUFJLENBQUFGLGFBQUEsR0FBQW9CLENBQUEsYUFBQUwsT0FBQSxDQUFBbU8sWUFBWSxFQUFDaE0sS0FBSyxDQUFDLElBQUFsRCxhQUFBLEdBQUFvQixDQUFBLFVBQUk4QixLQUFLLENBQUNpTSxJQUFJLEdBQUssZ0JBQWdCLEVBQUUsQ0FBQW5QLGFBQUEsR0FBQW9CLENBQUEsVUFBQXBCLGFBQUEsR0FBQUUsQ0FBQSxRQUMxRCxNQUFPLE1BQUssQ0FDZCxDQUFDLEtBQUFGLGFBQUEsR0FBQW9CLENBQUEsV0FBQXBCLGFBQUEsR0FBQUUsQ0FBQSxRQUNELEtBQU0sQ0FBQWdELEtBQUssQ0FDYixDQUNGLENBRUE7Ozs7Ozs7O09BU08sS0FBTSxDQUFBa00sVUFBVUEsQ0FBQyxDQUN0QnRMLGNBQWMsQ0FDZHVELEtBQUssQ0FJTixFQUFBckgsYUFBQSxHQUFBc0IsQ0FBQSxPQUFBdEIsYUFBQSxHQUFBRSxDQUFBLFFBQ0MsT0FBUW1ILEtBQUssQ0FBQ2dJLGFBQWEsRUFDekIsSUFBSyxDQUFBdk8sT0FBQSxDQUFBd08sYUFBYSxDQUFDQyxLQUFLLENBQUF2UCxhQUFBLEdBQUFvQixDQUFBLFVBQUUsQ0FDeEIsS0FBTSxDQUFBNkYsUUFBUSxFQUFBakgsYUFBQSxHQUFBRSxDQUFBLFFBQUdXLFdBQUEsQ0FBQTJPLGNBQWMsQ0FBQ0MsT0FBTyxDQUNyQ3BJLEtBQUssQ0FBQ1EsWUFBWSxDQUNsQixJQUFJLENBQUMzRixRQUFRLENBQ2QsRUFBQ2xDLGFBQUEsR0FBQUUsQ0FBQSxRQUNGLE1BQU8sTUFBTSxDQUFBK0csUUFBUSxDQUFDeUksU0FBUyxDQUFDVCxVQUFVLENBQUNuTCxjQUFjLENBQUMsQ0FDNUQsQ0FDQSxJQUFLLENBQUFoRCxPQUFBLENBQUF3TyxhQUFhLENBQUNLLE9BQU8sQ0FBQTNQLGFBQUEsR0FBQW9CLENBQUEsVUFBRSxDQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQzFCLEdBQUksQ0FBQUYsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBaUcsS0FBSyxDQUFDUyxPQUFPLEdBQUtYLFNBQVMsSUFBQW5ILGFBQUEsR0FBQW9CLENBQUEsVUFBSWlHLEtBQUssQ0FBQ1MsT0FBTyxHQUFLLElBQUksRUFBRSxDQUFBOUgsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQ3pELEtBQU0sSUFBSSxDQUFBMEosS0FBSyxDQUFDLHdDQUF3QyxDQUFDLENBQzNELENBQUMsS0FBQTVKLGFBQUEsR0FBQW9CLENBQUEsV0FDRCxLQUFNLENBQUE2RixRQUFRLEVBQUFqSCxhQUFBLEdBQUFFLENBQUEsUUFBR1csV0FBQSxDQUFBK08sZ0JBQWdCLENBQUNILE9BQU8sQ0FDdkNwSSxLQUFLLENBQUNRLFlBQVksQ0FDbEIsSUFBSSxDQUFDM0YsUUFBUSxDQUNkLEVBQUNsQyxhQUFBLEdBQUFFLENBQUEsUUFDRixNQUFPLE1BQU0sQ0FBQStHLFFBQVEsQ0FBQ3lJLFNBQVMsQ0FBQ1QsVUFBVSxDQUN4Q25MLGNBQWMsQ0FDZHVELEtBQUssQ0FBQ1MsT0FBTyxDQUNkLENBQ0gsQ0FDQSxJQUFLLENBQUFoSCxPQUFBLENBQUF3TyxhQUFhLENBQUNPLE1BQU0sQ0FBQTdQLGFBQUEsR0FBQW9CLENBQUEsVUFBRSxDQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQ3pCLEdBQUksQ0FBQUYsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBaUcsS0FBSyxDQUFDUyxPQUFPLEdBQUtYLFNBQVMsSUFBQW5ILGFBQUEsR0FBQW9CLENBQUEsVUFBSWlHLEtBQUssQ0FBQ1MsT0FBTyxHQUFLLElBQUksRUFBRSxDQUFBOUgsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQ3pELEtBQU0sSUFBSSxDQUFBMEosS0FBSyxDQUFDLHVDQUF1QyxDQUFDLENBQzFELENBQUMsS0FBQTVKLGFBQUEsR0FBQW9CLENBQUEsV0FDRCxLQUFNLENBQUE2RixRQUFRLEVBQUFqSCxhQUFBLEdBQUFFLENBQUEsUUFBR1csV0FBQSxDQUFBaVAsZUFBZSxDQUFDTCxPQUFPLENBQ3RDcEksS0FBSyxDQUFDUSxZQUFZLENBQ2xCLElBQUksQ0FBQzNGLFFBQVEsQ0FDZCxFQUFDbEMsYUFBQSxHQUFBRSxDQUFBLFFBQ0YsR0FBSSxDQUNGLEtBQU0sQ0FBQTZQLEtBQUssRUFBQS9QLGFBQUEsR0FBQUUsQ0FBQSxRQUFHLEtBQU0sQ0FBQStHLFFBQVEsQ0FBQytJLE9BQU8sQ0FBQ2YsVUFBVSxDQUFDNUgsS0FBSyxDQUFDUyxPQUFPLENBQUMsRUFBQzlILGFBQUEsR0FBQUUsQ0FBQSxRQUMvRCxNQUFPLENBQUE4SCxNQUFNLENBQUMrSCxLQUFLLENBQUM5TSxXQUFXLEVBQUUsRUFBSWEsY0FBYyxDQUFDYixXQUFXLEVBQUUsQ0FBQyxDQUNsRTtBQUNGLENBQUUsTUFBT0MsS0FBVSxDQUFFLENBQUFsRCxhQUFBLEdBQUFFLENBQUEsUUFDbkIsSUFBSSxDQUFDbUIsTUFBTSxDQUNULGlDQUFpQyxDQUFBckIsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBOEIsS0FBSyxDQUFDQyxPQUFPLElBQUFuRCxhQUFBLEdBQUFvQixDQUFBLFVBQUk4QixLQUFLLEdBQUUsQ0FDMUQsQ0FBQ2xELGFBQUEsR0FBQUUsQ0FBQSxRQUNGLE1BQU8sR0FBRSxDQUNYLENBQ0YsQ0FDQSxRQUFBRixhQUFBLEdBQUFvQixDQUFBLFVBQUFwQixhQUFBLEdBQUFFLENBQUEsUUFDRSxLQUFNLElBQUksQ0FBQTBKLEtBQUssQ0FBQywyQ0FBMkMsQ0FBQyxDQUNoRSxDQUNGLENBRUE7Ozs7Ozs7O09BU08sS0FBTSxDQUFBcUcsUUFBUUEsQ0FBQyxDQUNwQjVJLEtBQUssQ0FDTDVGLE1BQU0sQ0FDTnlPLFdBQVcsQ0FDWEMsU0FBUyxDQUNUN04sU0FBUyxDQU9WLEVBQUF0QyxhQUFBLEdBQUFzQixDQUFBLE9BQUF0QixhQUFBLEdBQUFFLENBQUEsUUFDQyxLQUFNLEtBQUksQ0FBQzZELDBCQUEwQixDQUFDbU0sV0FBVyxDQUFDLENBQUNsUSxhQUFBLEdBQUFFLENBQUEsUUFDbkRvQyxTQUFTLENBQUcsQ0FBRSxHQUFHQSxTQUFTLENBQUVrTCxJQUFJLENBQUUwQyxXQUFXLENBQUUsQ0FDL0MsR0FBSSxDQUFBekwsV0FBaUQsQ0FBQ3pFLGFBQUEsR0FBQUUsQ0FBQSxRQUV0RCxPQUFRbUgsS0FBSyxDQUFDZ0ksYUFBYSxFQUN6QixJQUFLLENBQUF2TyxPQUFBLENBQUF3TyxhQUFhLENBQUNDLEtBQUssQ0FBQXZQLGFBQUEsR0FBQW9CLENBQUEsVUFBRSxDQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQ3hCLEdBQUksQ0FBQ3VCLE1BQU0sQ0FBRSxDQUFBekIsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQ1gsS0FBTSxJQUFJLENBQUEwSixLQUFLLENBQUMsbUNBQW1DLENBQUMsQ0FDdEQsQ0FBQyxLQUFBNUosYUFBQSxHQUFBb0IsQ0FBQSxXQUNELEtBQU0sQ0FBQTZGLFFBQVEsRUFBQWpILGFBQUEsR0FBQUUsQ0FBQSxRQUFHVyxXQUFBLENBQUEyTyxjQUFjLENBQUNDLE9BQU8sQ0FDckNwSSxLQUFLLENBQUNRLFlBQVksQ0FDbEIsSUFBSSxDQUFDMUYsaUJBQWlCLENBQ3ZCLEVBQUNuQyxhQUFBLEdBQUFFLENBQUEsUUFDRnVFLFdBQVcsQ0FBR3dDLFFBQVEsQ0FBQ2dKLFFBQVEsQ0FBQ0UsU0FBUyxDQUFFMU8sTUFBTSxDQUFFYSxTQUFTLENBQUMsQ0FBQ3RDLGFBQUEsR0FBQUUsQ0FBQSxRQUM5RCxNQUNGLENBQ0EsSUFBSyxDQUFBWSxPQUFBLENBQUF3TyxhQUFhLENBQUNLLE9BQU8sQ0FBQTNQLGFBQUEsR0FBQW9CLENBQUEsVUFBRSxDQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQzFCLEdBQUksQ0FBQUYsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBaUcsS0FBSyxDQUFDUyxPQUFPLEdBQUtYLFNBQVMsSUFBQW5ILGFBQUEsR0FBQW9CLENBQUEsVUFBSWlHLEtBQUssQ0FBQ1MsT0FBTyxHQUFLLElBQUksRUFBRSxDQUFBOUgsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQ3pELEtBQU0sSUFBSSxDQUFBMEosS0FBSyxDQUFDLHNDQUFzQyxDQUFDLENBQ3pELENBQUMsS0FBQTVKLGFBQUEsR0FBQW9CLENBQUEsV0FBQXBCLGFBQUEsR0FBQUUsQ0FBQSxRQUNELEdBQUksQ0FBQ3VCLE1BQU0sQ0FBRSxDQUFBekIsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQ1gsS0FBTSxJQUFJLENBQUEwSixLQUFLLENBQUMscUNBQXFDLENBQUMsQ0FDeEQsQ0FBQyxLQUFBNUosYUFBQSxHQUFBb0IsQ0FBQSxXQUNELEtBQU0sQ0FBQTZGLFFBQVEsRUFBQWpILGFBQUEsR0FBQUUsQ0FBQSxRQUFHVyxXQUFBLENBQUErTyxnQkFBZ0IsQ0FBQ0gsT0FBTyxDQUN2Q3BJLEtBQUssQ0FBQ1EsWUFBWSxDQUNsQixJQUFJLENBQUMxRixpQkFBaUIsQ0FDdkIsRUFBQ25DLGFBQUEsR0FBQUUsQ0FBQSxRQUNGdUUsV0FBVyxDQUFHd0MsUUFBUSxDQUFDbUosZ0JBQWdCLENBQ3JDRixXQUFXLENBQ1hDLFNBQVMsQ0FDVDlJLEtBQUssQ0FBQ1MsT0FBTyxDQUNickcsTUFBTSxDQUNOLEVBQUUsQ0FDRmEsU0FBUyxDQUNWLENBQUN0QyxhQUFBLEdBQUFFLENBQUEsUUFDRixNQUNGLENBQ0EsSUFBSyxDQUFBWSxPQUFBLENBQUF3TyxhQUFhLENBQUNPLE1BQU0sQ0FBQTdQLGFBQUEsR0FBQW9CLENBQUEsVUFBRSxDQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQ3pCLEdBQUksQ0FBQUYsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBaUcsS0FBSyxDQUFDUyxPQUFPLEdBQUtYLFNBQVMsSUFBQW5ILGFBQUEsR0FBQW9CLENBQUEsVUFBSWlHLEtBQUssQ0FBQ1MsT0FBTyxHQUFLLElBQUksRUFBRSxDQUFBOUgsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQ3pELEtBQU0sSUFBSSxDQUFBMEosS0FBSyxDQUFDLHFDQUFxQyxDQUFDLENBQ3hELENBQUMsS0FBQTVKLGFBQUEsR0FBQW9CLENBQUEsV0FDRCxLQUFNLENBQUE2RixRQUFRLEVBQUFqSCxhQUFBLEdBQUFFLENBQUEsUUFBR1csV0FBQSxDQUFBaVAsZUFBZSxDQUFDTCxPQUFPLENBQ3RDcEksS0FBSyxDQUFDUSxZQUFZLENBQ2xCLElBQUksQ0FBQzFGLGlCQUFpQixDQUN2QixFQUFDbkMsYUFBQSxHQUFBRSxDQUFBLFFBQ0Z1RSxXQUFXLENBQUd3QyxRQUFRLENBQUNvSixZQUFZLENBQ2pDSCxXQUFXLENBQ1hDLFNBQVMsQ0FDVDlJLEtBQUssQ0FBQ1MsT0FBTyxDQUNieEYsU0FBUyxDQUNWLENBQUN0QyxhQUFBLEdBQUFFLENBQUEsUUFDRixNQUNGLENBQ0EsUUFBQUYsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQ0UsS0FBTSxJQUFJLENBQUEwSixLQUFLLENBQUMseUNBQXlDLENBQUMsQ0FDOUQsQ0FBQzVKLGFBQUEsR0FBQUUsQ0FBQSxRQUVELEdBQUksQ0FDRixLQUFNLENBQUFvUSxtQkFBbUIsRUFBQXRRLGFBQUEsR0FBQUUsQ0FBQSxRQUFHLEtBQU0sQ0FBQXVFLFdBQVcsRUFBQ3pFLGFBQUEsR0FBQUUsQ0FBQSxRQUM5QyxLQUFNLEtBQUksQ0FBQ3lFLG1CQUFtQixDQUM1QjJMLG1CQUFtQixDQUFDMUwsSUFBSSxDQUN4QjlELE9BQUEsQ0FBQXVELFNBQVMsQ0FBQ2tNLFFBQVEsQ0FDbEIsb0JBQW9CLENBQ3JCLENBQ0gsQ0FBRSxNQUFPck4sS0FBSyxDQUFFLENBQUFsRCxhQUFBLEdBQUFFLENBQUEsUUFDZG1ELE9BQU8sQ0FBQ0gsS0FBSyxDQUFDQSxLQUFLLENBQUMsQ0FBQ2xELGFBQUEsR0FBQUUsQ0FBQSxRQUNyQixJQUFJLENBQUNrRSxTQUFTLENBQUN0RCxPQUFBLENBQUF1RCxTQUFTLENBQUNRLGlCQUFpQixDQUFFLENBQzFDM0IsS0FBSyxDQUNMWSxjQUFjLENBQUVvTSxXLENBQ2pCLENBQUMsQ0FDSixDQUNGLENBRUE7Ozs7Ozs7OztPQVVPLEtBQU0sQ0FBQU0sWUFBWUEsQ0FBQ3hILEtBQWMsQ0FBRXpCLE1BQWUsRUFBQXZILGFBQUEsR0FBQXNCLENBQUEsT0FBQXRCLGFBQUEsR0FBQUUsQ0FBQSxRQUN2RCxLQUFNLEtBQUksQ0FBQzZELDBCQUEwQixDQUFDaUYsS0FBSyxDQUFDeUgsS0FBSyxDQUFDckYsT0FBTyxDQUFDLENBQUNwTCxhQUFBLEdBQUFFLENBQUEsUUFDM0QsR0FBQWEsT0FBQSxDQUFBdUwsb0JBQW9CLEVBQUN0RCxLQUFLLENBQUNHLGVBQWUsQ0FBQyxDQUFDbkosYUFBQSxHQUFBRSxDQUFBLFFBRTVDLElBQUksQ0FBQ2tFLFNBQVMsQ0FBQ3RELE9BQUEsQ0FBQXVELFNBQVMsQ0FBQ3FNLFlBQVksQ0FBRSxDQUNyQzFDLE9BQU8sQ0FBRWhGLEtBQUssQ0FDZGxGLGNBQWMsQ0FBRWtGLEtBQUssQ0FBQ3lILEtBQUssQ0FBQ3JGLE8sQ0FDN0IsQ0FBQyxDQUVGLEtBQU0sQ0FBQU0sT0FBTyxFQUFBMUwsYUFBQSxHQUFBRSxDQUFBLFFBQUcsSUFBSSxDQUFDeUwsVUFBVSxDQUFDM0MsS0FBSyxDQUFDRyxlQUFlLENBQUMsRUFDdEQsS0FBTSxDQUFBMUUsV0FBVyxFQUFBekUsYUFBQSxHQUFBRSxDQUFBLFFBQUcsS0FBTSxDQUFBd0wsT0FBTyxDQUM5QnNELFFBQVEsQ0FBQyxDQUFDaEcsS0FBSyxDQUFDdUMsWUFBWSxDQUFDLENBQUV2QyxLQUFLLENBQUN5SCxLQUFLLENBQUNyRixPQUFPLENBQUU3RCxNQUFNLENBQUMsQ0FDM0R3RSxRQUFRLEVBQUUsRUFBQy9MLGFBQUEsR0FBQUUsQ0FBQSxRQUVkLEtBQU0sS0FBSSxDQUFDeUUsbUJBQW1CLENBQzVCRixXQUFXLENBQUNHLElBQUksQ0FDaEI5RCxPQUFBLENBQUF1RCxTQUFTLENBQUNxTSxZQUFZLENBQ3RCLGlCQUFpQixDQUNsQixDQUFDMVEsYUFBQSxHQUFBRSxDQUFBLFFBRUYsTUFBTyxDQUFBdUUsV0FBVyxDQUFDRyxJQUFJLENBQ3pCLENBRUE7Ozs7Ozs7T0FRUSxLQUFNLENBQUFzRCxtQkFBbUJBLENBQy9CeUksU0FBb0IsQ0FDcEI5SSxZQUFvQixDQUNwQkosY0FBNEIsQ0FDNUJwQyxXQUF5QixDQUN6QkMsU0FBd0IsRUFBQXRGLGFBQUEsR0FBQXNCLENBQUEsT0FBQXRCLGFBQUEsR0FBQUUsQ0FBQSxRQUV4QjJILFlBQVksQ0FBR0EsWUFBWSxDQUFDNUUsV0FBVyxFQUFFLENBQ3pDLEtBQU0sQ0FBQTJOLE9BQU8sRUFBQTVRLGFBQUEsR0FBQUUsQ0FBQSxRQUFHMkgsWUFBWSxHQUFLdEgsUUFBQSxDQUFBaUosTUFBTSxDQUFDN0IsV0FBVyxFQUNuRCxHQUFJLENBQUFrSixRQUFRLEVBQUE3USxhQUFBLEdBQUFFLENBQUEsUUFBRyxFQUFFLEVBQUNGLGFBQUEsR0FBQUUsQ0FBQSxRQUNsQixHQUFJLENBQUMwUSxPQUFPLENBQUUsQ0FBQTVRLGFBQUEsR0FBQW9CLENBQUEsVUFBQXBCLGFBQUEsR0FBQUUsQ0FBQSxRQUNaLEdBQUkySCxZQUFZLEdBQUksS0FBSSxDQUFDdEcsMkJBQTJCLENBQUUsQ0FBQXZCLGFBQUEsR0FBQW9CLENBQUEsVUFBQXBCLGFBQUEsR0FBQUUsQ0FBQSxRQUNwRDJRLFFBQVEsQ0FBRyxJQUFJLENBQUN0UCwyQkFBMkIsQ0FBQ3NHLFlBQVksQ0FBQyxDQUMzRCxDQUFDLElBQU0sQ0FBQTdILGFBQUEsR0FBQW9CLENBQUEsVUFDTCxLQUFNLENBQUEwUCxZQUFZLEVBQUE5USxhQUFBLEdBQUFFLENBQUEsUUFBRyxLQUFNLEtBQUksQ0FBQzhCLEdBQUcsQ0FBQytPLGVBQWUsQ0FBQ2xKLFlBQVksQ0FBQyxFQUFDN0gsYUFBQSxHQUFBRSxDQUFBLFFBQ2xFLElBQUksQ0FBQ3FCLDJCQUEyQixDQUFDc0csWUFBWSxDQUFDLENBQUdpSixZQUFZLENBQUNELFFBQVEsQ0FBQzdRLGFBQUEsR0FBQUUsQ0FBQSxRQUN2RTJRLFFBQVEsQ0FBR0MsWUFBWSxDQUFDRCxRQUFRLENBQ2xDLENBQ0YsQ0FBQyxLQUFBN1EsYUFBQSxHQUFBb0IsQ0FBQSxXQUVELEtBQU0sQ0FBQTRQLGNBQWMsRUFBQWhSLGFBQUEsR0FBQUUsQ0FBQSxRQUFHSyxRQUFBLENBQUFpSixNQUFNLENBQUN5SCxVQUFVLENBQUM1TCxXQUFXLENBQUN6RCxRQUFRLEVBQUUsQ0FBRWlQLFFBQVEsQ0FBQyxFQUMxRSxLQUFNLENBQUFLLFlBQVksRUFBQWxSLGFBQUEsR0FBQUUsQ0FBQSxRQUFHb0YsU0FBUyxFQUFBdEYsYUFBQSxHQUFBb0IsQ0FBQSxVQUMxQmIsUUFBQSxDQUFBaUosTUFBTSxDQUFDeUgsVUFBVSxDQUFDM0wsU0FBUyxDQUFDMUQsUUFBUSxFQUFFLENBQUVpUCxRQUFRLENBQUMsR0FBQTdRLGFBQUEsR0FBQW9CLENBQUEsVUFDakQrRixTQUFTLEdBQ2IsS0FBTSxDQUFBZ0ssWUFBWSxFQUFBblIsYUFBQSxHQUFBRSxDQUFBLFFBQ2hCZ1IsWUFBWSxHQUFLL0osU0FBUyxFQUFBbkgsYUFBQSxHQUFBb0IsQ0FBQSxVQUFHNFAsY0FBYyxDQUFHRSxZQUFZLEdBQUFsUixhQUFBLEdBQUFvQixDQUFBLFVBQUcsRUFBRSxHQUVqRSxLQUFNLENBQUE2RyxTQUFTLEVBQUFqSSxhQUFBLEdBQUFFLENBQUEsUUFBRzhRLGNBQWMsRUFDaEMsS0FBTSxDQUFBbkgsUUFBUSxFQUFBN0osYUFBQSxHQUFBRSxDQUFBLFFBQUdnUixZQUFZLEVBRTdCO0FBQUFsUixhQUFBLEdBQUFFLENBQUEsUUFDQSxHQUFJLENBQUFGLGFBQUEsR0FBQW9CLENBQUEsVUFBQWlFLFdBQVcsRUFBSSxJQUFJLElBQUFyRixhQUFBLEdBQUFvQixDQUFBLFVBQUk0UCxjQUFjLENBQUcsQ0FBQyxFQUFFLENBQUFoUixhQUFBLEdBQUFvQixDQUFBLFVBQUFwQixhQUFBLEdBQUFFLENBQUEsUUFDN0MsS0FBTSxJQUFJLENBQUEwSixLQUFLLENBQUMsc0NBQXNDLENBQUMsQ0FDekQsQ0FBQyxLQUFBNUosYUFBQSxHQUFBb0IsQ0FBQSxXQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQ0QsR0FBSSxDQUFBRixhQUFBLEdBQUFvQixDQUFBLFVBQUF3UCxPQUFPLElBQUE1USxhQUFBLEdBQUFvQixDQUFBLFVBQUl1UCxTQUFTLEdBQUs3UCxPQUFBLENBQUFxSCxTQUFTLENBQUNDLEtBQUssRUFBRSxDQUFBcEksYUFBQSxHQUFBb0IsQ0FBQSxVQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQzVDLEtBQU0sSUFBSSxDQUFBMEosS0FBSyxDQUFDLGlEQUFpRCxDQUFDLENBQ3BFLENBQUMsS0FBQTVKLGFBQUEsR0FBQW9CLENBQUEsV0FBQXBCLGFBQUEsR0FBQUUsQ0FBQSxRQUNELEdBQUlpUixZQUFZLENBQUcsQ0FBQyxDQUFFLENBQUFuUixhQUFBLEdBQUFvQixDQUFBLFVBQUFwQixhQUFBLEdBQUFFLENBQUEsUUFDcEIsS0FBTSxJQUFJLENBQUEwSixLQUFLLENBQ2IsMERBQTBELENBQzNELENBQ0gsQ0FBQyxLQUFBNUosYUFBQSxHQUFBb0IsQ0FBQSxXQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQ0QsR0FBSSxDQUFBRixhQUFBLEdBQUFvQixDQUFBLFVBQUErUCxZQUFZLENBQUcsQ0FBQyxJQUFBblIsYUFBQSxHQUFBb0IsQ0FBQSxVQUFJNEcsTUFBTSxDQUFDUCxjQUFjLENBQUMsR0FBSyxFQUFFLEVBQUUsQ0FBQXpILGFBQUEsR0FBQW9CLENBQUEsVUFBQXBCLGFBQUEsR0FBQUUsQ0FBQSxRQUNyRCxLQUFNLElBQUksQ0FBQTBKLEtBQUssQ0FDYiw0REFBNEQsQ0FDN0QsQ0FDSCxDQUFDLEtBQUE1SixhQUFBLEdBQUFvQixDQUFBLFdBQUFwQixhQUFBLEdBQUFFLENBQUEsUUFDRCxNQUFPLENBQUUrSCxTQUFTLENBQUU0QixRQUFRLENBQUUsQ0FDaEMsQ0FFUXpGLFNBQVNBLENBQUNiLEtBQWdCLENBQUU2TixJQUFlLEVBQUFwUixhQUFBLEdBQUFzQixDQUFBLE9BQUF0QixhQUFBLEdBQUFFLENBQUEsUUFDakQsSUFBSSxDQUFDMkMsUUFBUSxDQUFDd08sSUFBSSxDQUFDOU4sS0FBSyxDQUFFNk4sSUFBSSxDQUFDLENBQ2pDLENBRUEsOERBQ1EsS0FBTSxDQUFBRSxxQkFBcUJBLENBQUEsRUFBQXRSLGFBQUEsR0FBQXNCLENBQUEsT0FDakMsS0FBTSxDQUFBaVEsaUJBQWlCLEVBQUF2UixhQUFBLEdBQUFFLENBQUEsUUFBYSxFQUFFLEVBQUNGLGFBQUEsR0FBQUUsQ0FBQSxRQUV2QyxHQUFJLFNBQVMsRUFBSSxLQUFJLENBQUNpQyxpQkFBaUIsQ0FBRSxDQUFBbkMsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQ3ZDcVIsaUJBQWlCLENBQUNuTCxJQUFJLENBQUMsSUFBSSxDQUFDakUsaUJBQWlCLENBQUNpSixPQUFpQixDQUFDLENBQ2xFLENBQUMsSUFBTSxDQUFBcEwsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFdBQUksY0FBYyxFQUFJLEtBQUksQ0FBQ2lDLGlCQUFpQixDQUFFLENBQUFuQyxhQUFBLEdBQUFvQixDQUFBLFVBQ25ELEtBQU0sQ0FBQW9RLFNBQVMsRUFBQXhSLGFBQUEsR0FBQUUsQ0FBQSxRQUFHLENBQUMsS0FBTSxLQUFJLENBQUNpQyxpQkFBaUIsQ0FBQ3NQLFlBQVksRUFBRSxFQUFFaEwsR0FBRyxDQUNoRWlMLElBQUksRUFBSyxDQUFBMVIsYUFBQSxHQUFBc0IsQ0FBQSxPQUFBdEIsYUFBQSxHQUFBRSxDQUFBLGVBQUF3UixJQUFJLENBQUN0RyxPQUFPLENBQVAsQ0FBTyxDQUN2QixFQUFDcEwsYUFBQSxHQUFBRSxDQUFBLFFBQ0ZxUixpQkFBaUIsQ0FBQ25MLElBQUksQ0FBQyxHQUFHb0wsU0FBUyxDQUFDLENBQ3RDLENBQUMsSUFBTSxDQUFBeFIsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFdBQUksWUFBWSxFQUFJLEtBQUksQ0FBQ2lDLGlCQUFpQixDQUFFLENBQUFuQyxhQUFBLEdBQUFvQixDQUFBLFVBQUFwQixhQUFBLEdBQUFFLENBQUEsUUFDakRxUixpQkFBaUIsQ0FBQ25MLElBQUksQ0FBQyxLQUFNLEtBQUksQ0FBQ2pFLGlCQUFpQixDQUFDdUwsVUFBVSxFQUFFLENBQUMsQ0FDbkUsQ0FBQyxLQUFBMU4sYUFBQSxHQUFBb0IsQ0FBQSxXQUFELEVBQUNwQixhQUFBLEdBQUFFLENBQUEsUUFFRCxNQUFPLENBQUFxUixpQkFBaUIsQ0FDMUIsQ0FFQTs7O09BSVEsS0FBTSxDQUFBeE4sMEJBQTBCQSxDQUFDRCxjQUFzQixFQUFBOUQsYUFBQSxHQUFBc0IsQ0FBQSxPQUM3RCxLQUFNLENBQUFxUSx5QkFBeUIsRUFBQTNSLGFBQUEsR0FBQUUsQ0FBQSxRQUFHSyxRQUFBLENBQUFpSixNQUFNLENBQUNrRSxVQUFVLENBQUM1SixjQUFjLENBQUMsRUFDbkUsS0FBTSxDQUFBeU4saUJBQWlCLEVBQUF2UixhQUFBLEdBQUFFLENBQUEsUUFBRyxLQUFNLEtBQUksQ0FBQ29SLHFCQUFxQixFQUFFLEVBQUN0UixhQUFBLEdBQUFFLENBQUEsUUFFN0QsR0FBSXFSLGlCQUFpQixDQUFDbk8sUUFBUSxDQUFDdU8seUJBQXlCLENBQUMsQ0FBRSxDQUFBM1IsYUFBQSxHQUFBb0IsQ0FBQSxVQUFBcEIsYUFBQSxHQUFBRSxDQUFBLFFBQ3pELE9BQ0YsQ0FBQyxLQUFBRixhQUFBLEdBQUFvQixDQUFBLFdBQUFwQixhQUFBLEdBQUFFLENBQUEsUUFFRCxLQUFNLElBQUksQ0FBQTBKLEtBQUssQ0FDYix5RUFBeUUrSCx5QkFBeUIseUJBQ2hHSixpQkFBaUIsQ0FBQ0ssTUFBTSxDQUFHLENBQUMsRUFBQTVSLGFBQUEsR0FBQW9CLENBQUEsVUFBR21RLGlCQUFpQixDQUFDTSxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUE3UixhQUFBLEdBQUFvQixDQUFBLFVBQUcsTUFDaEUsR0FBRSxDQUNILENBQ0gsQ0FFQTs7Ozs7T0FNUSxLQUFNLENBQUF1RCxtQkFBbUJBLENBQy9CMkksZUFBdUIsQ0FDdkIvSixLQUFnQixDQUNoQnVPLFdBQW1CLEVBQUE5UixhQUFBLEdBQUFzQixDQUFBLE9BRW5CLEtBQU0sQ0FBQXlRLG9CQUFvQixFQUFBL1IsYUFBQSxHQUFBRSxDQUFBLFFBQUcsQ0FBRW9OLGVBQWUsQ0FBRS9KLEtBQUssQ0FBRSxFQUFDdkQsYUFBQSxHQUFBRSxDQUFBLFFBQ3hELElBQUksQ0FBQ21CLE1BQU0sQ0FBQyx3QkFBd0J5USxXQUFXLEVBQUUsQ0FBQyxDQUFDOVIsYUFBQSxHQUFBRSxDQUFBLFFBRW5ELEdBQUksQ0FBQUYsYUFBQSxHQUFBRSxDQUFBLFFBQ0YsSUFBSSxDQUFDa0UsU0FBUyxDQUFDdEQsT0FBQSxDQUFBdUQsU0FBUyxDQUFDMk4sa0JBQWtCLENBQUVELG9CQUFvQixDQUFDLENBQUMvUixhQUFBLEdBQUFFLENBQUEsUUFDbkUsS0FBTSxLQUFJLENBQUNnQyxRQUFRLENBQUMrUCxrQkFBa0IsQ0FBQzNFLGVBQWUsQ0FBQyxDQUFDdE4sYUFBQSxHQUFBRSxDQUFBLFFBQ3hELElBQUksQ0FBQ21CLE1BQU0sQ0FBQywwQkFBMEJ5USxXQUFXLEVBQUUsQ0FBQyxDQUFDOVIsYUFBQSxHQUFBRSxDQUFBLFFBQ3JELElBQUksQ0FBQ2tFLFNBQVMsQ0FBQ3RELE9BQUEsQ0FBQXVELFNBQVMsQ0FBQzZOLG9CQUFvQixDQUFFSCxvQkFBb0IsQ0FBQyxDQUN0RSxDQUFFLE1BQU83TyxLQUFLLENBQUUsQ0FBQWxELGFBQUEsR0FBQUUsQ0FBQSxRQUNkLElBQUksQ0FBQ21CLE1BQU0sQ0FBQyx1QkFBdUJ5USxXQUFXLEVBQUUsQ0FBQyxDQUFDOVIsYUFBQSxHQUFBRSxDQUFBLFFBQ2xELElBQUksQ0FBQ2tFLFNBQVMsQ0FBQ3RELE9BQUEsQ0FBQXVELFNBQVMsQ0FBQzhOLGlCQUFpQixDQUFFLENBQzFDLEdBQUdKLG9CQUFvQixDQUN2QjdPLEssQ0FDRCxDQUFDLENBQUNsRCxhQUFBLEdBQUFFLENBQUEsUUFDSCxLQUFNLENBQUFnRCxLQUFLLENBQ2IsQ0FDRixDLENBQ0RsRCxhQUFBLEdBQUFFLENBQUEsUUFqd0NEa1MsT0FBQSxDQUFBcFIsVUFBQSxDQUFBQSxVQUFBLEMiLCJpZ25vcmVMaXN0IjpbXX0=