"use strict";function cov_1r76ud9kcq(){var path="/Users/rg/dev/opensea-js/src/api/api.ts";var hash="32e39dfa8894f868d7c3f385077c1a6a32ca0db8";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/rg/dev/opensea-js/src/api/api.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:28}},"2":{start:{line:4,column:17},end:{line:4,column:34}},"3":{start:{line:5,column:19},end:{line:5,column:40}},"4":{start:{line:6,column:20},end:{line:6,column:43}},"5":{start:{line:7,column:16},end:{line:7,column:42}},"6":{start:{line:8,column:16},end:{line:8,column:35}},"7":{start:{line:9,column:16},end:{line:9,column:41}},"8":{start:{line:11,column:4},end:{line:15,column:7}},"9":{start:{line:12,column:8},end:{line:14,column:21}},"10":{start:{line:13,column:12},end:{line:13,column:22}},"11":{start:{line:31,column:8},end:{line:31,column:27}},"12":{start:{line:32,column:8},end:{line:32,column:36}},"13":{start:{line:33,column:8},end:{line:33,column:59}},"14":{start:{line:34,column:8},end:{line:36,column:43}},"15":{start:{line:38,column:8},end:{line:38,column:47}},"16":{start:{line:38,column:42},end:{line:38,column:45}},"17":{start:{line:59,column:27},end:{line:64,column:11}},"18":{start:{line:65,column:8},end:{line:67,column:9}},"19":{start:{line:66,column:12},end:{line:66,column:66}},"20":{start:{line:68,column:8},end:{line:68,column:56}},"21":{start:{line:87,column:25},end:{line:92,column:11}},"22":{start:{line:93,column:8},end:{line:96,column:10}},"23":{start:{line:106,column:25},end:{line:109,column:10}},"24":{start:{line:110,column:8},end:{line:110,column:24}},"25":{start:{line:120,column:25},end:{line:123,column:10}},"26":{start:{line:124,column:8},end:{line:124,column:24}},"27":{start:{line:133,column:25},end:{line:133,column:101}},"28":{start:{line:134,column:8},end:{line:134,column:24}},"29":{start:{line:143,column:25},end:{line:143,column:103}},"30":{start:{line:144,column:8},end:{line:144,column:24}},"31":{start:{line:154,column:25},end:{line:157,column:10}},"32":{start:{line:158,column:8},end:{line:158,column:24}},"33":{start:{line:169,column:22},end:{line:169,column:26}},"34":{start:{line:170,column:8},end:{line:175,column:9}},"35":{start:{line:171,column:12},end:{line:171,column:118}},"36":{start:{line:174,column:12},end:{line:174,column:116}},"37":{start:{line:176,column:25},end:{line:176,column:92}},"38":{start:{line:177,column:8},end:{line:177,column:24}},"39":{start:{line:191,column:64},end:{line:191,column:74}},"40":{start:{line:192,column:25},end:{line:192,column:151}},"41":{start:{line:193,column:8},end:{line:193,column:61}},"42":{start:{line:206,column:8},end:{line:208,column:9}},"43":{start:{line:207,column:12},end:{line:207,column:96}},"44":{start:{line:209,column:24},end:{line:209,column:156}},"45":{start:{line:210,column:25},end:{line:210,column:86}},"46":{start:{line:211,column:8},end:{line:211,column:24}},"47":{start:{line:219,column:8},end:{line:219,column:77}},"48":{start:{line:228,column:24},end:{line:228,column:79}},"49":{start:{line:229,column:8},end:{line:229,column:86}},"50":{start:{line:239,column:25},end:{line:242,column:10}},"51":{start:{line:243,column:8},end:{line:243,column:24}},"52":{start:{line:254,column:25},end:{line:257,column:10}},"53":{start:{line:258,column:8},end:{line:258,column:24}},"54":{start:{line:269,column:25},end:{line:272,column:10}},"55":{start:{line:273,column:8},end:{line:273,column:24}},"56":{start:{line:283,column:25},end:{line:283,column:95}},"57":{start:{line:284,column:8},end:{line:284,column:24}},"58":{start:{line:292,column:21},end:{line:292,column:60}},"59":{start:{line:293,column:25},end:{line:293,column:45}},"60":{start:{line:294,column:8},end:{line:294,column:57}},"61":{start:{line:302,column:21},end:{line:302,column:65}},"62":{start:{line:303,column:25},end:{line:303,column:45}},"63":{start:{line:304,column:8},end:{line:304,column:24}},"64":{start:{line:313,column:21},end:{line:313,column:88}},"65":{start:{line:314,column:8},end:{line:314,column:55}},"66":{start:{line:323,column:21},end:{line:323,column:76}},"67":{start:{line:324,column:8},end:{line:324,column:50}},"68":{start:{line:334,column:25},end:{line:334,column:112}},"69":{start:{line:335,column:8},end:{line:335,column:24}},"70":{start:{line:344,column:19},end:{line:344,column:51}},"71":{start:{line:345,column:20},end:{line:345,column:56}},"72":{start:{line:346,column:8},end:{line:346,column:38}},"73":{start:{line:356,column:20},end:{line:356,column:50}},"74":{start:{line:357,column:8},end:{line:357,column:50}},"75":{start:{line:360,column:32},end:{line:360,column:53}},"76":{start:{line:361,column:8},end:{line:368,column:11}},"77":{start:{line:362,column:12},end:{line:367,column:13}},"78":{start:{line:363,column:16},end:{line:363,column:83}},"79":{start:{line:363,column:40},end:{line:363,column:81}},"80":{start:{line:365,column:17},end:{line:367,column:13}},"81":{start:{line:366,column:16},end:{line:366,column:51}},"82":{start:{line:369,column:8},end:{line:369,column:42}},"83":{start:{line:378,column:20},end:{line:378,column:57}},"84":{start:{line:380,column:8},end:{line:384,column:10}},"85":{start:{line:385,column:8},end:{line:387,column:9}},"86":{start:{line:386,column:12},end:{line:386,column:38}},"87":{start:{line:389,column:8},end:{line:391,column:9}},"88":{start:{line:390,column:12},end:{line:390,column:28}},"89":{start:{line:395,column:8},end:{line:400,column:10}},"90":{start:{line:396,column:12},end:{line:396,column:90}},"91":{start:{line:398,column:12},end:{line:398,column:30}},"92":{start:{line:399,column:12},end:{line:399,column:24}},"93":{start:{line:401,column:8},end:{line:404,column:14}},"94":{start:{line:405,column:25},end:{line:405,column:41}},"95":{start:{line:406,column:8},end:{line:417,column:9}},"96":{start:{line:408,column:27},end:{line:408,column:52}},"97":{start:{line:409,column:12},end:{line:416,column:13}},"98":{start:{line:410,column:16},end:{line:410,column:70}},"99":{start:{line:415,column:16},end:{line:415,column:36}},"100":{start:{line:418,column:8},end:{line:418,column:33}},"101":{start:{line:421,column:0},end:{line:421,column:32}}},fnMap:{"0":{name:"stall",decl:{start:{line:10,column:9},end:{line:10,column:14}},loc:{start:{line:10,column:25},end:{line:16,column:1}},line:10},"1":{name:"(anonymous_1)",decl:{start:{line:11,column:23},end:{line:11,column:24}},loc:{start:{line:11,column:36},end:{line:15,column:5}},line:11},"2":{name:"(anonymous_2)",decl:{start:{line:12,column:19},end:{line:12,column:20}},loc:{start:{line:12,column:25},end:{line:14,column:9}},line:12},"3":{name:"(anonymous_3)",decl:{start:{line:27,column:4},end:{line:27,column:5}},loc:{start:{line:27,column:32},end:{line:39,column:5}},line:27},"4":{name:"(anonymous_4)",decl:{start:{line:38,column:33},end:{line:38,column:34}},loc:{start:{line:38,column:42},end:{line:38,column:45}},line:38},"5":{name:"(anonymous_5)",decl:{start:{line:58,column:4},end:{line:58,column:5}},loc:{start:{line:58,column:118},end:{line:69,column:5}},line:58},"6":{name:"(anonymous_6)",decl:{start:{line:86,column:4},end:{line:86,column:5}},loc:{start:{line:86,column:119},end:{line:97,column:5}},line:86},"7":{name:"(anonymous_7)",decl:{start:{line:105,column:4},end:{line:105,column:5}},loc:{start:{line:105,column:52},end:{line:111,column:5}},line:105},"8":{name:"(anonymous_8)",decl:{start:{line:119,column:4},end:{line:119,column:5}},loc:{start:{line:119,column:54},end:{line:125,column:5}},line:119},"9":{name:"(anonymous_9)",decl:{start:{line:132,column:4},end:{line:132,column:5}},loc:{start:{line:132,column:48},end:{line:135,column:5}},line:132},"10":{name:"(anonymous_10)",decl:{start:{line:142,column:4},end:{line:142,column:5}},loc:{start:{line:142,column:50},end:{line:145,column:5}},line:142},"11":{name:"(anonymous_11)",decl:{start:{line:153,column:4},end:{line:153,column:5}},loc:{start:{line:153,column:55},end:{line:159,column:5}},line:153},"12":{name:"(anonymous_12)",decl:{start:{line:168,column:4},end:{line:168,column:5}},loc:{start:{line:168,column:86},end:{line:178,column:5}},line:168},"13":{name:"(anonymous_13)",decl:{start:{line:189,column:4},end:{line:189,column:5}},loc:{start:{line:189,column:39},end:{line:194,column:5}},line:189},"14":{name:"(anonymous_14)",decl:{start:{line:205,column:4},end:{line:205,column:5}},loc:{start:{line:205,column:117},end:{line:212,column:5}},line:205},"15":{name:"(anonymous_15)",decl:{start:{line:218,column:4},end:{line:218,column:5}},loc:{start:{line:218,column:36},end:{line:220,column:5}},line:218},"16":{name:"(anonymous_16)",decl:{start:{line:227,column:4},end:{line:227,column:5}},loc:{start:{line:227,column:43},end:{line:230,column:5}},line:227},"17":{name:"(anonymous_17)",decl:{start:{line:238,column:4},end:{line:238,column:5}},loc:{start:{line:238,column:73},end:{line:244,column:5}},line:238},"18":{name:"(anonymous_18)",decl:{start:{line:253,column:4},end:{line:253,column:5}},loc:{start:{line:253,column:94},end:{line:259,column:5}},line:253},"19":{name:"(anonymous_19)",decl:{start:{line:268,column:4},end:{line:268,column:5}},loc:{start:{line:268,column:93},end:{line:274,column:5}},line:268},"20":{name:"(anonymous_20)",decl:{start:{line:282,column:4},end:{line:282,column:5}},loc:{start:{line:282,column:58},end:{line:285,column:5}},line:282},"21":{name:"(anonymous_21)",decl:{start:{line:291,column:4},end:{line:291,column:5}},loc:{start:{line:291,column:30},end:{line:295,column:5}},line:291},"22":{name:"(anonymous_22)",decl:{start:{line:301,column:4},end:{line:301,column:5}},loc:{start:{line:301,column:35},end:{line:305,column:5}},line:301},"23":{name:"(anonymous_23)",decl:{start:{line:312,column:4},end:{line:312,column:5}},loc:{start:{line:312,column:55},end:{line:315,column:5}},line:312},"24":{name:"(anonymous_24)",decl:{start:{line:322,column:4},end:{line:322,column:5}},loc:{start:{line:322,column:30},end:{line:325,column:5}},line:322},"25":{name:"(anonymous_25)",decl:{start:{line:333,column:4},end:{line:333,column:5}},loc:{start:{line:333,column:70},end:{line:336,column:5}},line:333},"26":{name:"(anonymous_26)",decl:{start:{line:343,column:4},end:{line:343,column:5}},loc:{start:{line:343,column:35},end:{line:347,column:5}},line:343},"27":{name:"(anonymous_27)",decl:{start:{line:355,column:4},end:{line:355,column:5}},loc:{start:{line:355,column:36},end:{line:358,column:5}},line:355},"28":{name:"(anonymous_28)",decl:{start:{line:359,column:4},end:{line:359,column:5}},loc:{start:{line:359,column:38},end:{line:370,column:5}},line:359},"29":{name:"(anonymous_29)",decl:{start:{line:361,column:39},end:{line:361,column:40}},loc:{start:{line:361,column:57},end:{line:368,column:9}},line:361},"30":{name:"(anonymous_30)",decl:{start:{line:363,column:30},end:{line:363,column:31}},loc:{start:{line:363,column:40},end:{line:363,column:81}},line:363},"31":{name:"(anonymous_31)",decl:{start:{line:376,column:4},end:{line:376,column:5}},loc:{start:{line:376,column:37},end:{line:419,column:5}},line:376},"32":{name:"(anonymous_32)",decl:{start:{line:395,column:24},end:{line:395,column:25}},loc:{start:{line:395,column:55},end:{line:400,column:9}},line:395}},branchMap:{"0":{loc:{start:{line:33,column:21},end:{line:33,column:58}},type:"binary-expr",locations:[{start:{line:33,column:21},end:{line:33,column:33}},{start:{line:33,column:37},end:{line:33,column:58}}],line:33},"1":{loc:{start:{line:34,column:26},end:{line:36,column:42}},type:"cond-expr",locations:[{start:{line:35,column:14},end:{line:35,column:42}},{start:{line:36,column:14},end:{line:36,column:42}}],line:34},"2":{loc:{start:{line:38,column:22},end:{line:38,column:46}},type:"binary-expr",locations:[{start:{line:38,column:22},end:{line:38,column:28}},{start:{line:38,column:33},end:{line:38,column:45}}],line:38},"3":{loc:{start:{line:58,column:27},end:{line:58,column:47}},type:"default-arg",locations:[{start:{line:58,column:38},end:{line:58,column:47}}],line:58},"4":{loc:{start:{line:58,column:49},end:{line:58,column:72}},type:"default-arg",locations:[{start:{line:58,column:66},end:{line:58,column:72}}],line:58},"5":{loc:{start:{line:58,column:74},end:{line:58,column:98}},type:"default-arg",locations:[{start:{line:58,column:84},end:{line:58,column:98}}],line:58},"6":{loc:{start:{line:65,column:8},end:{line:67,column:9}},type:"if",locations:[{start:{line:65,column:8},end:{line:67,column:9}},{start:{line:65,column:8},end:{line:67,column:9}}],line:65},"7":{loc:{start:{line:86,column:28},end:{line:86,column:48}},type:"default-arg",locations:[{start:{line:86,column:39},end:{line:86,column:48}}],line:86},"8":{loc:{start:{line:86,column:50},end:{line:86,column:73}},type:"default-arg",locations:[{start:{line:86,column:67},end:{line:86,column:73}}],line:86},"9":{loc:{start:{line:86,column:75},end:{line:86,column:99}},type:"default-arg",locations:[{start:{line:86,column:85},end:{line:86,column:99}}],line:86},"10":{loc:{start:{line:170,column:8},end:{line:175,column:9}},type:"if",locations:[{start:{line:170,column:8},end:{line:175,column:9}},{start:{line:170,column:8},end:{line:175,column:9}}],line:170},"11":{loc:{start:{line:191,column:16},end:{line:191,column:36}},type:"default-arg",locations:[{start:{line:191,column:27},end:{line:191,column:36}}],line:191},"12":{loc:{start:{line:205,column:63},end:{line:205,column:92}},type:"default-arg",locations:[{start:{line:205,column:88},end:{line:205,column:92}}],line:205},"13":{loc:{start:{line:206,column:8},end:{line:208,column:9}},type:"if",locations:[{start:{line:206,column:8},end:{line:208,column:9}},{start:{line:206,column:8},end:{line:208,column:9}}],line:206},"14":{loc:{start:{line:206,column:12},end:{line:206,column:66}},type:"binary-expr",locations:[{start:{line:206,column:12},end:{line:206,column:21}},{start:{line:206,column:25},end:{line:206,column:35}},{start:{line:206,column:40},end:{line:206,column:50}},{start:{line:206,column:54},end:{line:206,column:65}}],line:206},"15":{loc:{start:{line:238,column:36},end:{line:238,column:53}},type:"default-arg",locations:[{start:{line:238,column:44},end:{line:238,column:53}}],line:238},"16":{loc:{start:{line:238,column:55},end:{line:238,column:71}},type:"default-arg",locations:[{start:{line:238,column:62},end:{line:238,column:71}}],line:238},"17":{loc:{start:{line:253,column:37},end:{line:253,column:54}},type:"default-arg",locations:[{start:{line:253,column:45},end:{line:253,column:54}}],line:253},"18":{loc:{start:{line:253,column:56},end:{line:253,column:72}},type:"default-arg",locations:[{start:{line:253,column:63},end:{line:253,column:72}}],line:253},"19":{loc:{start:{line:253,column:74},end:{line:253,column:92}},type:"default-arg",locations:[{start:{line:253,column:82},end:{line:253,column:92}}],line:253},"20":{loc:{start:{line:268,column:36},end:{line:268,column:53}},type:"default-arg",locations:[{start:{line:268,column:44},end:{line:268,column:53}}],line:268},"21":{loc:{start:{line:268,column:55},end:{line:268,column:71}},type:"default-arg",locations:[{start:{line:268,column:62},end:{line:268,column:71}}],line:268},"22":{loc:{start:{line:268,column:73},end:{line:268,column:91}},type:"default-arg",locations:[{start:{line:268,column:81},end:{line:268,column:91}}],line:268},"23":{loc:{start:{line:282,column:38},end:{line:282,column:56}},type:"default-arg",locations:[{start:{line:282,column:46},end:{line:282,column:56}}],line:282},"24":{loc:{start:{line:312,column:35},end:{line:312,column:53}},type:"default-arg",locations:[{start:{line:312,column:43},end:{line:312,column:53}}],line:312},"25":{loc:{start:{line:333,column:50},end:{line:333,column:68}},type:"default-arg",locations:[{start:{line:333,column:58},end:{line:333,column:68}}],line:333},"26":{loc:{start:{line:343,column:23},end:{line:343,column:33}},type:"default-arg",locations:[{start:{line:343,column:31},end:{line:343,column:33}}],line:343},"27":{loc:{start:{line:359,column:25},end:{line:359,column:36}},type:"default-arg",locations:[{start:{line:359,column:34},end:{line:359,column:36}}],line:359},"28":{loc:{start:{line:362,column:12},end:{line:367,column:13}},type:"if",locations:[{start:{line:362,column:12},end:{line:367,column:13}},{start:{line:362,column:12},end:{line:367,column:13}}],line:362},"29":{loc:{start:{line:362,column:16},end:{line:362,column:45}},type:"binary-expr",locations:[{start:{line:362,column:16},end:{line:362,column:21}},{start:{line:362,column:25},end:{line:362,column:45}}],line:362},"30":{loc:{start:{line:363,column:40},end:{line:363,column:81}},type:"binary-expr",locations:[{start:{line:363,column:40},end:{line:363,column:44}},{start:{line:363,column:48},end:{line:363,column:81}}],line:363},"31":{loc:{start:{line:365,column:17},end:{line:367,column:13}},type:"if",locations:[{start:{line:365,column:17},end:{line:367,column:13}},{start:{line:365,column:17},end:{line:367,column:13}}],line:365},"32":{loc:{start:{line:382,column:16},end:{line:382,column:63}},type:"cond-expr",locations:[{start:{line:382,column:30},end:{line:382,column:58}},{start:{line:382,column:61},end:{line:382,column:63}}],line:382},"33":{loc:{start:{line:389,column:8},end:{line:391,column:9}},type:"if",locations:[{start:{line:389,column:8},end:{line:391,column:9}},{start:{line:389,column:8},end:{line:391,column:9}}],line:389},"34":{loc:{start:{line:406,column:8},end:{line:417,column:9}},type:"if",locations:[{start:{line:406,column:8},end:{line:417,column:9}},{start:{line:406,column:8},end:{line:417,column:9}}],line:406},"35":{loc:{start:{line:409,column:12},end:{line:416,column:13}},type:"if",locations:[{start:{line:409,column:12},end:{line:416,column:13}},{start:{line:409,column:12},end:{line:416,column:13}}],line:409}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0],"4":[0],"5":[0],"6":[0,0],"7":[0],"8":[0],"9":[0],"10":[0,0],"11":[0],"12":[0],"13":[0,0],"14":[0,0,0,0],"15":[0],"16":[0],"17":[0],"18":[0],"19":[0],"20":[0],"21":[0],"22":[0],"23":[0],"24":[0],"25":[0],"26":[0],"27":[0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0]},inputSourceMap:{version:3,file:"/Users/rg/dev/opensea-js/src/api/api.ts",sources:["/Users/rg/dev/opensea-js/src/api/api.ts"],names:[],mappings:"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",sourcesContent:["import { ethers } from \"ethers\";\nimport {\n  getCollectionPath,\n  getOrdersAPIPath,\n  getPostCollectionOfferPath,\n  getBuildOfferPath,\n  getListNFTsByCollectionPath,\n  getListNFTsByContractPath,\n  getNFTPath,\n  getRefreshMetadataPath,\n  getCollectionOffersPath,\n  getListNFTsByAccountPath,\n  getBestOfferAPIPath,\n  getBestListingAPIPath,\n  getAllOffersAPIPath,\n  getAllListingsAPIPath,\n  getPaymentTokenPath,\n  getAccountPath,\n  getCollectionStatsPath,\n  getBestListingsAPIPath,\n} from \"./apiPaths\";\nimport {\n  BuildOfferResponse,\n  GetCollectionResponse,\n  ListNFTsResponse,\n  GetNFTResponse,\n  ListCollectionOffersResponse,\n  GetOrdersResponse,\n  GetBestOfferResponse,\n  GetBestListingResponse,\n  GetOffersResponse,\n  GetListingsResponse,\n  CollectionOffer,\n} from \"./types\";\nimport { API_BASE_MAINNET, API_BASE_TESTNET } from \"../constants\";\nimport {\n  FulfillmentDataResponse,\n  OrderAPIOptions,\n  OrdersPostQueryResponse,\n  OrdersQueryOptions,\n  OrdersQueryResponse,\n  OrderV2,\n  ProtocolData,\n} from \"../orders/types\";\nimport {\n  serializeOrdersQueryOptions,\n  deserializeOrder,\n  getFulfillmentDataPath,\n  getFulfillListingPayload,\n  getFulfillOfferPayload,\n  getBuildCollectionOfferPayload,\n  getPostCollectionOfferPayload,\n} from \"../orders/utils\";\nimport {\n  Chain,\n  OpenSeaAPIConfig,\n  OpenSeaAccount,\n  OpenSeaCollection,\n  OpenSeaCollectionStats,\n  OpenSeaPaymentToken,\n  OrderSide,\n} from \"../types\";\nimport {\n  paymentTokenFromJSON,\n  collectionFromJSON,\n  isTestChain,\n  accountFromJSON,\n} from \"../utils/utils\";\n\nfunction stall(duration: number): Promise<void> {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve();\n    }, duration);\n  });\n}\n\n/**\n * The API class for the OpenSea SDK.\n * @category Main Classes\n */\nexport class OpenSeaAPI {\n  /**\n   * Base url for the API\n   */\n  public readonly apiBaseUrl: string;\n  /**\n   * Default size to use for fetching orders\n   */\n  public pageSize = 20;\n  /**\n   * Logger function to use when debugging\n   */\n  public logger: (arg: string) => void;\n\n  private apiKey: string | undefined;\n  private chain: Chain;\n\n  /**\n   * Create an instance of the OpenSeaAPI\n   * @param config OpenSeaAPIConfig for setting up the API, including an optional API key, Chain name, and base URL\n   * @param logger Optional function for logging debug strings before and after requests are made. Defaults to no logging\n   */\n  constructor(config: OpenSeaAPIConfig, logger?: (arg: string) => void) {\n    this.apiKey = config.apiKey;\n    this.chain = config.chain ?? Chain.Mainnet;\n\n    this.apiBaseUrl = isTestChain(this.chain)\n      ? API_BASE_TESTNET\n      : API_BASE_MAINNET;\n\n    // Debugging: default to nothing\n    this.logger = logger ?? ((arg: string) => arg);\n  }\n\n  /**\n   * Gets an order from API based on query options.\n   * @param options\n   * @param options.side The side of the order (buy or sell\n   * @param options.protocol The protocol, typically seaport, to query orders for\n   * @param options.orderDirection The direction to sort the orders\n   * @param options.orderBy The field to sort the orders by\n   * @param options.limit The number of orders to retrieve\n   * @param options.maker Filter by the wallet address of the order maker\n   * @param options.taker Filter by  wallet address of the order taker\n   * @param options.asset_contract_address Address of the NFT's contract\n   * @param options.token_ids String array of token IDs to filter by.\n   * @param options.listed_after Filter by orders listed after the Unix epoch timestamp in seconds\n   * @param options.listed_before Filter by orders listed before the Unix epoch timestamp in seconds\n   * @returns The first {@link OrderV2} returned by the API\n   *\n   * @throws An error if there are no matching orders.\n   */\n  public async getOrder({\n    side,\n    protocol = \"seaport\",\n    orderDirection = \"desc\",\n    orderBy = \"created_date\",\n    ...restOptions\n  }: Omit<OrdersQueryOptions, \"limit\">): Promise<OrderV2> {\n    const { orders } = await this.get<OrdersQueryResponse>(\n      getOrdersAPIPath(this.chain, protocol, side),\n      serializeOrdersQueryOptions({\n        limit: 1,\n        orderBy,\n        orderDirection,\n        ...restOptions,\n      }),\n    );\n    if (orders.length === 0) {\n      throw new Error(\"Not found: no matching order found\");\n    }\n    return deserializeOrder(orders[0]);\n  }\n\n  /**\n   * Gets a list of orders from API based on query options.\n   * @param options\n   * @param options.side The side of the order (buy or sell)\n   * @param options.protocol The protocol, typically seaport, to query orders for\n   * @param options.orderDirection The direction to sort the orders\n   * @param options.orderBy The field to sort the orders by\n   * @param options.limit The number of orders to retrieve\n   * @param options.maker Filter by the wallet address of the order maker\n   * @param options.taker Filter by  wallet address of the order taker\n   * @param options.asset_contract_address Address of the NFT's contract\n   * @param options.token_ids String array of token IDs to filter by.\n   * @param options.listed_after Filter by orders listed after the Unix epoch timestamp in seconds\n   * @param options.listed_before Filter by orders listed before the Unix epoch timestamp in seconds\n   * @returns The {@link GetOrdersResponse} returned by the API.\n   */\n  public async getOrders({\n    side,\n    protocol = \"seaport\",\n    orderDirection = \"desc\",\n    orderBy = \"created_date\",\n    ...restOptions\n  }: Omit<OrdersQueryOptions, \"limit\">): Promise<GetOrdersResponse> {\n    const response = await this.get<OrdersQueryResponse>(\n      getOrdersAPIPath(this.chain, protocol, side),\n      serializeOrdersQueryOptions({\n        limit: this.pageSize,\n        orderBy,\n        orderDirection,\n        ...restOptions,\n      }),\n    );\n    return {\n      ...response,\n      orders: response.orders.map(deserializeOrder),\n    };\n  }\n\n  /**\n   * Gets all offers for a given collection.\n   * @param collectionSlug The slug of the collection.\n   * @param limit The number of offers to return. Must be between 1 and 100. Default: 100\n   * @param next The cursor for the next page of results. This is returned from a previous request.\n   * @returns The {@link GetOffersResponse} returned by the API.\n   */\n  public async getAllOffers(\n    collectionSlug: string,\n    limit?: number,\n    next?: string,\n  ): Promise<GetOffersResponse> {\n    const response = await this.get<GetOffersResponse>(\n      getAllOffersAPIPath(collectionSlug),\n      {\n        limit,\n        next,\n      },\n    );\n    return response;\n  }\n\n  /**\n   * Gets all listings for a given collection.\n   * @param collectionSlug The slug of the collection.\n   * @param limit The number of listings to return. Must be between 1 and 100. Default: 100\n   * @param next The cursor for the next page of results. This is returned from a previous request.\n   * @returns The {@link GetListingsResponse} returned by the API.\n   */\n  public async getAllListings(\n    collectionSlug: string,\n    limit?: number,\n    next?: string,\n  ): Promise<GetListingsResponse> {\n    const response = await this.get<GetListingsResponse>(\n      getAllListingsAPIPath(collectionSlug),\n      {\n        limit,\n        next,\n      },\n    );\n    return response;\n  }\n\n  /**\n   * Gets the best offer for a given token.\n   * @param collectionSlug The slug of the collection.\n   * @param tokenId The token identifier.\n   * @returns The {@link GetBestOfferResponse} returned by the API.\n   */\n  public async getBestOffer(\n    collectionSlug: string,\n    tokenId: string | number,\n  ): Promise<GetBestOfferResponse> {\n    const response = await this.get<GetBestOfferResponse>(\n      getBestOfferAPIPath(collectionSlug, tokenId),\n    );\n    return response;\n  }\n\n  /**\n   * Gets the best listing for a given token.\n   * @param collectionSlug The slug of the collection.\n   * @param tokenId The token identifier.\n   * @returns The {@link GetBestListingResponse} returned by the API.\n   */\n  public async getBestListing(\n    collectionSlug: string,\n    tokenId: string | number,\n  ): Promise<GetBestListingResponse> {\n    const response = await this.get<GetBestListingResponse>(\n      getBestListingAPIPath(collectionSlug, tokenId),\n    );\n    return response;\n  }\n\n  /**\n   * Gets the best listings for a given collection.\n   * @param collectionSlug The slug of the collection.\n   * @param limit The number of listings to return. Must be between 1 and 100. Default: 100\n   * @param next The cursor for the next page of results. This is returned from a previous request.\n   * @returns The {@link GetListingsResponse} returned by the API.\n   */\n  public async getBestListings(\n    collectionSlug: string,\n    limit?: number,\n    next?: string,\n  ): Promise<GetListingsResponse> {\n    const response = await this.get<GetListingsResponse>(\n      getBestListingsAPIPath(collectionSlug),\n      {\n        limit,\n        next,\n      },\n    );\n    return response;\n  }\n\n  /**\n   * Generate the data needed to fulfill a listing or an offer onchain.\n   * @param fulfillerAddress The wallet address which will be used to fulfill the order\n   * @param orderHash The hash of the order to fulfill\n   * @param protocolAddress The address of the seaport contract\n   * @side The side of the order (buy or sell)\n   * @returns The {@link FulfillmentDataResponse}\n   */\n  public async generateFulfillmentData(\n    fulfillerAddress: string,\n    orderHash: string,\n    protocolAddress: string,\n    side: OrderSide,\n  ): Promise<FulfillmentDataResponse> {\n    let payload: object | null = null;\n    if (side === OrderSide.ASK) {\n      payload = getFulfillListingPayload(\n        fulfillerAddress,\n        orderHash,\n        protocolAddress,\n        this.chain,\n      );\n    } else {\n      payload = getFulfillOfferPayload(\n        fulfillerAddress,\n        orderHash,\n        protocolAddress,\n        this.chain,\n      );\n    }\n    const response = await this.post<FulfillmentDataResponse>(\n      getFulfillmentDataPath(side),\n      payload,\n    );\n    return response;\n  }\n\n  /**\n   * Post an order to OpenSea.\n   * @param order The order to post\n   * @param apiOptions\n   * @param apiOptions.protocol The protocol, typically seaport, to post the order to.\n   * @param apiOptions.side The side of the order (buy or sell).\n   * @param apiOptions.protocolAddress The address of the seaport contract.\n   * @param options\n   * @returns The {@link OrderV2} posted to the API.\n   */\n  public async postOrder(\n    order: ProtocolData,\n    apiOptions: OrderAPIOptions,\n  ): Promise<OrderV2> {\n    // TODO: Validate apiOptions. Avoid API calls that will definitely fail\n    const { protocol = \"seaport\", side, protocolAddress } = apiOptions;\n    const response = await this.post<OrdersPostQueryResponse>(\n      getOrdersAPIPath(this.chain, protocol, side),\n      { ...order, protocol_address: protocolAddress },\n    );\n    return deserializeOrder(response.order);\n  }\n\n  /**\n   * Build a OpenSea collection offer.\n   * @param offererAddress The wallet address which is creating the offer.\n   * @param quantity The number of NFTs requested in the offer.\n   * @param collectionSlug The slug (identifier) of the collection to build the offer for.\n   * @param offerProtectionEnabled Build the offer on OpenSea's signed zone to provide offer protections from receiving an item which is disabled from trading.\n   * @param traitType If defined, the trait name to create the collection offer for.\n   * @param traitValue If defined, the trait value to create the collection offer for.\n   * @returns The {@link BuildOfferResponse} returned by the API.\n   */\n  public async buildOffer(\n    offererAddress: string,\n    quantity: number,\n    collectionSlug: string,\n    offerProtectionEnabled = true,\n    traitType?: string,\n    traitValue?: string,\n  ): Promise<BuildOfferResponse> {\n    if (traitType || traitValue && (!traitType || !traitValue)) {\n        throw new Error(\n          \"Both traitType and traitValue must be defined if one is defined.\"\n        );\n    }\n    const payload = getBuildCollectionOfferPayload(\n      offererAddress,\n      quantity,\n      collectionSlug,\n      offerProtectionEnabled,\n      traitType,\n      traitValue,\n    );\n    const response = await this.post<BuildOfferResponse>(\n      getBuildOfferPath(),\n      payload,\n    );\n    return response;\n  }\n\n  /**\n   * Get a list collection offers for a given slug.\n   * @param slug The slug (identifier) of the collection to list offers for\n   * @returns The {@link ListCollectionOffersResponse} returned by the API.\n   */\n  public async getCollectionOffers(\n    slug: string,\n  ): Promise<ListCollectionOffersResponse | null> {\n    return await this.get<ListCollectionOffersResponse>(\n      getCollectionOffersPath(slug),\n    );\n  }\n\n  /**\n   * Post a collection offer to OpenSea.\n   * @param order The collection offer to post.\n   * @param slug The slug (identifier) of the collection to post the offer for.\n   * @returns The {@link Offer} returned to the API.\n   */\n  public async postCollectionOffer(\n    order: ProtocolData,\n    slug: string,\n  ): Promise<CollectionOffer | null> {\n    const payload = getPostCollectionOfferPayload(slug, order);\n    return await this.post<CollectionOffer>(\n      getPostCollectionOfferPath(),\n      payload,\n    );\n  }\n\n  /**\n   * Fetch multiple NFTs for a collection.\n   * @param slug The slug (identifier) of the collection\n   * @param limit The number of NFTs to retrieve. Must be greater than 0 and less than 51.\n   * @param next Cursor to retrieve the next page of NFTs\n   * @returns The {@link ListNFTsResponse} returned by the API.\n   */\n  public async getNFTsByCollection(\n    slug: string,\n    limit: number | undefined = undefined,\n    next: string | undefined = undefined,\n  ): Promise<ListNFTsResponse> {\n    const response = await this.get<ListNFTsResponse>(\n      getListNFTsByCollectionPath(slug),\n      {\n        limit,\n        next,\n      },\n    );\n    return response;\n  }\n\n  /**\n   * Fetch multiple NFTs for a contract.\n   * @param address The NFT's contract address.\n   * @param limit The number of NFTs to retrieve. Must be greater than 0 and less than 51.\n   * @param next Cursor to retrieve the next page of NFTs.\n   * @param chain The NFT's chain.\n   * @returns The {@link ListNFTsResponse} returned by the API.\n   */\n  public async getNFTsByContract(\n    address: string,\n    limit: number | undefined = undefined,\n    next: string | undefined = undefined,\n    chain: Chain = this.chain,\n  ): Promise<ListNFTsResponse> {\n    const response = await this.get<ListNFTsResponse>(\n      getListNFTsByContractPath(chain, address),\n      {\n        limit,\n        next,\n      },\n    );\n    return response;\n  }\n\n  /**\n   * Fetch NFTs owned by an account.\n   * @param address The address of the account\n   * @param limit The number of NFTs to retrieve. Must be greater than 0 and less than 51.\n   * @param next Cursor to retrieve the next page of NFTs\n   * @param chain The chain to query. Defaults to the chain set in the constructor.\n   * @returns The {@link ListNFTsResponse} returned by the API.\n   */\n  public async getNFTsByAccount(\n    address: string,\n    limit: number | undefined = undefined,\n    next: string | undefined = undefined,\n    chain = this.chain,\n  ): Promise<ListNFTsResponse> {\n    const response = await this.get<ListNFTsResponse>(\n      getListNFTsByAccountPath(chain, address),\n      {\n        limit,\n        next,\n      },\n    );\n\n    return response;\n  }\n\n  /**\n   * Fetch metadata, traits, ownership information, and rarity for a single NFT.\n   * @param address The NFT's contract address.\n   * @param identifier the identifier of the NFT (i.e. Token ID)\n   * @param chain The NFT's chain.\n   * @returns The {@link GetNFTResponse} returned by the API.\n   */\n  public async getNFT(\n    address: string,\n    identifier: string,\n    chain = this.chain,\n  ): Promise<GetNFTResponse> {\n    const response = await this.get<GetNFTResponse>(\n      getNFTPath(chain, address, identifier),\n    );\n    return response;\n  }\n\n  /**\n   * Fetch an OpenSea collection.\n   * @param slug The slug (identifier) of the collection.\n   * @returns The {@link OpenSeaCollection} returned by the API.\n   */\n  public async getCollection(slug: string): Promise<OpenSeaCollection> {\n    const path = getCollectionPath(slug);\n    const response = await this.get<GetCollectionResponse>(path);\n    return collectionFromJSON(response);\n  }\n\n  /**\n   * Fetch stats for an OpenSea collection.\n   * @param slug The slug (identifier) of the collection.\n   * @returns The {@link OpenSeaCollection} returned by the API.\n   */\n  public async getCollectionStats(\n    slug: string,\n  ): Promise<OpenSeaCollectionStats> {\n    const path = getCollectionStatsPath(slug);\n    const response = await this.get<OpenSeaCollectionStats>(path);\n    return response as OpenSeaCollectionStats;\n  }\n\n  /**\n   * Fetch a payment token.\n   * @param query Query to use for getting tokens. See {@link OpenSeaPaymentTokenQuery}.\n   * @param next The cursor for the next page of results. This is returned from a previous request.\n   * @returns The {@link OpenSeaPaymentToken} returned by the API.\n   */\n  public async getPaymentToken(\n    address: string,\n    chain = this.chain,\n  ): Promise<OpenSeaPaymentToken> {\n    const json = await this.get<OpenSeaPaymentToken>(\n      getPaymentTokenPath(chain, address),\n    );\n    return paymentTokenFromJSON(json);\n  }\n\n  /**\n   * Fetch account for an address.\n   * @param query Query to use for getting tokens. See {@link OpenSeaPaymentTokenQuery}.\n   * @param next The cursor for the next page of results. This is returned from a previous request.\n   * @returns The {@link GetAccountResponse} returned by the API.\n   */\n  public async getAccount(address: string): Promise<OpenSeaAccount> {\n    const json = await this.get<OpenSeaAccount>(getAccountPath(address));\n    return accountFromJSON(json);\n  }\n\n  /**\n   * Force refresh the metadata for an NFT.\n   * @param address The address of the NFT's contract.\n   * @param identifier The identifier of the NFT.\n   * @param chain The chain where the NFT is located.\n   * @returns The response from the API.\n   */\n  public async refreshNFTMetadata(\n    address: string,\n    identifier: string,\n    chain: Chain = this.chain,\n  ): Promise<Response> {\n    const response = await this.post<Response>(\n      getRefreshMetadataPath(chain, address, identifier),\n      {},\n    );\n\n    return response;\n  }\n\n  /**\n   * Generic fetch method for any API endpoint\n   * @param apiPath Path to URL endpoint under API\n   * @param query URL query params. Will be used to create a URLSearchParams object.\n   * @returns @typeParam T The response from the API.\n   */\n  public async get<T>(apiPath: string, query: object = {}): Promise<T> {\n    const qs = this.objectToSearchParams(query);\n    const url = `${this.apiBaseUrl}${apiPath}?${qs}`;\n    return await this._fetch(url);\n  }\n\n  /**\n   * Generic post method for any API endpoint.\n   * @param apiPath Path to URL endpoint under API\n   * @param body Data to send.\n   * @param opts ethers ConnectionInfo, similar to Fetch API.\n   * @returns @typeParam T The response from the API.\n   */\n  public async post<T>(\n    apiPath: string,\n    body?: object,\n    opts?: object,\n  ): Promise<T> {\n    const url = `${this.apiBaseUrl}${apiPath}`;\n    return await this._fetch(url, opts, body);\n  }\n\n  private objectToSearchParams(params: object = {}) {\n    const urlSearchParams = new URLSearchParams();\n\n    Object.entries(params).forEach(([key, value]) => {\n      if (value && Array.isArray(value)) {\n        value.forEach((item) => item && urlSearchParams.append(key, item));\n      } else if (value) {\n        urlSearchParams.append(key, value);\n      }\n    });\n\n    return urlSearchParams.toString();\n  }\n\n  /**\n   * Get from an API Endpoint, sending auth token in headers\n   * @param opts ethers ConnectionInfo, similar to Fetch API\n   * @param body Optional body to send. If set, will POST, otherwise GET\n   */\n  private async _fetch(url: string, headers?: object, body?: object) {\n    // Create the fetch request\n    const req = new ethers.FetchRequest(url);\n\n    // Set the headers\n    headers = {\n      \"x-app-id\": \"opensea-js\",\n      ...(this.apiKey ? { \"X-API-KEY\": this.apiKey } : {}),\n      ...headers,\n    };\n    for (const [key, value] of Object.entries(headers)) {\n      req.setHeader(key, value);\n    }\n\n    // Set the body if provided\n    if (body) {\n      req.body = body;\n    }\n\n    // Set the throttle params\n    // - Should be able to replace this retryFunc with `setThrottleParams({ slotInterval: 1000 })`\n    //   when this bug is fixed in ethers: https://github.com/ethers-io/ethers.js/issues/4663\n    req.retryFunc = async (_req, resp, attempt) => {\n      this.logger(\n        `Fetch attempt ${attempt} failed with status ${resp.statusCode}`,\n      );\n      // Wait 1s between tries\n      await stall(1000);\n      return true;\n    };\n\n    this.logger(\n      `Sending request: ${url} ${JSON.stringify({\n        request: req,\n        headers: req.headers,\n      })}`,\n    );\n\n    const response = await req.send();\n    if (!response.ok()) {\n      // If an errors array is returned, throw with the error messages.\n      const errors = response.bodyJson?.errors;\n      if (errors?.length > 0) {\n        throw new Error(`Server Error: ${errors.join(\", \")}`);\n      } else {\n        // Otherwise, let ethers throw a SERVER_ERROR since it will include\n        // more context about the request and response.\n        response.assertOk();\n      }\n    }\n    return response.bodyJson;\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"32e39dfa8894f868d7c3f385077c1a6a32ca0db8"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1r76ud9kcq=function(){return actualCoverage;};}return actualCoverage;}cov_1r76ud9kcq();cov_1r76ud9kcq().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_1r76ud9kcq().s[1]++;exports.OpenSeaAPI=void 0;const ethers_1=(cov_1r76ud9kcq().s[2]++,require("ethers"));const apiPaths_1=(cov_1r76ud9kcq().s[3]++,require("./apiPaths"));const constants_1=(cov_1r76ud9kcq().s[4]++,require("../constants"));const utils_1=(cov_1r76ud9kcq().s[5]++,require("../orders/utils"));const types_1=(cov_1r76ud9kcq().s[6]++,require("../types"));const utils_2=(cov_1r76ud9kcq().s[7]++,require("../utils/utils"));function stall(duration){cov_1r76ud9kcq().f[0]++;cov_1r76ud9kcq().s[8]++;return new Promise(resolve=>{cov_1r76ud9kcq().f[1]++;cov_1r76ud9kcq().s[9]++;setTimeout(()=>{cov_1r76ud9kcq().f[2]++;cov_1r76ud9kcq().s[10]++;resolve();},duration);});}/**
 * The API class for the OpenSea SDK.
 * @category Main Classes
 */class OpenSeaAPI{/**
     * Create an instance of the OpenSeaAPI
     * @param config OpenSeaAPIConfig for setting up the API, including an optional API key, Chain name, and base URL
     * @param logger Optional function for logging debug strings before and after requests are made. Defaults to no logging
     */constructor(config,logger){cov_1r76ud9kcq().f[3]++;cov_1r76ud9kcq().s[11]++;/**
         * Default size to use for fetching orders
         */this.pageSize=20;cov_1r76ud9kcq().s[12]++;this.apiKey=config.apiKey;cov_1r76ud9kcq().s[13]++;this.chain=(cov_1r76ud9kcq().b[0][0]++,config.chain)??(cov_1r76ud9kcq().b[0][1]++,types_1.Chain.Mainnet);cov_1r76ud9kcq().s[14]++;this.apiBaseUrl=(0,utils_2.isTestChain)(this.chain)?(cov_1r76ud9kcq().b[1][0]++,constants_1.API_BASE_TESTNET):(cov_1r76ud9kcq().b[1][1]++,constants_1.API_BASE_MAINNET);// Debugging: default to nothing
cov_1r76ud9kcq().s[15]++;this.logger=(cov_1r76ud9kcq().b[2][0]++,logger)??(cov_1r76ud9kcq().b[2][1]++,arg=>{cov_1r76ud9kcq().f[4]++;cov_1r76ud9kcq().s[16]++;return arg;});}/**
     * Gets an order from API based on query options.
     * @param options
     * @param options.side The side of the order (buy or sell
     * @param options.protocol The protocol, typically seaport, to query orders for
     * @param options.orderDirection The direction to sort the orders
     * @param options.orderBy The field to sort the orders by
     * @param options.limit The number of orders to retrieve
     * @param options.maker Filter by the wallet address of the order maker
     * @param options.taker Filter by  wallet address of the order taker
     * @param options.asset_contract_address Address of the NFT's contract
     * @param options.token_ids String array of token IDs to filter by.
     * @param options.listed_after Filter by orders listed after the Unix epoch timestamp in seconds
     * @param options.listed_before Filter by orders listed before the Unix epoch timestamp in seconds
     * @returns The first {@link OrderV2} returned by the API
     *
     * @throws An error if there are no matching orders.
     */async getOrder({side,protocol=(cov_1r76ud9kcq().b[3][0]++,"seaport"),orderDirection=(cov_1r76ud9kcq().b[4][0]++,"desc"),orderBy=(cov_1r76ud9kcq().b[5][0]++,"created_date"),...restOptions}){cov_1r76ud9kcq().f[5]++;const{orders}=(cov_1r76ud9kcq().s[17]++,await this.get((0,apiPaths_1.getOrdersAPIPath)(this.chain,protocol,side),(0,utils_1.serializeOrdersQueryOptions)({limit:1,orderBy,orderDirection,...restOptions})));cov_1r76ud9kcq().s[18]++;if(orders.length===0){cov_1r76ud9kcq().b[6][0]++;cov_1r76ud9kcq().s[19]++;throw new Error("Not found: no matching order found");}else{cov_1r76ud9kcq().b[6][1]++;}cov_1r76ud9kcq().s[20]++;return(0,utils_1.deserializeOrder)(orders[0]);}/**
     * Gets a list of orders from API based on query options.
     * @param options
     * @param options.side The side of the order (buy or sell)
     * @param options.protocol The protocol, typically seaport, to query orders for
     * @param options.orderDirection The direction to sort the orders
     * @param options.orderBy The field to sort the orders by
     * @param options.limit The number of orders to retrieve
     * @param options.maker Filter by the wallet address of the order maker
     * @param options.taker Filter by  wallet address of the order taker
     * @param options.asset_contract_address Address of the NFT's contract
     * @param options.token_ids String array of token IDs to filter by.
     * @param options.listed_after Filter by orders listed after the Unix epoch timestamp in seconds
     * @param options.listed_before Filter by orders listed before the Unix epoch timestamp in seconds
     * @returns The {@link GetOrdersResponse} returned by the API.
     */async getOrders({side,protocol=(cov_1r76ud9kcq().b[7][0]++,"seaport"),orderDirection=(cov_1r76ud9kcq().b[8][0]++,"desc"),orderBy=(cov_1r76ud9kcq().b[9][0]++,"created_date"),...restOptions}){cov_1r76ud9kcq().f[6]++;const response=(cov_1r76ud9kcq().s[21]++,await this.get((0,apiPaths_1.getOrdersAPIPath)(this.chain,protocol,side),(0,utils_1.serializeOrdersQueryOptions)({limit:this.pageSize,orderBy,orderDirection,...restOptions})));cov_1r76ud9kcq().s[22]++;return{...response,orders:response.orders.map(utils_1.deserializeOrder)};}/**
     * Gets all offers for a given collection.
     * @param collectionSlug The slug of the collection.
     * @param limit The number of offers to return. Must be between 1 and 100. Default: 100
     * @param next The cursor for the next page of results. This is returned from a previous request.
     * @returns The {@link GetOffersResponse} returned by the API.
     */async getAllOffers(collectionSlug,limit,next){cov_1r76ud9kcq().f[7]++;const response=(cov_1r76ud9kcq().s[23]++,await this.get((0,apiPaths_1.getAllOffersAPIPath)(collectionSlug),{limit,next}));cov_1r76ud9kcq().s[24]++;return response;}/**
     * Gets all listings for a given collection.
     * @param collectionSlug The slug of the collection.
     * @param limit The number of listings to return. Must be between 1 and 100. Default: 100
     * @param next The cursor for the next page of results. This is returned from a previous request.
     * @returns The {@link GetListingsResponse} returned by the API.
     */async getAllListings(collectionSlug,limit,next){cov_1r76ud9kcq().f[8]++;const response=(cov_1r76ud9kcq().s[25]++,await this.get((0,apiPaths_1.getAllListingsAPIPath)(collectionSlug),{limit,next}));cov_1r76ud9kcq().s[26]++;return response;}/**
     * Gets the best offer for a given token.
     * @param collectionSlug The slug of the collection.
     * @param tokenId The token identifier.
     * @returns The {@link GetBestOfferResponse} returned by the API.
     */async getBestOffer(collectionSlug,tokenId){cov_1r76ud9kcq().f[9]++;const response=(cov_1r76ud9kcq().s[27]++,await this.get((0,apiPaths_1.getBestOfferAPIPath)(collectionSlug,tokenId)));cov_1r76ud9kcq().s[28]++;return response;}/**
     * Gets the best listing for a given token.
     * @param collectionSlug The slug of the collection.
     * @param tokenId The token identifier.
     * @returns The {@link GetBestListingResponse} returned by the API.
     */async getBestListing(collectionSlug,tokenId){cov_1r76ud9kcq().f[10]++;const response=(cov_1r76ud9kcq().s[29]++,await this.get((0,apiPaths_1.getBestListingAPIPath)(collectionSlug,tokenId)));cov_1r76ud9kcq().s[30]++;return response;}/**
     * Gets the best listings for a given collection.
     * @param collectionSlug The slug of the collection.
     * @param limit The number of listings to return. Must be between 1 and 100. Default: 100
     * @param next The cursor for the next page of results. This is returned from a previous request.
     * @returns The {@link GetListingsResponse} returned by the API.
     */async getBestListings(collectionSlug,limit,next){cov_1r76ud9kcq().f[11]++;const response=(cov_1r76ud9kcq().s[31]++,await this.get((0,apiPaths_1.getBestListingsAPIPath)(collectionSlug),{limit,next}));cov_1r76ud9kcq().s[32]++;return response;}/**
     * Generate the data needed to fulfill a listing or an offer onchain.
     * @param fulfillerAddress The wallet address which will be used to fulfill the order
     * @param orderHash The hash of the order to fulfill
     * @param protocolAddress The address of the seaport contract
     * @side The side of the order (buy or sell)
     * @returns The {@link FulfillmentDataResponse}
     */async generateFulfillmentData(fulfillerAddress,orderHash,protocolAddress,side){cov_1r76ud9kcq().f[12]++;let payload=(cov_1r76ud9kcq().s[33]++,null);cov_1r76ud9kcq().s[34]++;if(side===types_1.OrderSide.ASK){cov_1r76ud9kcq().b[10][0]++;cov_1r76ud9kcq().s[35]++;payload=(0,utils_1.getFulfillListingPayload)(fulfillerAddress,orderHash,protocolAddress,this.chain);}else{cov_1r76ud9kcq().b[10][1]++;cov_1r76ud9kcq().s[36]++;payload=(0,utils_1.getFulfillOfferPayload)(fulfillerAddress,orderHash,protocolAddress,this.chain);}const response=(cov_1r76ud9kcq().s[37]++,await this.post((0,utils_1.getFulfillmentDataPath)(side),payload));cov_1r76ud9kcq().s[38]++;return response;}/**
     * Post an order to OpenSea.
     * @param order The order to post
     * @param apiOptions
     * @param apiOptions.protocol The protocol, typically seaport, to post the order to.
     * @param apiOptions.side The side of the order (buy or sell).
     * @param apiOptions.protocolAddress The address of the seaport contract.
     * @param options
     * @returns The {@link OrderV2} posted to the API.
     */async postOrder(order,apiOptions){cov_1r76ud9kcq().f[13]++;// TODO: Validate apiOptions. Avoid API calls that will definitely fail
const{protocol=(cov_1r76ud9kcq().b[11][0]++,"seaport"),side,protocolAddress}=(cov_1r76ud9kcq().s[39]++,apiOptions);const response=(cov_1r76ud9kcq().s[40]++,await this.post((0,apiPaths_1.getOrdersAPIPath)(this.chain,protocol,side),{...order,protocol_address:protocolAddress}));cov_1r76ud9kcq().s[41]++;return(0,utils_1.deserializeOrder)(response.order);}/**
     * Build a OpenSea collection offer.
     * @param offererAddress The wallet address which is creating the offer.
     * @param quantity The number of NFTs requested in the offer.
     * @param collectionSlug The slug (identifier) of the collection to build the offer for.
     * @param offerProtectionEnabled Build the offer on OpenSea's signed zone to provide offer protections from receiving an item which is disabled from trading.
     * @param traitType If defined, the trait name to create the collection offer for.
     * @param traitValue If defined, the trait value to create the collection offer for.
     * @returns The {@link BuildOfferResponse} returned by the API.
     */async buildOffer(offererAddress,quantity,collectionSlug,offerProtectionEnabled=(cov_1r76ud9kcq().b[12][0]++,true),traitType,traitValue){cov_1r76ud9kcq().f[14]++;cov_1r76ud9kcq().s[42]++;if((cov_1r76ud9kcq().b[14][0]++,traitType)||(cov_1r76ud9kcq().b[14][1]++,traitValue)&&((cov_1r76ud9kcq().b[14][2]++,!traitType)||(cov_1r76ud9kcq().b[14][3]++,!traitValue))){cov_1r76ud9kcq().b[13][0]++;cov_1r76ud9kcq().s[43]++;throw new Error("Both traitType and traitValue must be defined if one is defined.");}else{cov_1r76ud9kcq().b[13][1]++;}const payload=(cov_1r76ud9kcq().s[44]++,(0,utils_1.getBuildCollectionOfferPayload)(offererAddress,quantity,collectionSlug,offerProtectionEnabled,traitType,traitValue));const response=(cov_1r76ud9kcq().s[45]++,await this.post((0,apiPaths_1.getBuildOfferPath)(),payload));cov_1r76ud9kcq().s[46]++;return response;}/**
     * Get a list collection offers for a given slug.
     * @param slug The slug (identifier) of the collection to list offers for
     * @returns The {@link ListCollectionOffersResponse} returned by the API.
     */async getCollectionOffers(slug){cov_1r76ud9kcq().f[15]++;cov_1r76ud9kcq().s[47]++;return await this.get((0,apiPaths_1.getCollectionOffersPath)(slug));}/**
     * Post a collection offer to OpenSea.
     * @param order The collection offer to post.
     * @param slug The slug (identifier) of the collection to post the offer for.
     * @returns The {@link Offer} returned to the API.
     */async postCollectionOffer(order,slug){cov_1r76ud9kcq().f[16]++;const payload=(cov_1r76ud9kcq().s[48]++,(0,utils_1.getPostCollectionOfferPayload)(slug,order));cov_1r76ud9kcq().s[49]++;return await this.post((0,apiPaths_1.getPostCollectionOfferPath)(),payload);}/**
     * Fetch multiple NFTs for a collection.
     * @param slug The slug (identifier) of the collection
     * @param limit The number of NFTs to retrieve. Must be greater than 0 and less than 51.
     * @param next Cursor to retrieve the next page of NFTs
     * @returns The {@link ListNFTsResponse} returned by the API.
     */async getNFTsByCollection(slug,limit=(cov_1r76ud9kcq().b[15][0]++,undefined),next=(cov_1r76ud9kcq().b[16][0]++,undefined)){cov_1r76ud9kcq().f[17]++;const response=(cov_1r76ud9kcq().s[50]++,await this.get((0,apiPaths_1.getListNFTsByCollectionPath)(slug),{limit,next}));cov_1r76ud9kcq().s[51]++;return response;}/**
     * Fetch multiple NFTs for a contract.
     * @param address The NFT's contract address.
     * @param limit The number of NFTs to retrieve. Must be greater than 0 and less than 51.
     * @param next Cursor to retrieve the next page of NFTs.
     * @param chain The NFT's chain.
     * @returns The {@link ListNFTsResponse} returned by the API.
     */async getNFTsByContract(address,limit=(cov_1r76ud9kcq().b[17][0]++,undefined),next=(cov_1r76ud9kcq().b[18][0]++,undefined),chain=(cov_1r76ud9kcq().b[19][0]++,this.chain)){cov_1r76ud9kcq().f[18]++;const response=(cov_1r76ud9kcq().s[52]++,await this.get((0,apiPaths_1.getListNFTsByContractPath)(chain,address),{limit,next}));cov_1r76ud9kcq().s[53]++;return response;}/**
     * Fetch NFTs owned by an account.
     * @param address The address of the account
     * @param limit The number of NFTs to retrieve. Must be greater than 0 and less than 51.
     * @param next Cursor to retrieve the next page of NFTs
     * @param chain The chain to query. Defaults to the chain set in the constructor.
     * @returns The {@link ListNFTsResponse} returned by the API.
     */async getNFTsByAccount(address,limit=(cov_1r76ud9kcq().b[20][0]++,undefined),next=(cov_1r76ud9kcq().b[21][0]++,undefined),chain=(cov_1r76ud9kcq().b[22][0]++,this.chain)){cov_1r76ud9kcq().f[19]++;const response=(cov_1r76ud9kcq().s[54]++,await this.get((0,apiPaths_1.getListNFTsByAccountPath)(chain,address),{limit,next}));cov_1r76ud9kcq().s[55]++;return response;}/**
     * Fetch metadata, traits, ownership information, and rarity for a single NFT.
     * @param address The NFT's contract address.
     * @param identifier the identifier of the NFT (i.e. Token ID)
     * @param chain The NFT's chain.
     * @returns The {@link GetNFTResponse} returned by the API.
     */async getNFT(address,identifier,chain=(cov_1r76ud9kcq().b[23][0]++,this.chain)){cov_1r76ud9kcq().f[20]++;const response=(cov_1r76ud9kcq().s[56]++,await this.get((0,apiPaths_1.getNFTPath)(chain,address,identifier)));cov_1r76ud9kcq().s[57]++;return response;}/**
     * Fetch an OpenSea collection.
     * @param slug The slug (identifier) of the collection.
     * @returns The {@link OpenSeaCollection} returned by the API.
     */async getCollection(slug){cov_1r76ud9kcq().f[21]++;const path=(cov_1r76ud9kcq().s[58]++,(0,apiPaths_1.getCollectionPath)(slug));const response=(cov_1r76ud9kcq().s[59]++,await this.get(path));cov_1r76ud9kcq().s[60]++;return(0,utils_2.collectionFromJSON)(response);}/**
     * Fetch stats for an OpenSea collection.
     * @param slug The slug (identifier) of the collection.
     * @returns The {@link OpenSeaCollection} returned by the API.
     */async getCollectionStats(slug){cov_1r76ud9kcq().f[22]++;const path=(cov_1r76ud9kcq().s[61]++,(0,apiPaths_1.getCollectionStatsPath)(slug));const response=(cov_1r76ud9kcq().s[62]++,await this.get(path));cov_1r76ud9kcq().s[63]++;return response;}/**
     * Fetch a payment token.
     * @param query Query to use for getting tokens. See {@link OpenSeaPaymentTokenQuery}.
     * @param next The cursor for the next page of results. This is returned from a previous request.
     * @returns The {@link OpenSeaPaymentToken} returned by the API.
     */async getPaymentToken(address,chain=(cov_1r76ud9kcq().b[24][0]++,this.chain)){cov_1r76ud9kcq().f[23]++;const json=(cov_1r76ud9kcq().s[64]++,await this.get((0,apiPaths_1.getPaymentTokenPath)(chain,address)));cov_1r76ud9kcq().s[65]++;return(0,utils_2.paymentTokenFromJSON)(json);}/**
     * Fetch account for an address.
     * @param query Query to use for getting tokens. See {@link OpenSeaPaymentTokenQuery}.
     * @param next The cursor for the next page of results. This is returned from a previous request.
     * @returns The {@link GetAccountResponse} returned by the API.
     */async getAccount(address){cov_1r76ud9kcq().f[24]++;const json=(cov_1r76ud9kcq().s[66]++,await this.get((0,apiPaths_1.getAccountPath)(address)));cov_1r76ud9kcq().s[67]++;return(0,utils_2.accountFromJSON)(json);}/**
     * Force refresh the metadata for an NFT.
     * @param address The address of the NFT's contract.
     * @param identifier The identifier of the NFT.
     * @param chain The chain where the NFT is located.
     * @returns The response from the API.
     */async refreshNFTMetadata(address,identifier,chain=(cov_1r76ud9kcq().b[25][0]++,this.chain)){cov_1r76ud9kcq().f[25]++;const response=(cov_1r76ud9kcq().s[68]++,await this.post((0,apiPaths_1.getRefreshMetadataPath)(chain,address,identifier),{}));cov_1r76ud9kcq().s[69]++;return response;}/**
     * Generic fetch method for any API endpoint
     * @param apiPath Path to URL endpoint under API
     * @param query URL query params. Will be used to create a URLSearchParams object.
     * @returns @typeParam T The response from the API.
     */async get(apiPath,query=(cov_1r76ud9kcq().b[26][0]++,{})){cov_1r76ud9kcq().f[26]++;const qs=(cov_1r76ud9kcq().s[70]++,this.objectToSearchParams(query));const url=(cov_1r76ud9kcq().s[71]++,`${this.apiBaseUrl}${apiPath}?${qs}`);cov_1r76ud9kcq().s[72]++;return await this._fetch(url);}/**
     * Generic post method for any API endpoint.
     * @param apiPath Path to URL endpoint under API
     * @param body Data to send.
     * @param opts ethers ConnectionInfo, similar to Fetch API.
     * @returns @typeParam T The response from the API.
     */async post(apiPath,body,opts){cov_1r76ud9kcq().f[27]++;const url=(cov_1r76ud9kcq().s[73]++,`${this.apiBaseUrl}${apiPath}`);cov_1r76ud9kcq().s[74]++;return await this._fetch(url,opts,body);}objectToSearchParams(params=(cov_1r76ud9kcq().b[27][0]++,{})){cov_1r76ud9kcq().f[28]++;const urlSearchParams=(cov_1r76ud9kcq().s[75]++,new URLSearchParams());cov_1r76ud9kcq().s[76]++;Object.entries(params).forEach(([key,value])=>{cov_1r76ud9kcq().f[29]++;cov_1r76ud9kcq().s[77]++;if((cov_1r76ud9kcq().b[29][0]++,value)&&(cov_1r76ud9kcq().b[29][1]++,Array.isArray(value))){cov_1r76ud9kcq().b[28][0]++;cov_1r76ud9kcq().s[78]++;value.forEach(item=>{cov_1r76ud9kcq().f[30]++;cov_1r76ud9kcq().s[79]++;return(cov_1r76ud9kcq().b[30][0]++,item)&&(cov_1r76ud9kcq().b[30][1]++,urlSearchParams.append(key,item));});}else{cov_1r76ud9kcq().b[28][1]++;cov_1r76ud9kcq().s[80]++;if(value){cov_1r76ud9kcq().b[31][0]++;cov_1r76ud9kcq().s[81]++;urlSearchParams.append(key,value);}else{cov_1r76ud9kcq().b[31][1]++;}}});cov_1r76ud9kcq().s[82]++;return urlSearchParams.toString();}/**
     * Get from an API Endpoint, sending auth token in headers
     * @param opts ethers ConnectionInfo, similar to Fetch API
     * @param body Optional body to send. If set, will POST, otherwise GET
     */async _fetch(url,headers,body){cov_1r76ud9kcq().f[31]++;// Create the fetch request
const req=(cov_1r76ud9kcq().s[83]++,new ethers_1.ethers.FetchRequest(url));// Set the headers
cov_1r76ud9kcq().s[84]++;headers={"x-app-id":"opensea-js",...(this.apiKey?(cov_1r76ud9kcq().b[32][0]++,{"X-API-KEY":this.apiKey}):(cov_1r76ud9kcq().b[32][1]++,{})),...headers};cov_1r76ud9kcq().s[85]++;for(const[key,value]of Object.entries(headers)){cov_1r76ud9kcq().s[86]++;req.setHeader(key,value);}// Set the body if provided
cov_1r76ud9kcq().s[87]++;if(body){cov_1r76ud9kcq().b[33][0]++;cov_1r76ud9kcq().s[88]++;req.body=body;}else{cov_1r76ud9kcq().b[33][1]++;}// Set the throttle params
// - Should be able to replace this retryFunc with `setThrottleParams({ slotInterval: 1000 })`
//   when this bug is fixed in ethers: https://github.com/ethers-io/ethers.js/issues/4663
cov_1r76ud9kcq().s[89]++;req.retryFunc=async(_req,resp,attempt)=>{cov_1r76ud9kcq().f[32]++;cov_1r76ud9kcq().s[90]++;this.logger(`Fetch attempt ${attempt} failed with status ${resp.statusCode}`);// Wait 1s between tries
cov_1r76ud9kcq().s[91]++;await stall(1000);cov_1r76ud9kcq().s[92]++;return true;};cov_1r76ud9kcq().s[93]++;this.logger(`Sending request: ${url} ${JSON.stringify({request:req,headers:req.headers})}`);const response=(cov_1r76ud9kcq().s[94]++,await req.send());cov_1r76ud9kcq().s[95]++;if(!response.ok()){cov_1r76ud9kcq().b[34][0]++;// If an errors array is returned, throw with the error messages.
const errors=(cov_1r76ud9kcq().s[96]++,response.bodyJson?.errors);cov_1r76ud9kcq().s[97]++;if(errors?.length>0){cov_1r76ud9kcq().b[35][0]++;cov_1r76ud9kcq().s[98]++;throw new Error(`Server Error: ${errors.join(", ")}`);}else{cov_1r76ud9kcq().b[35][1]++;cov_1r76ud9kcq().s[99]++;// Otherwise, let ethers throw a SERVER_ERROR since it will include
// more context about the request and response.
response.assertOk();}}else{cov_1r76ud9kcq().b[34][1]++;}cov_1r76ud9kcq().s[100]++;return response.bodyJson;}}cov_1r76ud9kcq().s[101]++;exports.OpenSeaAPI=OpenSeaAPI;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL3JnL2Rldi9vcGVuc2VhLWpzL3NyYy9hcGkvYXBpLnRzIiwic291cmNlcyI6WyIvVXNlcnMvcmcvZGV2L29wZW5zZWEtanMvc3JjL2FwaS9hcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsbUNBQWdDO0FBQ2hDLHlDQW1Cb0I7QUFjcEIsNENBQWtFO0FBVWxFLDJDQVF5QjtBQUN6QixvQ0FRa0I7QUFDbEIsMENBS3dCO0FBRXhCLFNBQVMsS0FBSyxDQUFDLFFBQWdCO0lBQzdCLE9BQU8sSUFBSSxPQUFPLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRTtRQUM3QixVQUFVLENBQUMsR0FBRyxFQUFFO1lBQ2QsT0FBTyxFQUFFLENBQUM7UUFDWixDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7SUFDZixDQUFDLENBQUMsQ0FBQztBQUNMLENBQUM7QUFFRDs7O0dBR0c7QUFDSCxNQUFhLFVBQVU7SUFpQnJCOzs7O09BSUc7SUFDSCxZQUFZLE1BQXdCLEVBQUUsTUFBOEI7UUFqQnBFOztXQUVHO1FBQ0ksYUFBUSxHQUFHLEVBQUUsQ0FBQztRQWVuQixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDNUIsSUFBSSxDQUFDLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxJQUFJLGFBQUssQ0FBQyxPQUFPLENBQUM7UUFFM0MsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFBLG1CQUFXLEVBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztZQUN2QyxDQUFDLENBQUMsNEJBQWdCO1lBQ2xCLENBQUMsQ0FBQyw0QkFBZ0IsQ0FBQztRQUVyQixnQ0FBZ0M7UUFDaEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLElBQUksQ0FBQyxDQUFDLEdBQVcsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDakQsQ0FBQztJQUVEOzs7Ozs7Ozs7Ozs7Ozs7OztPQWlCRztJQUNJLEtBQUssQ0FBQyxRQUFRLENBQUMsRUFDcEIsSUFBSSxF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LEdBQUcsS0FBSyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLEVBQUU7WUFDNUMsSUFBSSxDQUFDLE1BQU0sQ0FDVCxpQkFBaUIsT0FBTyx1QkFBdUIsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUNqRSxDQUFDO1lBQ0Ysd0JBQXdCO1lBQ3hCLE1BQU0sS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ2xCLE9BQU8sSUFBSSxDQUFDO1FBQ2QsQ0FBQyxDQUFDO1FBRUYsSUFBSSxDQUFDLE1BQU0sQ0FDVCxvQkFBb0IsR0FBRyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUM7WUFDeEMsT0FBTyxFQUFFLEdBQUc7WUFDWixPQUFPLEVBQUUsR0FBRyxDQUFDLE9BQU87U0FDckIsQ0FBQyxFQUFFLENBQ0wsQ0FBQztRQUVGLE1BQU0sUUFBUSxHQUFHLE1BQU0sR0FBRyxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ2xDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxFQUFFLEVBQUUsQ0FBQztZQUNuQixpRUFBaUU7WUFDakUsTUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUM7WUFDekMsSUFBSSxNQUFNLEVBQUUsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO2dCQUN2QixNQUFNLElBQUksS0FBSyxDQUFDLGlCQUFpQixNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUN4RCxDQUFDO2lCQUFNLENBQUM7Z0JBQ04sbUVBQW1FO2dCQUNuRSwrQ0FBK0M7Z0JBQy9DLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUN0QixDQUFDO1FBQ0gsQ0FBQztRQUNELE9BQU8sUUFBUSxDQUFDLFFBQVEsQ0FBQztJQUMzQixDQUFDO0NBQ0Y7QUFybEJELGdDQXFsQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBldGhlcnMgfSBmcm9tIFwiZXRoZXJzXCI7XG5pbXBvcnQge1xuICBnZXRDb2xsZWN0aW9uUGF0aCxcbiAgZ2V0T3JkZXJzQVBJUGF0aCxcbiAgZ2V0UG9zdENvbGxlY3Rpb25PZmZlclBhdGgsXG4gIGdldEJ1aWxkT2ZmZXJQYXRoLFxuICBnZXRMaXN0TkZUc0J5Q29sbGVjdGlvblBhdGgsXG4gIGdldExpc3RORlRzQnlDb250cmFjdFBhdGgsXG4gIGdldE5GVFBhdGgsXG4gIGdldFJlZnJlc2hNZXRhZGF0YVBhdGgsXG4gIGdldENvbGxlY3Rpb25PZmZlcnNQYXRoLFxuICBnZXRMaXN0TkZUc0J5QWNjb3VudFBhdGgsXG4gIGdldEJlc3RPZmZlckFQSVBhdGgsXG4gIGdldEJlc3RMaXN0aW5nQVBJUGF0aCxcbiAgZ2V0QWxsT2ZmZXJzQVBJUGF0aCxcbiAgZ2V0QWxsTGlzdGluZ3NBUElQYXRoLFxuICBnZXRQYXltZW50VG9rZW5QYXRoLFxuICBnZXRBY2NvdW50UGF0aCxcbiAgZ2V0Q29sbGVjdGlvblN0YXRzUGF0aCxcbiAgZ2V0QmVzdExpc3RpbmdzQVBJUGF0aCxcbn0gZnJvbSBcIi4vYXBpUGF0aHNcIjtcbmltcG9ydCB7XG4gIEJ1aWxkT2ZmZXJSZXNwb25zZSxcbiAgR2V0Q29sbGVjdGlvblJlc3BvbnNlLFxuICBMaXN0TkZUc1Jlc3BvbnNlLFxuICBHZXRORlRSZXNwb25zZSxcbiAgTGlzdENvbGxlY3Rpb25PZmZlcnNSZXNwb25zZSxcbiAgR2V0T3JkZXJzUmVzcG9uc2UsXG4gIEdldEJlc3RPZmZlclJlc3BvbnNlLFxuICBHZXRCZXN0TGlzdGluZ1Jlc3BvbnNlLFxuICBHZXRPZmZlcnNSZXNwb25zZSxcbiAgR2V0TGlzdGluZ3NSZXNwb25zZSxcbiAgQ29sbGVjdGlvbk9mZmVyLFxufSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgQVBJX0JBU0VfTUFJTk5FVCwgQVBJX0JBU0VfVEVTVE5FVCB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7XG4gIEZ1bGZpbGxtZW50RGF0YVJlc3BvbnNlLFxuICBPcmRlckFQSU9wdGlvbnMsXG4gIE9yZGVyc1Bvc3RRdWVyeVJlc3BvbnNlLFxuICBPcmRlcnNRdWVyeU9wdGlvbnMsXG4gIE9yZGVyc1F1ZXJ5UmVzcG9uc2UsXG4gIE9yZGVyVjIsXG4gIFByb3RvY29sRGF0YSxcbn0gZnJvbSBcIi4uL29yZGVycy90eXBlc1wiO1xuaW1wb3J0IHtcbiAgc2VyaWFsaXplT3JkZXJzUXVlcnlPcHRpb25zLFxuICBkZXNlcmlhbGl6ZU9yZGVyLFxuICBnZXRGdWxmaWxsbWVudERhdGFQYXRoLFxuICBnZXRGdWxmaWxsTGlzdGluZ1BheWxvYWQsXG4gIGdldEZ1bGZpbGxPZmZlclBheWxvYWQsXG4gIGdldEJ1aWxkQ29sbGVjdGlvbk9mZmVyUGF5bG9hZCxcbiAgZ2V0UG9zdENvbGxlY3Rpb25PZmZlclBheWxvYWQsXG59IGZyb20gXCIuLi9vcmRlcnMvdXRpbHNcIjtcbmltcG9ydCB7XG4gIENoYWluLFxuICBPcGVuU2VhQVBJQ29uZmlnLFxuICBPcGVuU2VhQWNjb3VudCxcbiAgT3BlblNlYUNvbGxlY3Rpb24sXG4gIE9wZW5TZWFDb2xsZWN0aW9uU3RhdHMsXG4gIE9wZW5TZWFQYXltZW50VG9rZW4sXG4gIE9yZGVyU2lkZSxcbn0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQge1xuICBwYXltZW50VG9rZW5Gcm9tSlNPTixcbiAgY29sbGVjdGlvbkZyb21KU09OLFxuICBpc1Rlc3RDaGFpbixcbiAgYWNjb3VudEZyb21KU09OLFxufSBmcm9tIFwiLi4vdXRpbHMvdXRpbHNcIjtcblxuZnVuY3Rpb24gc3RhbGwoZHVyYXRpb246IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9LCBkdXJhdGlvbik7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRoZSBBUEkgY2xhc3MgZm9yIHRoZSBPcGVuU2VhIFNESy5cbiAqIEBjYXRlZ29yeSBNYWluIENsYXNzZXNcbiAqL1xuZXhwb3J0IGNsYXNzIE9wZW5TZWFBUEkge1xuICAvKipcbiAgICogQmFzZSB1cmwgZm9yIHRoZSBBUElcbiAgICovXG4gIHB1YmxpYyByZWFkb25seSBhcGlCYXNlVXJsOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEZWZhdWx0IHNpemUgdG8gdXNlIGZvciBmZXRjaGluZyBvcmRlcnNcbiAgICovXG4gIHB1YmxpYyBwYWdlU2l6ZSA9IDIwO1xuICAvKipcbiAgICogTG9nZ2VyIGZ1bmN0aW9uIHRvIHVzZSB3aGVuIGRlYnVnZ2luZ1xuICAgKi9cbiAgcHVibGljIGxvZ2dlcjogKGFyZzogc3RyaW5nKSA9PiB2b2lkO1xuXG4gIHByaXZhdGUgYXBpS2V5OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgY2hhaW46IENoYWluO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhlIE9wZW5TZWFBUElcbiAgICogQHBhcmFtIGNvbmZpZyBPcGVuU2VhQVBJQ29uZmlnIGZvciBzZXR0aW5nIHVwIHRoZSBBUEksIGluY2x1ZGluZyBhbiBvcHRpb25hbCBBUEkga2V5LCBDaGFpbiBuYW1lLCBhbmQgYmFzZSBVUkxcbiAgICogQHBhcmFtIGxvZ2dlciBPcHRpb25hbCBmdW5jdGlvbiBmb3IgbG9nZ2luZyBkZWJ1ZyBzdHJpbmdzIGJlZm9yZSBhbmQgYWZ0ZXIgcmVxdWVzdHMgYXJlIG1hZGUuIERlZmF1bHRzIHRvIG5vIGxvZ2dpbmdcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogT3BlblNlYUFQSUNvbmZpZywgbG9nZ2VyPzogKGFyZzogc3RyaW5nKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5hcGlLZXkgPSBjb25maWcuYXBpS2V5O1xuICAgIHRoaXMuY2hhaW4gPSBjb25maWcuY2hhaW4gPz8gQ2hhaW4uTWFpbm5ldDtcblxuICAgIHRoaXMuYXBpQmFzZVVybCA9IGlzVGVzdENoYWluKHRoaXMuY2hhaW4pXG4gICAgICA/IEFQSV9CQVNFX1RFU1RORVRcbiAgICAgIDogQVBJX0JBU0VfTUFJTk5FVDtcblxuICAgIC8vIERlYnVnZ2luZzogZGVmYXVsdCB0byBub3RoaW5nXG4gICAgdGhpcy5sb2dnZXIgPSBsb2dnZXIgPz8gKChhcmc6IHN0cmluZykgPT4gYXJnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGFuIG9yZGVyIGZyb20gQVBJIGJhc2VkIG9uIHF1ZXJ5IG9wdGlvbnMuXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEBwYXJhbSBvcHRpb25zLnNpZGUgVGhlIHNpZGUgb2YgdGhlIG9yZGVyIChidXkgb3Igc2VsbFxuICAgKiBAcGFyYW0gb3B0aW9ucy5wcm90b2NvbCBUaGUgcHJvdG9jb2wsIHR5cGljYWxseSBzZWFwb3J0LCB0byBxdWVyeSBvcmRlcnMgZm9yXG4gICAqIEBwYXJhbSBvcHRpb25zLm9yZGVyRGlyZWN0aW9uIFRoZSBkaXJlY3Rpb24gdG8gc29ydCB0aGUgb3JkZXJzXG4gICAqIEBwYXJhbSBvcHRpb25zLm9yZGVyQnkgVGhlIGZpZWxkIHRvIHNvcnQgdGhlIG9yZGVycyBieVxuICAgKiBAcGFyYW0gb3B0aW9ucy5saW1pdCBUaGUgbnVtYmVyIG9mIG9yZGVycyB0byByZXRyaWV2ZVxuICAgKiBAcGFyYW0gb3B0aW9ucy5tYWtlciBGaWx0ZXIgYnkgdGhlIHdhbGxldCBhZGRyZXNzIG9mIHRoZSBvcmRlciBtYWtlclxuICAgKiBAcGFyYW0gb3B0aW9ucy50YWtlciBGaWx0ZXIgYnkgIHdhbGxldCBhZGRyZXNzIG9mIHRoZSBvcmRlciB0YWtlclxuICAgKiBAcGFyYW0gb3B0aW9ucy5hc3NldF9jb250cmFjdF9hZGRyZXNzIEFkZHJlc3Mgb2YgdGhlIE5GVCdzIGNvbnRyYWN0XG4gICAqIEBwYXJhbSBvcHRpb25zLnRva2VuX2lkcyBTdHJpbmcgYXJyYXkgb2YgdG9rZW4gSURzIHRvIGZpbHRlciBieS5cbiAgICogQHBhcmFtIG9wdGlvbnMubGlzdGVkX2FmdGVyIEZpbHRlciBieSBvcmRlcnMgbGlzdGVkIGFmdGVyIHRoZSBVbml4IGVwb2NoIHRpbWVzdGFtcCBpbiBzZWNvbmRzXG4gICAqIEBwYXJhbSBvcHRpb25zLmxpc3RlZF9iZWZvcmUgRmlsdGVyIGJ5IG9yZGVycyBsaXN0ZWQgYmVmb3JlIHRoZSBVbml4IGVwb2NoIHRpbWVzdGFtcCBpbiBzZWNvbmRzXG4gICAqIEByZXR1cm5zIFRoZSBmaXJzdCB7QGxpbmsgT3JkZXJWMn0gcmV0dXJuZWQgYnkgdGhlIEFQSVxuICAgKlxuICAgKiBAdGhyb3dzIEFuIGVycm9yIGlmIHRoZXJlIGFyZSBubyBtYXRjaGluZyBvcmRlcnMuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0T3JkZXIoe1xuICAgIHNpZGUsXG4gICAgcHJvdG9jb2wgPSBcInNlYXBvcnRcIixcbiAgICBvcmRlckRpcmVjdGlvbiA9IFwiZGVzY1wiLFxuICAgIG9yZGVyQnkgPSBcImNyZWF0ZWRfZGF0ZVwiLFxuICAgIC4uLnJlc3RPcHRpb25zXG4gIH06IE9taXQ8T3JkZXJzUXVlcnlPcHRpb25zLCBcImxpbWl0XCI+KTogUHJvbWlzZTxPcmRlclYyPiB7XG4gICAgY29uc3QgeyBvcmRlcnMgfSA9IGF3YWl0IHRoaXMuZ2V0PE9yZGVyc1F1ZXJ5UmVzcG9uc2U+KFxuICAgICAgZ2V0T3JkZXJzQVBJUGF0aCh0aGlzLmNoYWluLCBwcm90b2NvbCwgc2lkZSksXG4gICAgICBzZXJpYWxpemVPcmRlcnNRdWVyeU9wdGlvbnMoe1xuICAgICAgICBsaW1pdDogMSxcbiAgICAgICAgb3JkZXJCeSxcbiAgICAgICAgb3JkZXJEaXJlY3Rpb24sXG4gICAgICAgIC4uLnJlc3RPcHRpb25zLFxuICAgICAgfSksXG4gICAgKTtcbiAgICBpZiAob3JkZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGZvdW5kOiBubyBtYXRjaGluZyBvcmRlciBmb3VuZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlc2VyaWFsaXplT3JkZXIob3JkZXJzWzBdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgbGlzdCBvZiBvcmRlcnMgZnJvbSBBUEkgYmFzZWQgb24gcXVlcnkgb3B0aW9ucy5cbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICogQHBhcmFtIG9wdGlvbnMuc2lkZSBUaGUgc2lkZSBvZiB0aGUgb3JkZXIgKGJ1eSBvciBzZWxsKVxuICAgKiBAcGFyYW0gb3B0aW9ucy5wcm90b2NvbCBUaGUgcHJvdG9jb2wsIHR5cGljYWxseSBzZWFwb3J0LCB0byBxdWVyeSBvcmRlcnMgZm9yXG4gICAqIEBwYXJhbSBvcHRpb25zLm9yZGVyRGlyZWN0aW9uIFRoZSBkaXJlY3Rpb24gdG8gc29ydCB0aGUgb3JkZXJzXG4gICAqIEBwYXJhbSBvcHRpb25zLm9yZGVyQnkgVGhlIGZpZWxkIHRvIHNvcnQgdGhlIG9yZGVycyBieVxuICAgKiBAcGFyYW0gb3B0aW9ucy5saW1pdCBUaGUgbnVtYmVyIG9mIG9yZGVycyB0byByZXRyaWV2ZVxuICAgKiBAcGFyYW0gb3B0aW9ucy5tYWtlciBGaWx0ZXIgYnkgdGhlIHdhbGxldCBhZGRyZXNzIG9mIHRoZSBvcmRlciBtYWtlclxuICAgKiBAcGFyYW0gb3B0aW9ucy50YWtlciBGaWx0ZXIgYnkgIHdhbGxldCBhZGRyZXNzIG9mIHRoZSBvcmRlciB0YWtlclxuICAgKiBAcGFyYW0gb3B0aW9ucy5hc3NldF9jb250cmFjdF9hZGRyZXNzIEFkZHJlc3Mgb2YgdGhlIE5GVCdzIGNvbnRyYWN0XG4gICAqIEBwYXJhbSBvcHRpb25zLnRva2VuX2lkcyBTdHJpbmcgYXJyYXkgb2YgdG9rZW4gSURzIHRvIGZpbHRlciBieS5cbiAgICogQHBhcmFtIG9wdGlvbnMubGlzdGVkX2FmdGVyIEZpbHRlciBieSBvcmRlcnMgbGlzdGVkIGFmdGVyIHRoZSBVbml4IGVwb2NoIHRpbWVzdGFtcCBpbiBzZWNvbmRzXG4gICAqIEBwYXJhbSBvcHRpb25zLmxpc3RlZF9iZWZvcmUgRmlsdGVyIGJ5IG9yZGVycyBsaXN0ZWQgYmVmb3JlIHRoZSBVbml4IGVwb2NoIHRpbWVzdGFtcCBpbiBzZWNvbmRzXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgR2V0T3JkZXJzUmVzcG9uc2V9IHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0T3JkZXJzKHtcbiAgICBzaWRlLFxuICAgIHByb3RvY29sID0gXCJzZWFwb3J0XCIsXG4gICAgb3JkZXJEaXJlY3Rpb24gPSBcImRlc2NcIixcbiAgICBvcmRlckJ5ID0gXCJjcmVhdGVkX2RhdGVcIixcbiAgICAuLi5yZXN0T3B0aW9uc1xuICB9OiBPbWl0PE9yZGVyc1F1ZXJ5T3B0aW9ucywgXCJsaW1pdFwiPik6IFByb21pc2U8R2V0T3JkZXJzUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0PE9yZGVyc1F1ZXJ5UmVzcG9uc2U+KFxuICAgICAgZ2V0T3JkZXJzQVBJUGF0aCh0aGlzLmNoYWluLCBwcm90b2NvbCwgc2lkZSksXG4gICAgICBzZXJpYWxpemVPcmRlcnNRdWVyeU9wdGlvbnMoe1xuICAgICAgICBsaW1pdDogdGhpcy5wYWdlU2l6ZSxcbiAgICAgICAgb3JkZXJCeSxcbiAgICAgICAgb3JkZXJEaXJlY3Rpb24sXG4gICAgICAgIC4uLnJlc3RPcHRpb25zLFxuICAgICAgfSksXG4gICAgKTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4ucmVzcG9uc2UsXG4gICAgICBvcmRlcnM6IHJlc3BvbnNlLm9yZGVycy5tYXAoZGVzZXJpYWxpemVPcmRlciksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGFsbCBvZmZlcnMgZm9yIGEgZ2l2ZW4gY29sbGVjdGlvbi5cbiAgICogQHBhcmFtIGNvbGxlY3Rpb25TbHVnIFRoZSBzbHVnIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0gbGltaXQgVGhlIG51bWJlciBvZiBvZmZlcnMgdG8gcmV0dXJuLiBNdXN0IGJlIGJldHdlZW4gMSBhbmQgMTAwLiBEZWZhdWx0OiAxMDBcbiAgICogQHBhcmFtIG5leHQgVGhlIGN1cnNvciBmb3IgdGhlIG5leHQgcGFnZSBvZiByZXN1bHRzLiBUaGlzIGlzIHJldHVybmVkIGZyb20gYSBwcmV2aW91cyByZXF1ZXN0LlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIEdldE9mZmVyc1Jlc3BvbnNlfSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldEFsbE9mZmVycyhcbiAgICBjb2xsZWN0aW9uU2x1Zzogc3RyaW5nLFxuICAgIGxpbWl0PzogbnVtYmVyLFxuICAgIG5leHQ/OiBzdHJpbmcsXG4gICk6IFByb21pc2U8R2V0T2ZmZXJzUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0PEdldE9mZmVyc1Jlc3BvbnNlPihcbiAgICAgIGdldEFsbE9mZmVyc0FQSVBhdGgoY29sbGVjdGlvblNsdWcpLFxuICAgICAge1xuICAgICAgICBsaW1pdCxcbiAgICAgICAgbmV4dCxcbiAgICAgIH0sXG4gICAgKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhbGwgbGlzdGluZ3MgZm9yIGEgZ2l2ZW4gY29sbGVjdGlvbi5cbiAgICogQHBhcmFtIGNvbGxlY3Rpb25TbHVnIFRoZSBzbHVnIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0gbGltaXQgVGhlIG51bWJlciBvZiBsaXN0aW5ncyB0byByZXR1cm4uIE11c3QgYmUgYmV0d2VlbiAxIGFuZCAxMDAuIERlZmF1bHQ6IDEwMFxuICAgKiBAcGFyYW0gbmV4dCBUaGUgY3Vyc29yIGZvciB0aGUgbmV4dCBwYWdlIG9mIHJlc3VsdHMuIFRoaXMgaXMgcmV0dXJuZWQgZnJvbSBhIHByZXZpb3VzIHJlcXVlc3QuXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgR2V0TGlzdGluZ3NSZXNwb25zZX0gcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBnZXRBbGxMaXN0aW5ncyhcbiAgICBjb2xsZWN0aW9uU2x1Zzogc3RyaW5nLFxuICAgIGxpbWl0PzogbnVtYmVyLFxuICAgIG5leHQ/OiBzdHJpbmcsXG4gICk6IFByb21pc2U8R2V0TGlzdGluZ3NSZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQ8R2V0TGlzdGluZ3NSZXNwb25zZT4oXG4gICAgICBnZXRBbGxMaXN0aW5nc0FQSVBhdGgoY29sbGVjdGlvblNsdWcpLFxuICAgICAge1xuICAgICAgICBsaW1pdCxcbiAgICAgICAgbmV4dCxcbiAgICAgIH0sXG4gICAgKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgYmVzdCBvZmZlciBmb3IgYSBnaXZlbiB0b2tlbi5cbiAgICogQHBhcmFtIGNvbGxlY3Rpb25TbHVnIFRoZSBzbHVnIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0gdG9rZW5JZCBUaGUgdG9rZW4gaWRlbnRpZmllci5cbiAgICogQHJldHVybnMgVGhlIHtAbGluayBHZXRCZXN0T2ZmZXJSZXNwb25zZX0gcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBnZXRCZXN0T2ZmZXIoXG4gICAgY29sbGVjdGlvblNsdWc6IHN0cmluZyxcbiAgICB0b2tlbklkOiBzdHJpbmcgfCBudW1iZXIsXG4gICk6IFByb21pc2U8R2V0QmVzdE9mZmVyUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0PEdldEJlc3RPZmZlclJlc3BvbnNlPihcbiAgICAgIGdldEJlc3RPZmZlckFQSVBhdGgoY29sbGVjdGlvblNsdWcsIHRva2VuSWQpLFxuICAgICk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGJlc3QgbGlzdGluZyBmb3IgYSBnaXZlbiB0b2tlbi5cbiAgICogQHBhcmFtIGNvbGxlY3Rpb25TbHVnIFRoZSBzbHVnIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0gdG9rZW5JZCBUaGUgdG9rZW4gaWRlbnRpZmllci5cbiAgICogQHJldHVybnMgVGhlIHtAbGluayBHZXRCZXN0TGlzdGluZ1Jlc3BvbnNlfSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldEJlc3RMaXN0aW5nKFxuICAgIGNvbGxlY3Rpb25TbHVnOiBzdHJpbmcsXG4gICAgdG9rZW5JZDogc3RyaW5nIHwgbnVtYmVyLFxuICApOiBQcm9taXNlPEdldEJlc3RMaXN0aW5nUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0PEdldEJlc3RMaXN0aW5nUmVzcG9uc2U+KFxuICAgICAgZ2V0QmVzdExpc3RpbmdBUElQYXRoKGNvbGxlY3Rpb25TbHVnLCB0b2tlbklkKSxcbiAgICApO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBiZXN0IGxpc3RpbmdzIGZvciBhIGdpdmVuIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSBjb2xsZWN0aW9uU2x1ZyBUaGUgc2x1ZyBvZiB0aGUgY29sbGVjdGlvbi5cbiAgICogQHBhcmFtIGxpbWl0IFRoZSBudW1iZXIgb2YgbGlzdGluZ3MgdG8gcmV0dXJuLiBNdXN0IGJlIGJldHdlZW4gMSBhbmQgMTAwLiBEZWZhdWx0OiAxMDBcbiAgICogQHBhcmFtIG5leHQgVGhlIGN1cnNvciBmb3IgdGhlIG5leHQgcGFnZSBvZiByZXN1bHRzLiBUaGlzIGlzIHJldHVybmVkIGZyb20gYSBwcmV2aW91cyByZXF1ZXN0LlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIEdldExpc3RpbmdzUmVzcG9uc2V9IHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0QmVzdExpc3RpbmdzKFxuICAgIGNvbGxlY3Rpb25TbHVnOiBzdHJpbmcsXG4gICAgbGltaXQ/OiBudW1iZXIsXG4gICAgbmV4dD86IHN0cmluZyxcbiAgKTogUHJvbWlzZTxHZXRMaXN0aW5nc1Jlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldDxHZXRMaXN0aW5nc1Jlc3BvbnNlPihcbiAgICAgIGdldEJlc3RMaXN0aW5nc0FQSVBhdGgoY29sbGVjdGlvblNsdWcpLFxuICAgICAge1xuICAgICAgICBsaW1pdCxcbiAgICAgICAgbmV4dCxcbiAgICAgIH0sXG4gICAgKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgdGhlIGRhdGEgbmVlZGVkIHRvIGZ1bGZpbGwgYSBsaXN0aW5nIG9yIGFuIG9mZmVyIG9uY2hhaW4uXG4gICAqIEBwYXJhbSBmdWxmaWxsZXJBZGRyZXNzIFRoZSB3YWxsZXQgYWRkcmVzcyB3aGljaCB3aWxsIGJlIHVzZWQgdG8gZnVsZmlsbCB0aGUgb3JkZXJcbiAgICogQHBhcmFtIG9yZGVySGFzaCBUaGUgaGFzaCBvZiB0aGUgb3JkZXIgdG8gZnVsZmlsbFxuICAgKiBAcGFyYW0gcHJvdG9jb2xBZGRyZXNzIFRoZSBhZGRyZXNzIG9mIHRoZSBzZWFwb3J0IGNvbnRyYWN0XG4gICAqIEBzaWRlIFRoZSBzaWRlIG9mIHRoZSBvcmRlciAoYnV5IG9yIHNlbGwpXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgRnVsZmlsbG1lbnREYXRhUmVzcG9uc2V9XG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2VuZXJhdGVGdWxmaWxsbWVudERhdGEoXG4gICAgZnVsZmlsbGVyQWRkcmVzczogc3RyaW5nLFxuICAgIG9yZGVySGFzaDogc3RyaW5nLFxuICAgIHByb3RvY29sQWRkcmVzczogc3RyaW5nLFxuICAgIHNpZGU6IE9yZGVyU2lkZSxcbiAgKTogUHJvbWlzZTxGdWxmaWxsbWVudERhdGFSZXNwb25zZT4ge1xuICAgIGxldCBwYXlsb2FkOiBvYmplY3QgfCBudWxsID0gbnVsbDtcbiAgICBpZiAoc2lkZSA9PT0gT3JkZXJTaWRlLkFTSykge1xuICAgICAgcGF5bG9hZCA9IGdldEZ1bGZpbGxMaXN0aW5nUGF5bG9hZChcbiAgICAgICAgZnVsZmlsbGVyQWRkcmVzcyxcbiAgICAgICAgb3JkZXJIYXNoLFxuICAgICAgICBwcm90b2NvbEFkZHJlc3MsXG4gICAgICAgIHRoaXMuY2hhaW4sXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXlsb2FkID0gZ2V0RnVsZmlsbE9mZmVyUGF5bG9hZChcbiAgICAgICAgZnVsZmlsbGVyQWRkcmVzcyxcbiAgICAgICAgb3JkZXJIYXNoLFxuICAgICAgICBwcm90b2NvbEFkZHJlc3MsXG4gICAgICAgIHRoaXMuY2hhaW4sXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucG9zdDxGdWxmaWxsbWVudERhdGFSZXNwb25zZT4oXG4gICAgICBnZXRGdWxmaWxsbWVudERhdGFQYXRoKHNpZGUpLFxuICAgICAgcGF5bG9hZCxcbiAgICApO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQb3N0IGFuIG9yZGVyIHRvIE9wZW5TZWEuXG4gICAqIEBwYXJhbSBvcmRlciBUaGUgb3JkZXIgdG8gcG9zdFxuICAgKiBAcGFyYW0gYXBpT3B0aW9uc1xuICAgKiBAcGFyYW0gYXBpT3B0aW9ucy5wcm90b2NvbCBUaGUgcHJvdG9jb2wsIHR5cGljYWxseSBzZWFwb3J0LCB0byBwb3N0IHRoZSBvcmRlciB0by5cbiAgICogQHBhcmFtIGFwaU9wdGlvbnMuc2lkZSBUaGUgc2lkZSBvZiB0aGUgb3JkZXIgKGJ1eSBvciBzZWxsKS5cbiAgICogQHBhcmFtIGFwaU9wdGlvbnMucHJvdG9jb2xBZGRyZXNzIFRoZSBhZGRyZXNzIG9mIHRoZSBzZWFwb3J0IGNvbnRyYWN0LlxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIE9yZGVyVjJ9IHBvc3RlZCB0byB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIHBvc3RPcmRlcihcbiAgICBvcmRlcjogUHJvdG9jb2xEYXRhLFxuICAgIGFwaU9wdGlvbnM6IE9yZGVyQVBJT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxPcmRlclYyPiB7XG4gICAgLy8gVE9ETzogVmFsaWRhdGUgYXBpT3B0aW9ucy4gQXZvaWQgQVBJIGNhbGxzIHRoYXQgd2lsbCBkZWZpbml0ZWx5IGZhaWxcbiAgICBjb25zdCB7IHByb3RvY29sID0gXCJzZWFwb3J0XCIsIHNpZGUsIHByb3RvY29sQWRkcmVzcyB9ID0gYXBpT3B0aW9ucztcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucG9zdDxPcmRlcnNQb3N0UXVlcnlSZXNwb25zZT4oXG4gICAgICBnZXRPcmRlcnNBUElQYXRoKHRoaXMuY2hhaW4sIHByb3RvY29sLCBzaWRlKSxcbiAgICAgIHsgLi4ub3JkZXIsIHByb3RvY29sX2FkZHJlc3M6IHByb3RvY29sQWRkcmVzcyB9LFxuICAgICk7XG4gICAgcmV0dXJuIGRlc2VyaWFsaXplT3JkZXIocmVzcG9uc2Uub3JkZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkIGEgT3BlblNlYSBjb2xsZWN0aW9uIG9mZmVyLlxuICAgKiBAcGFyYW0gb2ZmZXJlckFkZHJlc3MgVGhlIHdhbGxldCBhZGRyZXNzIHdoaWNoIGlzIGNyZWF0aW5nIHRoZSBvZmZlci5cbiAgICogQHBhcmFtIHF1YW50aXR5IFRoZSBudW1iZXIgb2YgTkZUcyByZXF1ZXN0ZWQgaW4gdGhlIG9mZmVyLlxuICAgKiBAcGFyYW0gY29sbGVjdGlvblNsdWcgVGhlIHNsdWcgKGlkZW50aWZpZXIpIG9mIHRoZSBjb2xsZWN0aW9uIHRvIGJ1aWxkIHRoZSBvZmZlciBmb3IuXG4gICAqIEBwYXJhbSBvZmZlclByb3RlY3Rpb25FbmFibGVkIEJ1aWxkIHRoZSBvZmZlciBvbiBPcGVuU2VhJ3Mgc2lnbmVkIHpvbmUgdG8gcHJvdmlkZSBvZmZlciBwcm90ZWN0aW9ucyBmcm9tIHJlY2VpdmluZyBhbiBpdGVtIHdoaWNoIGlzIGRpc2FibGVkIGZyb20gdHJhZGluZy5cbiAgICogQHBhcmFtIHRyYWl0VHlwZSBJZiBkZWZpbmVkLCB0aGUgdHJhaXQgbmFtZSB0byBjcmVhdGUgdGhlIGNvbGxlY3Rpb24gb2ZmZXIgZm9yLlxuICAgKiBAcGFyYW0gdHJhaXRWYWx1ZSBJZiBkZWZpbmVkLCB0aGUgdHJhaXQgdmFsdWUgdG8gY3JlYXRlIHRoZSBjb2xsZWN0aW9uIG9mZmVyIGZvci5cbiAgICogQHJldHVybnMgVGhlIHtAbGluayBCdWlsZE9mZmVyUmVzcG9uc2V9IHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgYnVpbGRPZmZlcihcbiAgICBvZmZlcmVyQWRkcmVzczogc3RyaW5nLFxuICAgIHF1YW50aXR5OiBudW1iZXIsXG4gICAgY29sbGVjdGlvblNsdWc6IHN0cmluZyxcbiAgICBvZmZlclByb3RlY3Rpb25FbmFibGVkID0gdHJ1ZSxcbiAgICB0cmFpdFR5cGU/OiBzdHJpbmcsXG4gICAgdHJhaXRWYWx1ZT86IHN0cmluZyxcbiAgKTogUHJvbWlzZTxCdWlsZE9mZmVyUmVzcG9uc2U+IHtcbiAgICBpZiAodHJhaXRUeXBlIHx8IHRyYWl0VmFsdWUgJiYgKCF0cmFpdFR5cGUgfHwgIXRyYWl0VmFsdWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBcIkJvdGggdHJhaXRUeXBlIGFuZCB0cmFpdFZhbHVlIG11c3QgYmUgZGVmaW5lZCBpZiBvbmUgaXMgZGVmaW5lZC5cIlxuICAgICAgICApO1xuICAgIH1cbiAgICBjb25zdCBwYXlsb2FkID0gZ2V0QnVpbGRDb2xsZWN0aW9uT2ZmZXJQYXlsb2FkKFxuICAgICAgb2ZmZXJlckFkZHJlc3MsXG4gICAgICBxdWFudGl0eSxcbiAgICAgIGNvbGxlY3Rpb25TbHVnLFxuICAgICAgb2ZmZXJQcm90ZWN0aW9uRW5hYmxlZCxcbiAgICAgIHRyYWl0VHlwZSxcbiAgICAgIHRyYWl0VmFsdWUsXG4gICAgKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucG9zdDxCdWlsZE9mZmVyUmVzcG9uc2U+KFxuICAgICAgZ2V0QnVpbGRPZmZlclBhdGgoKSxcbiAgICAgIHBheWxvYWQsXG4gICAgKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgbGlzdCBjb2xsZWN0aW9uIG9mZmVycyBmb3IgYSBnaXZlbiBzbHVnLlxuICAgKiBAcGFyYW0gc2x1ZyBUaGUgc2x1ZyAoaWRlbnRpZmllcikgb2YgdGhlIGNvbGxlY3Rpb24gdG8gbGlzdCBvZmZlcnMgZm9yXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgTGlzdENvbGxlY3Rpb25PZmZlcnNSZXNwb25zZX0gcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBnZXRDb2xsZWN0aW9uT2ZmZXJzKFxuICAgIHNsdWc6IHN0cmluZyxcbiAgKTogUHJvbWlzZTxMaXN0Q29sbGVjdGlvbk9mZmVyc1Jlc3BvbnNlIHwgbnVsbD4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmdldDxMaXN0Q29sbGVjdGlvbk9mZmVyc1Jlc3BvbnNlPihcbiAgICAgIGdldENvbGxlY3Rpb25PZmZlcnNQYXRoKHNsdWcpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUG9zdCBhIGNvbGxlY3Rpb24gb2ZmZXIgdG8gT3BlblNlYS5cbiAgICogQHBhcmFtIG9yZGVyIFRoZSBjb2xsZWN0aW9uIG9mZmVyIHRvIHBvc3QuXG4gICAqIEBwYXJhbSBzbHVnIFRoZSBzbHVnIChpZGVudGlmaWVyKSBvZiB0aGUgY29sbGVjdGlvbiB0byBwb3N0IHRoZSBvZmZlciBmb3IuXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgT2ZmZXJ9IHJldHVybmVkIHRvIHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgcG9zdENvbGxlY3Rpb25PZmZlcihcbiAgICBvcmRlcjogUHJvdG9jb2xEYXRhLFxuICAgIHNsdWc6IHN0cmluZyxcbiAgKTogUHJvbWlzZTxDb2xsZWN0aW9uT2ZmZXIgfCBudWxsPiB7XG4gICAgY29uc3QgcGF5bG9hZCA9IGdldFBvc3RDb2xsZWN0aW9uT2ZmZXJQYXlsb2FkKHNsdWcsIG9yZGVyKTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5wb3N0PENvbGxlY3Rpb25PZmZlcj4oXG4gICAgICBnZXRQb3N0Q29sbGVjdGlvbk9mZmVyUGF0aCgpLFxuICAgICAgcGF5bG9hZCxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIG11bHRpcGxlIE5GVHMgZm9yIGEgY29sbGVjdGlvbi5cbiAgICogQHBhcmFtIHNsdWcgVGhlIHNsdWcgKGlkZW50aWZpZXIpIG9mIHRoZSBjb2xsZWN0aW9uXG4gICAqIEBwYXJhbSBsaW1pdCBUaGUgbnVtYmVyIG9mIE5GVHMgdG8gcmV0cmlldmUuIE11c3QgYmUgZ3JlYXRlciB0aGFuIDAgYW5kIGxlc3MgdGhhbiA1MS5cbiAgICogQHBhcmFtIG5leHQgQ3Vyc29yIHRvIHJldHJpZXZlIHRoZSBuZXh0IHBhZ2Ugb2YgTkZUc1xuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIExpc3RORlRzUmVzcG9uc2V9IHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0TkZUc0J5Q29sbGVjdGlvbihcbiAgICBzbHVnOiBzdHJpbmcsXG4gICAgbGltaXQ6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCxcbiAgICBuZXh0OiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsXG4gICk6IFByb21pc2U8TGlzdE5GVHNSZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQ8TGlzdE5GVHNSZXNwb25zZT4oXG4gICAgICBnZXRMaXN0TkZUc0J5Q29sbGVjdGlvblBhdGgoc2x1ZyksXG4gICAgICB7XG4gICAgICAgIGxpbWl0LFxuICAgICAgICBuZXh0LFxuICAgICAgfSxcbiAgICApO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBtdWx0aXBsZSBORlRzIGZvciBhIGNvbnRyYWN0LlxuICAgKiBAcGFyYW0gYWRkcmVzcyBUaGUgTkZUJ3MgY29udHJhY3QgYWRkcmVzcy5cbiAgICogQHBhcmFtIGxpbWl0IFRoZSBudW1iZXIgb2YgTkZUcyB0byByZXRyaWV2ZS4gTXVzdCBiZSBncmVhdGVyIHRoYW4gMCBhbmQgbGVzcyB0aGFuIDUxLlxuICAgKiBAcGFyYW0gbmV4dCBDdXJzb3IgdG8gcmV0cmlldmUgdGhlIG5leHQgcGFnZSBvZiBORlRzLlxuICAgKiBAcGFyYW0gY2hhaW4gVGhlIE5GVCdzIGNoYWluLlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIExpc3RORlRzUmVzcG9uc2V9IHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0TkZUc0J5Q29udHJhY3QoXG4gICAgYWRkcmVzczogc3RyaW5nLFxuICAgIGxpbWl0OiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsXG4gICAgbmV4dDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLFxuICAgIGNoYWluOiBDaGFpbiA9IHRoaXMuY2hhaW4sXG4gICk6IFByb21pc2U8TGlzdE5GVHNSZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQ8TGlzdE5GVHNSZXNwb25zZT4oXG4gICAgICBnZXRMaXN0TkZUc0J5Q29udHJhY3RQYXRoKGNoYWluLCBhZGRyZXNzKSxcbiAgICAgIHtcbiAgICAgICAgbGltaXQsXG4gICAgICAgIG5leHQsXG4gICAgICB9LFxuICAgICk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIE5GVHMgb3duZWQgYnkgYW4gYWNjb3VudC5cbiAgICogQHBhcmFtIGFkZHJlc3MgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnRcbiAgICogQHBhcmFtIGxpbWl0IFRoZSBudW1iZXIgb2YgTkZUcyB0byByZXRyaWV2ZS4gTXVzdCBiZSBncmVhdGVyIHRoYW4gMCBhbmQgbGVzcyB0aGFuIDUxLlxuICAgKiBAcGFyYW0gbmV4dCBDdXJzb3IgdG8gcmV0cmlldmUgdGhlIG5leHQgcGFnZSBvZiBORlRzXG4gICAqIEBwYXJhbSBjaGFpbiBUaGUgY2hhaW4gdG8gcXVlcnkuIERlZmF1bHRzIHRvIHRoZSBjaGFpbiBzZXQgaW4gdGhlIGNvbnN0cnVjdG9yLlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIExpc3RORlRzUmVzcG9uc2V9IHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0TkZUc0J5QWNjb3VudChcbiAgICBhZGRyZXNzOiBzdHJpbmcsXG4gICAgbGltaXQ6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCxcbiAgICBuZXh0OiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsXG4gICAgY2hhaW4gPSB0aGlzLmNoYWluLFxuICApOiBQcm9taXNlPExpc3RORlRzUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0PExpc3RORlRzUmVzcG9uc2U+KFxuICAgICAgZ2V0TGlzdE5GVHNCeUFjY291bnRQYXRoKGNoYWluLCBhZGRyZXNzKSxcbiAgICAgIHtcbiAgICAgICAgbGltaXQsXG4gICAgICAgIG5leHQsXG4gICAgICB9LFxuICAgICk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggbWV0YWRhdGEsIHRyYWl0cywgb3duZXJzaGlwIGluZm9ybWF0aW9uLCBhbmQgcmFyaXR5IGZvciBhIHNpbmdsZSBORlQuXG4gICAqIEBwYXJhbSBhZGRyZXNzIFRoZSBORlQncyBjb250cmFjdCBhZGRyZXNzLlxuICAgKiBAcGFyYW0gaWRlbnRpZmllciB0aGUgaWRlbnRpZmllciBvZiB0aGUgTkZUIChpLmUuIFRva2VuIElEKVxuICAgKiBAcGFyYW0gY2hhaW4gVGhlIE5GVCdzIGNoYWluLlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIEdldE5GVFJlc3BvbnNlfSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldE5GVChcbiAgICBhZGRyZXNzOiBzdHJpbmcsXG4gICAgaWRlbnRpZmllcjogc3RyaW5nLFxuICAgIGNoYWluID0gdGhpcy5jaGFpbixcbiAgKTogUHJvbWlzZTxHZXRORlRSZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQ8R2V0TkZUUmVzcG9uc2U+KFxuICAgICAgZ2V0TkZUUGF0aChjaGFpbiwgYWRkcmVzcywgaWRlbnRpZmllciksXG4gICAgKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggYW4gT3BlblNlYSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0gc2x1ZyBUaGUgc2x1ZyAoaWRlbnRpZmllcikgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgT3BlblNlYUNvbGxlY3Rpb259IHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0Q29sbGVjdGlvbihzbHVnOiBzdHJpbmcpOiBQcm9taXNlPE9wZW5TZWFDb2xsZWN0aW9uPiB7XG4gICAgY29uc3QgcGF0aCA9IGdldENvbGxlY3Rpb25QYXRoKHNsdWcpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQ8R2V0Q29sbGVjdGlvblJlc3BvbnNlPihwYXRoKTtcbiAgICByZXR1cm4gY29sbGVjdGlvbkZyb21KU09OKHJlc3BvbnNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBzdGF0cyBmb3IgYW4gT3BlblNlYSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0gc2x1ZyBUaGUgc2x1ZyAoaWRlbnRpZmllcikgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgT3BlblNlYUNvbGxlY3Rpb259IHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0Q29sbGVjdGlvblN0YXRzKFxuICAgIHNsdWc6IHN0cmluZyxcbiAgKTogUHJvbWlzZTxPcGVuU2VhQ29sbGVjdGlvblN0YXRzPiB7XG4gICAgY29uc3QgcGF0aCA9IGdldENvbGxlY3Rpb25TdGF0c1BhdGgoc2x1Zyk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldDxPcGVuU2VhQ29sbGVjdGlvblN0YXRzPihwYXRoKTtcbiAgICByZXR1cm4gcmVzcG9uc2UgYXMgT3BlblNlYUNvbGxlY3Rpb25TdGF0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBhIHBheW1lbnQgdG9rZW4uXG4gICAqIEBwYXJhbSBxdWVyeSBRdWVyeSB0byB1c2UgZm9yIGdldHRpbmcgdG9rZW5zLiBTZWUge0BsaW5rIE9wZW5TZWFQYXltZW50VG9rZW5RdWVyeX0uXG4gICAqIEBwYXJhbSBuZXh0IFRoZSBjdXJzb3IgZm9yIHRoZSBuZXh0IHBhZ2Ugb2YgcmVzdWx0cy4gVGhpcyBpcyByZXR1cm5lZCBmcm9tIGEgcHJldmlvdXMgcmVxdWVzdC5cbiAgICogQHJldHVybnMgVGhlIHtAbGluayBPcGVuU2VhUGF5bWVudFRva2VufSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldFBheW1lbnRUb2tlbihcbiAgICBhZGRyZXNzOiBzdHJpbmcsXG4gICAgY2hhaW4gPSB0aGlzLmNoYWluLFxuICApOiBQcm9taXNlPE9wZW5TZWFQYXltZW50VG9rZW4+IHtcbiAgICBjb25zdCBqc29uID0gYXdhaXQgdGhpcy5nZXQ8T3BlblNlYVBheW1lbnRUb2tlbj4oXG4gICAgICBnZXRQYXltZW50VG9rZW5QYXRoKGNoYWluLCBhZGRyZXNzKSxcbiAgICApO1xuICAgIHJldHVybiBwYXltZW50VG9rZW5Gcm9tSlNPTihqc29uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBhY2NvdW50IGZvciBhbiBhZGRyZXNzLlxuICAgKiBAcGFyYW0gcXVlcnkgUXVlcnkgdG8gdXNlIGZvciBnZXR0aW5nIHRva2Vucy4gU2VlIHtAbGluayBPcGVuU2VhUGF5bWVudFRva2VuUXVlcnl9LlxuICAgKiBAcGFyYW0gbmV4dCBUaGUgY3Vyc29yIGZvciB0aGUgbmV4dCBwYWdlIG9mIHJlc3VsdHMuIFRoaXMgaXMgcmV0dXJuZWQgZnJvbSBhIHByZXZpb3VzIHJlcXVlc3QuXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgR2V0QWNjb3VudFJlc3BvbnNlfSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldEFjY291bnQoYWRkcmVzczogc3RyaW5nKTogUHJvbWlzZTxPcGVuU2VhQWNjb3VudD4ge1xuICAgIGNvbnN0IGpzb24gPSBhd2FpdCB0aGlzLmdldDxPcGVuU2VhQWNjb3VudD4oZ2V0QWNjb3VudFBhdGgoYWRkcmVzcykpO1xuICAgIHJldHVybiBhY2NvdW50RnJvbUpTT04oanNvbik7XG4gIH1cblxuICAvKipcbiAgICogRm9yY2UgcmVmcmVzaCB0aGUgbWV0YWRhdGEgZm9yIGFuIE5GVC5cbiAgICogQHBhcmFtIGFkZHJlc3MgVGhlIGFkZHJlc3Mgb2YgdGhlIE5GVCdzIGNvbnRyYWN0LlxuICAgKiBAcGFyYW0gaWRlbnRpZmllciBUaGUgaWRlbnRpZmllciBvZiB0aGUgTkZULlxuICAgKiBAcGFyYW0gY2hhaW4gVGhlIGNoYWluIHdoZXJlIHRoZSBORlQgaXMgbG9jYXRlZC5cbiAgICogQHJldHVybnMgVGhlIHJlc3BvbnNlIGZyb20gdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyByZWZyZXNoTkZUTWV0YWRhdGEoXG4gICAgYWRkcmVzczogc3RyaW5nLFxuICAgIGlkZW50aWZpZXI6IHN0cmluZyxcbiAgICBjaGFpbjogQ2hhaW4gPSB0aGlzLmNoYWluLFxuICApOiBQcm9taXNlPFJlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnBvc3Q8UmVzcG9uc2U+KFxuICAgICAgZ2V0UmVmcmVzaE1ldGFkYXRhUGF0aChjaGFpbiwgYWRkcmVzcywgaWRlbnRpZmllciksXG4gICAgICB7fSxcbiAgICApO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyaWMgZmV0Y2ggbWV0aG9kIGZvciBhbnkgQVBJIGVuZHBvaW50XG4gICAqIEBwYXJhbSBhcGlQYXRoIFBhdGggdG8gVVJMIGVuZHBvaW50IHVuZGVyIEFQSVxuICAgKiBAcGFyYW0gcXVlcnkgVVJMIHF1ZXJ5IHBhcmFtcy4gV2lsbCBiZSB1c2VkIHRvIGNyZWF0ZSBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3QuXG4gICAqIEByZXR1cm5zIEB0eXBlUGFyYW0gVCBUaGUgcmVzcG9uc2UgZnJvbSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldDxUPihhcGlQYXRoOiBzdHJpbmcsIHF1ZXJ5OiBvYmplY3QgPSB7fSk6IFByb21pc2U8VD4ge1xuICAgIGNvbnN0IHFzID0gdGhpcy5vYmplY3RUb1NlYXJjaFBhcmFtcyhxdWVyeSk7XG4gICAgY29uc3QgdXJsID0gYCR7dGhpcy5hcGlCYXNlVXJsfSR7YXBpUGF0aH0/JHtxc31gO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLl9mZXRjaCh1cmwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyaWMgcG9zdCBtZXRob2QgZm9yIGFueSBBUEkgZW5kcG9pbnQuXG4gICAqIEBwYXJhbSBhcGlQYXRoIFBhdGggdG8gVVJMIGVuZHBvaW50IHVuZGVyIEFQSVxuICAgKiBAcGFyYW0gYm9keSBEYXRhIHRvIHNlbmQuXG4gICAqIEBwYXJhbSBvcHRzIGV0aGVycyBDb25uZWN0aW9uSW5mbywgc2ltaWxhciB0byBGZXRjaCBBUEkuXG4gICAqIEByZXR1cm5zIEB0eXBlUGFyYW0gVCBUaGUgcmVzcG9uc2UgZnJvbSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIHBvc3Q8VD4oXG4gICAgYXBpUGF0aDogc3RyaW5nLFxuICAgIGJvZHk/OiBvYmplY3QsXG4gICAgb3B0cz86IG9iamVjdCxcbiAgKTogUHJvbWlzZTxUPiB7XG4gICAgY29uc3QgdXJsID0gYCR7dGhpcy5hcGlCYXNlVXJsfSR7YXBpUGF0aH1gO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLl9mZXRjaCh1cmwsIG9wdHMsIGJvZHkpO1xuICB9XG5cbiAgcHJpdmF0ZSBvYmplY3RUb1NlYXJjaFBhcmFtcyhwYXJhbXM6IG9iamVjdCA9IHt9KSB7XG4gICAgY29uc3QgdXJsU2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuXG4gICAgT2JqZWN0LmVudHJpZXMocGFyYW1zKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIGlmICh2YWx1ZSAmJiBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKChpdGVtKSA9PiBpdGVtICYmIHVybFNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCBpdGVtKSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlKSB7XG4gICAgICAgIHVybFNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdXJsU2VhcmNoUGFyYW1zLnRvU3RyaW5nKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGZyb20gYW4gQVBJIEVuZHBvaW50LCBzZW5kaW5nIGF1dGggdG9rZW4gaW4gaGVhZGVyc1xuICAgKiBAcGFyYW0gb3B0cyBldGhlcnMgQ29ubmVjdGlvbkluZm8sIHNpbWlsYXIgdG8gRmV0Y2ggQVBJXG4gICAqIEBwYXJhbSBib2R5IE9wdGlvbmFsIGJvZHkgdG8gc2VuZC4gSWYgc2V0LCB3aWxsIFBPU1QsIG90aGVyd2lzZSBHRVRcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgX2ZldGNoKHVybDogc3RyaW5nLCBoZWFkZXJzPzogb2JqZWN0LCBib2R5Pzogb2JqZWN0KSB7XG4gICAgLy8gQ3JlYXRlIHRoZSBmZXRjaCByZXF1ZXN0XG4gICAgY29uc3QgcmVxID0gbmV3IGV0aGVycy5GZXRjaFJlcXVlc3QodXJsKTtcblxuICAgIC8vIFNldCB0aGUgaGVhZGVyc1xuICAgIGhlYWRlcnMgPSB7XG4gICAgICBcIngtYXBwLWlkXCI6IFwib3BlbnNlYS1qc1wiLFxuICAgICAgLi4uKHRoaXMuYXBpS2V5ID8geyBcIlgtQVBJLUtFWVwiOiB0aGlzLmFwaUtleSB9IDoge30pLFxuICAgICAgLi4uaGVhZGVycyxcbiAgICB9O1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGhlYWRlcnMpKSB7XG4gICAgICByZXEuc2V0SGVhZGVyKGtleSwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgYm9keSBpZiBwcm92aWRlZFxuICAgIGlmIChib2R5KSB7XG4gICAgICByZXEuYm9keSA9IGJvZHk7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSB0aHJvdHRsZSBwYXJhbXNcbiAgICAvLyAtIFNob3VsZCBiZSBhYmxlIHRvIHJlcGxhY2UgdGhpcyByZXRyeUZ1bmMgd2l0aCBgc2V0VGhyb3R0bGVQYXJhbXMoeyBzbG90SW50ZXJ2YWw6IDEwMDAgfSlgXG4gICAgLy8gICB3aGVuIHRoaXMgYnVnIGlzIGZpeGVkIGluIGV0aGVyczogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVycy1pby9ldGhlcnMuanMvaXNzdWVzLzQ2NjNcbiAgICByZXEucmV0cnlGdW5jID0gYXN5bmMgKF9yZXEsIHJlc3AsIGF0dGVtcHQpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICBgRmV0Y2ggYXR0ZW1wdCAke2F0dGVtcHR9IGZhaWxlZCB3aXRoIHN0YXR1cyAke3Jlc3Auc3RhdHVzQ29kZX1gLFxuICAgICAgKTtcbiAgICAgIC8vIFdhaXQgMXMgYmV0d2VlbiB0cmllc1xuICAgICAgYXdhaXQgc3RhbGwoMTAwMCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdGhpcy5sb2dnZXIoXG4gICAgICBgU2VuZGluZyByZXF1ZXN0OiAke3VybH0gJHtKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHJlcXVlc3Q6IHJlcSxcbiAgICAgICAgaGVhZGVyczogcmVxLmhlYWRlcnMsXG4gICAgICB9KX1gLFxuICAgICk7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcS5zZW5kKCk7XG4gICAgaWYgKCFyZXNwb25zZS5vaygpKSB7XG4gICAgICAvLyBJZiBhbiBlcnJvcnMgYXJyYXkgaXMgcmV0dXJuZWQsIHRocm93IHdpdGggdGhlIGVycm9yIG1lc3NhZ2VzLlxuICAgICAgY29uc3QgZXJyb3JzID0gcmVzcG9uc2UuYm9keUpzb24/LmVycm9ycztcbiAgICAgIGlmIChlcnJvcnM/Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTZXJ2ZXIgRXJyb3I6ICR7ZXJyb3JzLmpvaW4oXCIsIFwiKX1gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE90aGVyd2lzZSwgbGV0IGV0aGVycyB0aHJvdyBhIFNFUlZFUl9FUlJPUiBzaW5jZSBpdCB3aWxsIGluY2x1ZGVcbiAgICAgICAgLy8gbW9yZSBjb250ZXh0IGFib3V0IHRoZSByZXF1ZXN0IGFuZCByZXNwb25zZS5cbiAgICAgICAgcmVzcG9uc2UuYXNzZXJ0T2soKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlLmJvZHlKc29uO1xuICB9XG59XG4iXX0=
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXI3NnVkOWtjcSIsImFjdHVhbENvdmVyYWdlIiwicyIsImV0aGVyc18xIiwicmVxdWlyZSIsImFwaVBhdGhzXzEiLCJjb25zdGFudHNfMSIsInV0aWxzXzEiLCJ0eXBlc18xIiwidXRpbHNfMiIsInN0YWxsIiwiZHVyYXRpb24iLCJmIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiT3BlblNlYUFQSSIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwibG9nZ2VyIiwicGFnZVNpemUiLCJhcGlLZXkiLCJjaGFpbiIsImIiLCJDaGFpbiIsIk1haW5uZXQiLCJhcGlCYXNlVXJsIiwiaXNUZXN0Q2hhaW4iLCJBUElfQkFTRV9URVNUTkVUIiwiQVBJX0JBU0VfTUFJTk5FVCIsImFyZyIsImdldE9yZGVyIiwic2lkZSIsInByb3RvY29sIiwib3JkZXJEaXJlY3Rpb24iLCJvcmRlckJ5IiwicmVzdE9wdGlvbnMiLCJvcmRlcnMiLCJnZXQiLCJnZXRPcmRlcnNBUElQYXRoIiwic2VyaWFsaXplT3JkZXJzUXVlcnlPcHRpb25zIiwibGltaXQiLCJsZW5ndGgiLCJFcnJvciIsImRlc2VyaWFsaXplT3JkZXIiLCJnZXRPcmRlcnMiLCJyZXNwb25zZSIsIm1hcCIsImdldEFsbE9mZmVycyIsImNvbGxlY3Rpb25TbHVnIiwibmV4dCIsImdldEFsbE9mZmVyc0FQSVBhdGgiLCJnZXRBbGxMaXN0aW5ncyIsImdldEFsbExpc3RpbmdzQVBJUGF0aCIsImdldEJlc3RPZmZlciIsInRva2VuSWQiLCJnZXRCZXN0T2ZmZXJBUElQYXRoIiwiZ2V0QmVzdExpc3RpbmciLCJnZXRCZXN0TGlzdGluZ0FQSVBhdGgiLCJnZXRCZXN0TGlzdGluZ3MiLCJnZXRCZXN0TGlzdGluZ3NBUElQYXRoIiwiZ2VuZXJhdGVGdWxmaWxsbWVudERhdGEiLCJmdWxmaWxsZXJBZGRyZXNzIiwib3JkZXJIYXNoIiwicHJvdG9jb2xBZGRyZXNzIiwicGF5bG9hZCIsIk9yZGVyU2lkZSIsIkFTSyIsImdldEZ1bGZpbGxMaXN0aW5nUGF5bG9hZCIsImdldEZ1bGZpbGxPZmZlclBheWxvYWQiLCJwb3N0IiwiZ2V0RnVsZmlsbG1lbnREYXRhUGF0aCIsInBvc3RPcmRlciIsIm9yZGVyIiwiYXBpT3B0aW9ucyIsInByb3RvY29sX2FkZHJlc3MiLCJidWlsZE9mZmVyIiwib2ZmZXJlckFkZHJlc3MiLCJxdWFudGl0eSIsIm9mZmVyUHJvdGVjdGlvbkVuYWJsZWQiLCJ0cmFpdFR5cGUiLCJ0cmFpdFZhbHVlIiwiZ2V0QnVpbGRDb2xsZWN0aW9uT2ZmZXJQYXlsb2FkIiwiZ2V0QnVpbGRPZmZlclBhdGgiLCJnZXRDb2xsZWN0aW9uT2ZmZXJzIiwic2x1ZyIsImdldENvbGxlY3Rpb25PZmZlcnNQYXRoIiwicG9zdENvbGxlY3Rpb25PZmZlciIsImdldFBvc3RDb2xsZWN0aW9uT2ZmZXJQYXlsb2FkIiwiZ2V0UG9zdENvbGxlY3Rpb25PZmZlclBhdGgiLCJnZXRORlRzQnlDb2xsZWN0aW9uIiwidW5kZWZpbmVkIiwiZ2V0TGlzdE5GVHNCeUNvbGxlY3Rpb25QYXRoIiwiZ2V0TkZUc0J5Q29udHJhY3QiLCJhZGRyZXNzIiwiZ2V0TGlzdE5GVHNCeUNvbnRyYWN0UGF0aCIsImdldE5GVHNCeUFjY291bnQiLCJnZXRMaXN0TkZUc0J5QWNjb3VudFBhdGgiLCJnZXRORlQiLCJpZGVudGlmaWVyIiwiZ2V0TkZUUGF0aCIsImdldENvbGxlY3Rpb24iLCJwYXRoIiwiZ2V0Q29sbGVjdGlvblBhdGgiLCJjb2xsZWN0aW9uRnJvbUpTT04iLCJnZXRDb2xsZWN0aW9uU3RhdHMiLCJnZXRDb2xsZWN0aW9uU3RhdHNQYXRoIiwiZ2V0UGF5bWVudFRva2VuIiwianNvbiIsImdldFBheW1lbnRUb2tlblBhdGgiLCJwYXltZW50VG9rZW5Gcm9tSlNPTiIsImdldEFjY291bnQiLCJnZXRBY2NvdW50UGF0aCIsImFjY291bnRGcm9tSlNPTiIsInJlZnJlc2hORlRNZXRhZGF0YSIsImdldFJlZnJlc2hNZXRhZGF0YVBhdGgiLCJhcGlQYXRoIiwicXVlcnkiLCJxcyIsIm9iamVjdFRvU2VhcmNoUGFyYW1zIiwidXJsIiwiX2ZldGNoIiwiYm9keSIsIm9wdHMiLCJwYXJhbXMiLCJ1cmxTZWFyY2hQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJPYmplY3QiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImtleSIsInZhbHVlIiwiQXJyYXkiLCJpc0FycmF5IiwiaXRlbSIsImFwcGVuZCIsInRvU3RyaW5nIiwiaGVhZGVycyIsInJlcSIsImV0aGVycyIsIkZldGNoUmVxdWVzdCIsInNldEhlYWRlciIsInJldHJ5RnVuYyIsIl9yZXEiLCJyZXNwIiwiYXR0ZW1wdCIsInN0YXR1c0NvZGUiLCJKU09OIiwic3RyaW5naWZ5IiwicmVxdWVzdCIsInNlbmQiLCJvayIsImVycm9ycyIsImJvZHlKc29uIiwiam9pbiIsImFzc2VydE9rIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIi9Vc2Vycy9yZy9kZXYvb3BlbnNlYS1qcy9zcmMvYXBpL2FwaS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBldGhlcnMgfSBmcm9tIFwiZXRoZXJzXCI7XG5pbXBvcnQge1xuICBnZXRDb2xsZWN0aW9uUGF0aCxcbiAgZ2V0T3JkZXJzQVBJUGF0aCxcbiAgZ2V0UG9zdENvbGxlY3Rpb25PZmZlclBhdGgsXG4gIGdldEJ1aWxkT2ZmZXJQYXRoLFxuICBnZXRMaXN0TkZUc0J5Q29sbGVjdGlvblBhdGgsXG4gIGdldExpc3RORlRzQnlDb250cmFjdFBhdGgsXG4gIGdldE5GVFBhdGgsXG4gIGdldFJlZnJlc2hNZXRhZGF0YVBhdGgsXG4gIGdldENvbGxlY3Rpb25PZmZlcnNQYXRoLFxuICBnZXRMaXN0TkZUc0J5QWNjb3VudFBhdGgsXG4gIGdldEJlc3RPZmZlckFQSVBhdGgsXG4gIGdldEJlc3RMaXN0aW5nQVBJUGF0aCxcbiAgZ2V0QWxsT2ZmZXJzQVBJUGF0aCxcbiAgZ2V0QWxsTGlzdGluZ3NBUElQYXRoLFxuICBnZXRQYXltZW50VG9rZW5QYXRoLFxuICBnZXRBY2NvdW50UGF0aCxcbiAgZ2V0Q29sbGVjdGlvblN0YXRzUGF0aCxcbiAgZ2V0QmVzdExpc3RpbmdzQVBJUGF0aCxcbn0gZnJvbSBcIi4vYXBpUGF0aHNcIjtcbmltcG9ydCB7XG4gIEJ1aWxkT2ZmZXJSZXNwb25zZSxcbiAgR2V0Q29sbGVjdGlvblJlc3BvbnNlLFxuICBMaXN0TkZUc1Jlc3BvbnNlLFxuICBHZXRORlRSZXNwb25zZSxcbiAgTGlzdENvbGxlY3Rpb25PZmZlcnNSZXNwb25zZSxcbiAgR2V0T3JkZXJzUmVzcG9uc2UsXG4gIEdldEJlc3RPZmZlclJlc3BvbnNlLFxuICBHZXRCZXN0TGlzdGluZ1Jlc3BvbnNlLFxuICBHZXRPZmZlcnNSZXNwb25zZSxcbiAgR2V0TGlzdGluZ3NSZXNwb25zZSxcbiAgQ29sbGVjdGlvbk9mZmVyLFxufSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgQVBJX0JBU0VfTUFJTk5FVCwgQVBJX0JBU0VfVEVTVE5FVCB9IGZyb20gXCIuLi9jb25zdGFudHNcIjtcbmltcG9ydCB7XG4gIEZ1bGZpbGxtZW50RGF0YVJlc3BvbnNlLFxuICBPcmRlckFQSU9wdGlvbnMsXG4gIE9yZGVyc1Bvc3RRdWVyeVJlc3BvbnNlLFxuICBPcmRlcnNRdWVyeU9wdGlvbnMsXG4gIE9yZGVyc1F1ZXJ5UmVzcG9uc2UsXG4gIE9yZGVyVjIsXG4gIFByb3RvY29sRGF0YSxcbn0gZnJvbSBcIi4uL29yZGVycy90eXBlc1wiO1xuaW1wb3J0IHtcbiAgc2VyaWFsaXplT3JkZXJzUXVlcnlPcHRpb25zLFxuICBkZXNlcmlhbGl6ZU9yZGVyLFxuICBnZXRGdWxmaWxsbWVudERhdGFQYXRoLFxuICBnZXRGdWxmaWxsTGlzdGluZ1BheWxvYWQsXG4gIGdldEZ1bGZpbGxPZmZlclBheWxvYWQsXG4gIGdldEJ1aWxkQ29sbGVjdGlvbk9mZmVyUGF5bG9hZCxcbiAgZ2V0UG9zdENvbGxlY3Rpb25PZmZlclBheWxvYWQsXG59IGZyb20gXCIuLi9vcmRlcnMvdXRpbHNcIjtcbmltcG9ydCB7XG4gIENoYWluLFxuICBPcGVuU2VhQVBJQ29uZmlnLFxuICBPcGVuU2VhQWNjb3VudCxcbiAgT3BlblNlYUNvbGxlY3Rpb24sXG4gIE9wZW5TZWFDb2xsZWN0aW9uU3RhdHMsXG4gIE9wZW5TZWFQYXltZW50VG9rZW4sXG4gIE9yZGVyU2lkZSxcbn0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQge1xuICBwYXltZW50VG9rZW5Gcm9tSlNPTixcbiAgY29sbGVjdGlvbkZyb21KU09OLFxuICBpc1Rlc3RDaGFpbixcbiAgYWNjb3VudEZyb21KU09OLFxufSBmcm9tIFwiLi4vdXRpbHMvdXRpbHNcIjtcblxuZnVuY3Rpb24gc3RhbGwoZHVyYXRpb246IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9LCBkdXJhdGlvbik7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRoZSBBUEkgY2xhc3MgZm9yIHRoZSBPcGVuU2VhIFNESy5cbiAqIEBjYXRlZ29yeSBNYWluIENsYXNzZXNcbiAqL1xuZXhwb3J0IGNsYXNzIE9wZW5TZWFBUEkge1xuICAvKipcbiAgICogQmFzZSB1cmwgZm9yIHRoZSBBUElcbiAgICovXG4gIHB1YmxpYyByZWFkb25seSBhcGlCYXNlVXJsOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEZWZhdWx0IHNpemUgdG8gdXNlIGZvciBmZXRjaGluZyBvcmRlcnNcbiAgICovXG4gIHB1YmxpYyBwYWdlU2l6ZSA9IDIwO1xuICAvKipcbiAgICogTG9nZ2VyIGZ1bmN0aW9uIHRvIHVzZSB3aGVuIGRlYnVnZ2luZ1xuICAgKi9cbiAgcHVibGljIGxvZ2dlcjogKGFyZzogc3RyaW5nKSA9PiB2b2lkO1xuXG4gIHByaXZhdGUgYXBpS2V5OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgY2hhaW46IENoYWluO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhlIE9wZW5TZWFBUElcbiAgICogQHBhcmFtIGNvbmZpZyBPcGVuU2VhQVBJQ29uZmlnIGZvciBzZXR0aW5nIHVwIHRoZSBBUEksIGluY2x1ZGluZyBhbiBvcHRpb25hbCBBUEkga2V5LCBDaGFpbiBuYW1lLCBhbmQgYmFzZSBVUkxcbiAgICogQHBhcmFtIGxvZ2dlciBPcHRpb25hbCBmdW5jdGlvbiBmb3IgbG9nZ2luZyBkZWJ1ZyBzdHJpbmdzIGJlZm9yZSBhbmQgYWZ0ZXIgcmVxdWVzdHMgYXJlIG1hZGUuIERlZmF1bHRzIHRvIG5vIGxvZ2dpbmdcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogT3BlblNlYUFQSUNvbmZpZywgbG9nZ2VyPzogKGFyZzogc3RyaW5nKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5hcGlLZXkgPSBjb25maWcuYXBpS2V5O1xuICAgIHRoaXMuY2hhaW4gPSBjb25maWcuY2hhaW4gPz8gQ2hhaW4uTWFpbm5ldDtcblxuICAgIHRoaXMuYXBpQmFzZVVybCA9IGlzVGVzdENoYWluKHRoaXMuY2hhaW4pXG4gICAgICA/IEFQSV9CQVNFX1RFU1RORVRcbiAgICAgIDogQVBJX0JBU0VfTUFJTk5FVDtcblxuICAgIC8vIERlYnVnZ2luZzogZGVmYXVsdCB0byBub3RoaW5nXG4gICAgdGhpcy5sb2dnZXIgPSBsb2dnZXIgPz8gKChhcmc6IHN0cmluZykgPT4gYXJnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGFuIG9yZGVyIGZyb20gQVBJIGJhc2VkIG9uIHF1ZXJ5IG9wdGlvbnMuXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEBwYXJhbSBvcHRpb25zLnNpZGUgVGhlIHNpZGUgb2YgdGhlIG9yZGVyIChidXkgb3Igc2VsbFxuICAgKiBAcGFyYW0gb3B0aW9ucy5wcm90b2NvbCBUaGUgcHJvdG9jb2wsIHR5cGljYWxseSBzZWFwb3J0LCB0byBxdWVyeSBvcmRlcnMgZm9yXG4gICAqIEBwYXJhbSBvcHRpb25zLm9yZGVyRGlyZWN0aW9uIFRoZSBkaXJlY3Rpb24gdG8gc29ydCB0aGUgb3JkZXJzXG4gICAqIEBwYXJhbSBvcHRpb25zLm9yZGVyQnkgVGhlIGZpZWxkIHRvIHNvcnQgdGhlIG9yZGVycyBieVxuICAgKiBAcGFyYW0gb3B0aW9ucy5saW1pdCBUaGUgbnVtYmVyIG9mIG9yZGVycyB0byByZXRyaWV2ZVxuICAgKiBAcGFyYW0gb3B0aW9ucy5tYWtlciBGaWx0ZXIgYnkgdGhlIHdhbGxldCBhZGRyZXNzIG9mIHRoZSBvcmRlciBtYWtlclxuICAgKiBAcGFyYW0gb3B0aW9ucy50YWtlciBGaWx0ZXIgYnkgIHdhbGxldCBhZGRyZXNzIG9mIHRoZSBvcmRlciB0YWtlclxuICAgKiBAcGFyYW0gb3B0aW9ucy5hc3NldF9jb250cmFjdF9hZGRyZXNzIEFkZHJlc3Mgb2YgdGhlIE5GVCdzIGNvbnRyYWN0XG4gICAqIEBwYXJhbSBvcHRpb25zLnRva2VuX2lkcyBTdHJpbmcgYXJyYXkgb2YgdG9rZW4gSURzIHRvIGZpbHRlciBieS5cbiAgICogQHBhcmFtIG9wdGlvbnMubGlzdGVkX2FmdGVyIEZpbHRlciBieSBvcmRlcnMgbGlzdGVkIGFmdGVyIHRoZSBVbml4IGVwb2NoIHRpbWVzdGFtcCBpbiBzZWNvbmRzXG4gICAqIEBwYXJhbSBvcHRpb25zLmxpc3RlZF9iZWZvcmUgRmlsdGVyIGJ5IG9yZGVycyBsaXN0ZWQgYmVmb3JlIHRoZSBVbml4IGVwb2NoIHRpbWVzdGFtcCBpbiBzZWNvbmRzXG4gICAqIEByZXR1cm5zIFRoZSBmaXJzdCB7QGxpbmsgT3JkZXJWMn0gcmV0dXJuZWQgYnkgdGhlIEFQSVxuICAgKlxuICAgKiBAdGhyb3dzIEFuIGVycm9yIGlmIHRoZXJlIGFyZSBubyBtYXRjaGluZyBvcmRlcnMuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0T3JkZXIoe1xuICAgIHNpZGUsXG4gICAgcHJvdG9jb2wgPSBcInNlYXBvcnRcIixcbiAgICBvcmRlckRpcmVjdGlvbiA9IFwiZGVzY1wiLFxuICAgIG9yZGVyQnkgPSBcImNyZWF0ZWRfZGF0ZVwiLFxuICAgIC4uLnJlc3RPcHRpb25zXG4gIH06IE9taXQ8T3JkZXJzUXVlcnlPcHRpb25zLCBcImxpbWl0XCI+KTogUHJvbWlzZTxPcmRlclYyPiB7XG4gICAgY29uc3QgeyBvcmRlcnMgfSA9IGF3YWl0IHRoaXMuZ2V0PE9yZGVyc1F1ZXJ5UmVzcG9uc2U+KFxuICAgICAgZ2V0T3JkZXJzQVBJUGF0aCh0aGlzLmNoYWluLCBwcm90b2NvbCwgc2lkZSksXG4gICAgICBzZXJpYWxpemVPcmRlcnNRdWVyeU9wdGlvbnMoe1xuICAgICAgICBsaW1pdDogMSxcbiAgICAgICAgb3JkZXJCeSxcbiAgICAgICAgb3JkZXJEaXJlY3Rpb24sXG4gICAgICAgIC4uLnJlc3RPcHRpb25zLFxuICAgICAgfSksXG4gICAgKTtcbiAgICBpZiAob3JkZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGZvdW5kOiBubyBtYXRjaGluZyBvcmRlciBmb3VuZFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlc2VyaWFsaXplT3JkZXIob3JkZXJzWzBdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGEgbGlzdCBvZiBvcmRlcnMgZnJvbSBBUEkgYmFzZWQgb24gcXVlcnkgb3B0aW9ucy5cbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICogQHBhcmFtIG9wdGlvbnMuc2lkZSBUaGUgc2lkZSBvZiB0aGUgb3JkZXIgKGJ1eSBvciBzZWxsKVxuICAgKiBAcGFyYW0gb3B0aW9ucy5wcm90b2NvbCBUaGUgcHJvdG9jb2wsIHR5cGljYWxseSBzZWFwb3J0LCB0byBxdWVyeSBvcmRlcnMgZm9yXG4gICAqIEBwYXJhbSBvcHRpb25zLm9yZGVyRGlyZWN0aW9uIFRoZSBkaXJlY3Rpb24gdG8gc29ydCB0aGUgb3JkZXJzXG4gICAqIEBwYXJhbSBvcHRpb25zLm9yZGVyQnkgVGhlIGZpZWxkIHRvIHNvcnQgdGhlIG9yZGVycyBieVxuICAgKiBAcGFyYW0gb3B0aW9ucy5saW1pdCBUaGUgbnVtYmVyIG9mIG9yZGVycyB0byByZXRyaWV2ZVxuICAgKiBAcGFyYW0gb3B0aW9ucy5tYWtlciBGaWx0ZXIgYnkgdGhlIHdhbGxldCBhZGRyZXNzIG9mIHRoZSBvcmRlciBtYWtlclxuICAgKiBAcGFyYW0gb3B0aW9ucy50YWtlciBGaWx0ZXIgYnkgIHdhbGxldCBhZGRyZXNzIG9mIHRoZSBvcmRlciB0YWtlclxuICAgKiBAcGFyYW0gb3B0aW9ucy5hc3NldF9jb250cmFjdF9hZGRyZXNzIEFkZHJlc3Mgb2YgdGhlIE5GVCdzIGNvbnRyYWN0XG4gICAqIEBwYXJhbSBvcHRpb25zLnRva2VuX2lkcyBTdHJpbmcgYXJyYXkgb2YgdG9rZW4gSURzIHRvIGZpbHRlciBieS5cbiAgICogQHBhcmFtIG9wdGlvbnMubGlzdGVkX2FmdGVyIEZpbHRlciBieSBvcmRlcnMgbGlzdGVkIGFmdGVyIHRoZSBVbml4IGVwb2NoIHRpbWVzdGFtcCBpbiBzZWNvbmRzXG4gICAqIEBwYXJhbSBvcHRpb25zLmxpc3RlZF9iZWZvcmUgRmlsdGVyIGJ5IG9yZGVycyBsaXN0ZWQgYmVmb3JlIHRoZSBVbml4IGVwb2NoIHRpbWVzdGFtcCBpbiBzZWNvbmRzXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgR2V0T3JkZXJzUmVzcG9uc2V9IHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0T3JkZXJzKHtcbiAgICBzaWRlLFxuICAgIHByb3RvY29sID0gXCJzZWFwb3J0XCIsXG4gICAgb3JkZXJEaXJlY3Rpb24gPSBcImRlc2NcIixcbiAgICBvcmRlckJ5ID0gXCJjcmVhdGVkX2RhdGVcIixcbiAgICAuLi5yZXN0T3B0aW9uc1xuICB9OiBPbWl0PE9yZGVyc1F1ZXJ5T3B0aW9ucywgXCJsaW1pdFwiPik6IFByb21pc2U8R2V0T3JkZXJzUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0PE9yZGVyc1F1ZXJ5UmVzcG9uc2U+KFxuICAgICAgZ2V0T3JkZXJzQVBJUGF0aCh0aGlzLmNoYWluLCBwcm90b2NvbCwgc2lkZSksXG4gICAgICBzZXJpYWxpemVPcmRlcnNRdWVyeU9wdGlvbnMoe1xuICAgICAgICBsaW1pdDogdGhpcy5wYWdlU2l6ZSxcbiAgICAgICAgb3JkZXJCeSxcbiAgICAgICAgb3JkZXJEaXJlY3Rpb24sXG4gICAgICAgIC4uLnJlc3RPcHRpb25zLFxuICAgICAgfSksXG4gICAgKTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4ucmVzcG9uc2UsXG4gICAgICBvcmRlcnM6IHJlc3BvbnNlLm9yZGVycy5tYXAoZGVzZXJpYWxpemVPcmRlciksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGFsbCBvZmZlcnMgZm9yIGEgZ2l2ZW4gY29sbGVjdGlvbi5cbiAgICogQHBhcmFtIGNvbGxlY3Rpb25TbHVnIFRoZSBzbHVnIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0gbGltaXQgVGhlIG51bWJlciBvZiBvZmZlcnMgdG8gcmV0dXJuLiBNdXN0IGJlIGJldHdlZW4gMSBhbmQgMTAwLiBEZWZhdWx0OiAxMDBcbiAgICogQHBhcmFtIG5leHQgVGhlIGN1cnNvciBmb3IgdGhlIG5leHQgcGFnZSBvZiByZXN1bHRzLiBUaGlzIGlzIHJldHVybmVkIGZyb20gYSBwcmV2aW91cyByZXF1ZXN0LlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIEdldE9mZmVyc1Jlc3BvbnNlfSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldEFsbE9mZmVycyhcbiAgICBjb2xsZWN0aW9uU2x1Zzogc3RyaW5nLFxuICAgIGxpbWl0PzogbnVtYmVyLFxuICAgIG5leHQ/OiBzdHJpbmcsXG4gICk6IFByb21pc2U8R2V0T2ZmZXJzUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0PEdldE9mZmVyc1Jlc3BvbnNlPihcbiAgICAgIGdldEFsbE9mZmVyc0FQSVBhdGgoY29sbGVjdGlvblNsdWcpLFxuICAgICAge1xuICAgICAgICBsaW1pdCxcbiAgICAgICAgbmV4dCxcbiAgICAgIH0sXG4gICAgKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhbGwgbGlzdGluZ3MgZm9yIGEgZ2l2ZW4gY29sbGVjdGlvbi5cbiAgICogQHBhcmFtIGNvbGxlY3Rpb25TbHVnIFRoZSBzbHVnIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0gbGltaXQgVGhlIG51bWJlciBvZiBsaXN0aW5ncyB0byByZXR1cm4uIE11c3QgYmUgYmV0d2VlbiAxIGFuZCAxMDAuIERlZmF1bHQ6IDEwMFxuICAgKiBAcGFyYW0gbmV4dCBUaGUgY3Vyc29yIGZvciB0aGUgbmV4dCBwYWdlIG9mIHJlc3VsdHMuIFRoaXMgaXMgcmV0dXJuZWQgZnJvbSBhIHByZXZpb3VzIHJlcXVlc3QuXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgR2V0TGlzdGluZ3NSZXNwb25zZX0gcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBnZXRBbGxMaXN0aW5ncyhcbiAgICBjb2xsZWN0aW9uU2x1Zzogc3RyaW5nLFxuICAgIGxpbWl0PzogbnVtYmVyLFxuICAgIG5leHQ/OiBzdHJpbmcsXG4gICk6IFByb21pc2U8R2V0TGlzdGluZ3NSZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQ8R2V0TGlzdGluZ3NSZXNwb25zZT4oXG4gICAgICBnZXRBbGxMaXN0aW5nc0FQSVBhdGgoY29sbGVjdGlvblNsdWcpLFxuICAgICAge1xuICAgICAgICBsaW1pdCxcbiAgICAgICAgbmV4dCxcbiAgICAgIH0sXG4gICAgKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgYmVzdCBvZmZlciBmb3IgYSBnaXZlbiB0b2tlbi5cbiAgICogQHBhcmFtIGNvbGxlY3Rpb25TbHVnIFRoZSBzbHVnIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0gdG9rZW5JZCBUaGUgdG9rZW4gaWRlbnRpZmllci5cbiAgICogQHJldHVybnMgVGhlIHtAbGluayBHZXRCZXN0T2ZmZXJSZXNwb25zZX0gcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBnZXRCZXN0T2ZmZXIoXG4gICAgY29sbGVjdGlvblNsdWc6IHN0cmluZyxcbiAgICB0b2tlbklkOiBzdHJpbmcgfCBudW1iZXIsXG4gICk6IFByb21pc2U8R2V0QmVzdE9mZmVyUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0PEdldEJlc3RPZmZlclJlc3BvbnNlPihcbiAgICAgIGdldEJlc3RPZmZlckFQSVBhdGgoY29sbGVjdGlvblNsdWcsIHRva2VuSWQpLFxuICAgICk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGJlc3QgbGlzdGluZyBmb3IgYSBnaXZlbiB0b2tlbi5cbiAgICogQHBhcmFtIGNvbGxlY3Rpb25TbHVnIFRoZSBzbHVnIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0gdG9rZW5JZCBUaGUgdG9rZW4gaWRlbnRpZmllci5cbiAgICogQHJldHVybnMgVGhlIHtAbGluayBHZXRCZXN0TGlzdGluZ1Jlc3BvbnNlfSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldEJlc3RMaXN0aW5nKFxuICAgIGNvbGxlY3Rpb25TbHVnOiBzdHJpbmcsXG4gICAgdG9rZW5JZDogc3RyaW5nIHwgbnVtYmVyLFxuICApOiBQcm9taXNlPEdldEJlc3RMaXN0aW5nUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0PEdldEJlc3RMaXN0aW5nUmVzcG9uc2U+KFxuICAgICAgZ2V0QmVzdExpc3RpbmdBUElQYXRoKGNvbGxlY3Rpb25TbHVnLCB0b2tlbklkKSxcbiAgICApO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBiZXN0IGxpc3RpbmdzIGZvciBhIGdpdmVuIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSBjb2xsZWN0aW9uU2x1ZyBUaGUgc2x1ZyBvZiB0aGUgY29sbGVjdGlvbi5cbiAgICogQHBhcmFtIGxpbWl0IFRoZSBudW1iZXIgb2YgbGlzdGluZ3MgdG8gcmV0dXJuLiBNdXN0IGJlIGJldHdlZW4gMSBhbmQgMTAwLiBEZWZhdWx0OiAxMDBcbiAgICogQHBhcmFtIG5leHQgVGhlIGN1cnNvciBmb3IgdGhlIG5leHQgcGFnZSBvZiByZXN1bHRzLiBUaGlzIGlzIHJldHVybmVkIGZyb20gYSBwcmV2aW91cyByZXF1ZXN0LlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIEdldExpc3RpbmdzUmVzcG9uc2V9IHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0QmVzdExpc3RpbmdzKFxuICAgIGNvbGxlY3Rpb25TbHVnOiBzdHJpbmcsXG4gICAgbGltaXQ/OiBudW1iZXIsXG4gICAgbmV4dD86IHN0cmluZyxcbiAgKTogUHJvbWlzZTxHZXRMaXN0aW5nc1Jlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldDxHZXRMaXN0aW5nc1Jlc3BvbnNlPihcbiAgICAgIGdldEJlc3RMaXN0aW5nc0FQSVBhdGgoY29sbGVjdGlvblNsdWcpLFxuICAgICAge1xuICAgICAgICBsaW1pdCxcbiAgICAgICAgbmV4dCxcbiAgICAgIH0sXG4gICAgKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgdGhlIGRhdGEgbmVlZGVkIHRvIGZ1bGZpbGwgYSBsaXN0aW5nIG9yIGFuIG9mZmVyIG9uY2hhaW4uXG4gICAqIEBwYXJhbSBmdWxmaWxsZXJBZGRyZXNzIFRoZSB3YWxsZXQgYWRkcmVzcyB3aGljaCB3aWxsIGJlIHVzZWQgdG8gZnVsZmlsbCB0aGUgb3JkZXJcbiAgICogQHBhcmFtIG9yZGVySGFzaCBUaGUgaGFzaCBvZiB0aGUgb3JkZXIgdG8gZnVsZmlsbFxuICAgKiBAcGFyYW0gcHJvdG9jb2xBZGRyZXNzIFRoZSBhZGRyZXNzIG9mIHRoZSBzZWFwb3J0IGNvbnRyYWN0XG4gICAqIEBzaWRlIFRoZSBzaWRlIG9mIHRoZSBvcmRlciAoYnV5IG9yIHNlbGwpXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgRnVsZmlsbG1lbnREYXRhUmVzcG9uc2V9XG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2VuZXJhdGVGdWxmaWxsbWVudERhdGEoXG4gICAgZnVsZmlsbGVyQWRkcmVzczogc3RyaW5nLFxuICAgIG9yZGVySGFzaDogc3RyaW5nLFxuICAgIHByb3RvY29sQWRkcmVzczogc3RyaW5nLFxuICAgIHNpZGU6IE9yZGVyU2lkZSxcbiAgKTogUHJvbWlzZTxGdWxmaWxsbWVudERhdGFSZXNwb25zZT4ge1xuICAgIGxldCBwYXlsb2FkOiBvYmplY3QgfCBudWxsID0gbnVsbDtcbiAgICBpZiAoc2lkZSA9PT0gT3JkZXJTaWRlLkFTSykge1xuICAgICAgcGF5bG9hZCA9IGdldEZ1bGZpbGxMaXN0aW5nUGF5bG9hZChcbiAgICAgICAgZnVsZmlsbGVyQWRkcmVzcyxcbiAgICAgICAgb3JkZXJIYXNoLFxuICAgICAgICBwcm90b2NvbEFkZHJlc3MsXG4gICAgICAgIHRoaXMuY2hhaW4sXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXlsb2FkID0gZ2V0RnVsZmlsbE9mZmVyUGF5bG9hZChcbiAgICAgICAgZnVsZmlsbGVyQWRkcmVzcyxcbiAgICAgICAgb3JkZXJIYXNoLFxuICAgICAgICBwcm90b2NvbEFkZHJlc3MsXG4gICAgICAgIHRoaXMuY2hhaW4sXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucG9zdDxGdWxmaWxsbWVudERhdGFSZXNwb25zZT4oXG4gICAgICBnZXRGdWxmaWxsbWVudERhdGFQYXRoKHNpZGUpLFxuICAgICAgcGF5bG9hZCxcbiAgICApO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQb3N0IGFuIG9yZGVyIHRvIE9wZW5TZWEuXG4gICAqIEBwYXJhbSBvcmRlciBUaGUgb3JkZXIgdG8gcG9zdFxuICAgKiBAcGFyYW0gYXBpT3B0aW9uc1xuICAgKiBAcGFyYW0gYXBpT3B0aW9ucy5wcm90b2NvbCBUaGUgcHJvdG9jb2wsIHR5cGljYWxseSBzZWFwb3J0LCB0byBwb3N0IHRoZSBvcmRlciB0by5cbiAgICogQHBhcmFtIGFwaU9wdGlvbnMuc2lkZSBUaGUgc2lkZSBvZiB0aGUgb3JkZXIgKGJ1eSBvciBzZWxsKS5cbiAgICogQHBhcmFtIGFwaU9wdGlvbnMucHJvdG9jb2xBZGRyZXNzIFRoZSBhZGRyZXNzIG9mIHRoZSBzZWFwb3J0IGNvbnRyYWN0LlxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIE9yZGVyVjJ9IHBvc3RlZCB0byB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIHBvc3RPcmRlcihcbiAgICBvcmRlcjogUHJvdG9jb2xEYXRhLFxuICAgIGFwaU9wdGlvbnM6IE9yZGVyQVBJT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxPcmRlclYyPiB7XG4gICAgLy8gVE9ETzogVmFsaWRhdGUgYXBpT3B0aW9ucy4gQXZvaWQgQVBJIGNhbGxzIHRoYXQgd2lsbCBkZWZpbml0ZWx5IGZhaWxcbiAgICBjb25zdCB7IHByb3RvY29sID0gXCJzZWFwb3J0XCIsIHNpZGUsIHByb3RvY29sQWRkcmVzcyB9ID0gYXBpT3B0aW9ucztcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucG9zdDxPcmRlcnNQb3N0UXVlcnlSZXNwb25zZT4oXG4gICAgICBnZXRPcmRlcnNBUElQYXRoKHRoaXMuY2hhaW4sIHByb3RvY29sLCBzaWRlKSxcbiAgICAgIHsgLi4ub3JkZXIsIHByb3RvY29sX2FkZHJlc3M6IHByb3RvY29sQWRkcmVzcyB9LFxuICAgICk7XG4gICAgcmV0dXJuIGRlc2VyaWFsaXplT3JkZXIocmVzcG9uc2Uub3JkZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkIGEgT3BlblNlYSBjb2xsZWN0aW9uIG9mZmVyLlxuICAgKiBAcGFyYW0gb2ZmZXJlckFkZHJlc3MgVGhlIHdhbGxldCBhZGRyZXNzIHdoaWNoIGlzIGNyZWF0aW5nIHRoZSBvZmZlci5cbiAgICogQHBhcmFtIHF1YW50aXR5IFRoZSBudW1iZXIgb2YgTkZUcyByZXF1ZXN0ZWQgaW4gdGhlIG9mZmVyLlxuICAgKiBAcGFyYW0gY29sbGVjdGlvblNsdWcgVGhlIHNsdWcgKGlkZW50aWZpZXIpIG9mIHRoZSBjb2xsZWN0aW9uIHRvIGJ1aWxkIHRoZSBvZmZlciBmb3IuXG4gICAqIEBwYXJhbSBvZmZlclByb3RlY3Rpb25FbmFibGVkIEJ1aWxkIHRoZSBvZmZlciBvbiBPcGVuU2VhJ3Mgc2lnbmVkIHpvbmUgdG8gcHJvdmlkZSBvZmZlciBwcm90ZWN0aW9ucyBmcm9tIHJlY2VpdmluZyBhbiBpdGVtIHdoaWNoIGlzIGRpc2FibGVkIGZyb20gdHJhZGluZy5cbiAgICogQHBhcmFtIHRyYWl0VHlwZSBJZiBkZWZpbmVkLCB0aGUgdHJhaXQgbmFtZSB0byBjcmVhdGUgdGhlIGNvbGxlY3Rpb24gb2ZmZXIgZm9yLlxuICAgKiBAcGFyYW0gdHJhaXRWYWx1ZSBJZiBkZWZpbmVkLCB0aGUgdHJhaXQgdmFsdWUgdG8gY3JlYXRlIHRoZSBjb2xsZWN0aW9uIG9mZmVyIGZvci5cbiAgICogQHJldHVybnMgVGhlIHtAbGluayBCdWlsZE9mZmVyUmVzcG9uc2V9IHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgYnVpbGRPZmZlcihcbiAgICBvZmZlcmVyQWRkcmVzczogc3RyaW5nLFxuICAgIHF1YW50aXR5OiBudW1iZXIsXG4gICAgY29sbGVjdGlvblNsdWc6IHN0cmluZyxcbiAgICBvZmZlclByb3RlY3Rpb25FbmFibGVkID0gdHJ1ZSxcbiAgICB0cmFpdFR5cGU/OiBzdHJpbmcsXG4gICAgdHJhaXRWYWx1ZT86IHN0cmluZyxcbiAgKTogUHJvbWlzZTxCdWlsZE9mZmVyUmVzcG9uc2U+IHtcbiAgICBpZiAodHJhaXRUeXBlIHx8IHRyYWl0VmFsdWUgJiYgKCF0cmFpdFR5cGUgfHwgIXRyYWl0VmFsdWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBcIkJvdGggdHJhaXRUeXBlIGFuZCB0cmFpdFZhbHVlIG11c3QgYmUgZGVmaW5lZCBpZiBvbmUgaXMgZGVmaW5lZC5cIlxuICAgICAgICApO1xuICAgIH1cbiAgICBjb25zdCBwYXlsb2FkID0gZ2V0QnVpbGRDb2xsZWN0aW9uT2ZmZXJQYXlsb2FkKFxuICAgICAgb2ZmZXJlckFkZHJlc3MsXG4gICAgICBxdWFudGl0eSxcbiAgICAgIGNvbGxlY3Rpb25TbHVnLFxuICAgICAgb2ZmZXJQcm90ZWN0aW9uRW5hYmxlZCxcbiAgICAgIHRyYWl0VHlwZSxcbiAgICAgIHRyYWl0VmFsdWUsXG4gICAgKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucG9zdDxCdWlsZE9mZmVyUmVzcG9uc2U+KFxuICAgICAgZ2V0QnVpbGRPZmZlclBhdGgoKSxcbiAgICAgIHBheWxvYWQsXG4gICAgKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgbGlzdCBjb2xsZWN0aW9uIG9mZmVycyBmb3IgYSBnaXZlbiBzbHVnLlxuICAgKiBAcGFyYW0gc2x1ZyBUaGUgc2x1ZyAoaWRlbnRpZmllcikgb2YgdGhlIGNvbGxlY3Rpb24gdG8gbGlzdCBvZmZlcnMgZm9yXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgTGlzdENvbGxlY3Rpb25PZmZlcnNSZXNwb25zZX0gcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBnZXRDb2xsZWN0aW9uT2ZmZXJzKFxuICAgIHNsdWc6IHN0cmluZyxcbiAgKTogUHJvbWlzZTxMaXN0Q29sbGVjdGlvbk9mZmVyc1Jlc3BvbnNlIHwgbnVsbD4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmdldDxMaXN0Q29sbGVjdGlvbk9mZmVyc1Jlc3BvbnNlPihcbiAgICAgIGdldENvbGxlY3Rpb25PZmZlcnNQYXRoKHNsdWcpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUG9zdCBhIGNvbGxlY3Rpb24gb2ZmZXIgdG8gT3BlblNlYS5cbiAgICogQHBhcmFtIG9yZGVyIFRoZSBjb2xsZWN0aW9uIG9mZmVyIHRvIHBvc3QuXG4gICAqIEBwYXJhbSBzbHVnIFRoZSBzbHVnIChpZGVudGlmaWVyKSBvZiB0aGUgY29sbGVjdGlvbiB0byBwb3N0IHRoZSBvZmZlciBmb3IuXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgT2ZmZXJ9IHJldHVybmVkIHRvIHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgcG9zdENvbGxlY3Rpb25PZmZlcihcbiAgICBvcmRlcjogUHJvdG9jb2xEYXRhLFxuICAgIHNsdWc6IHN0cmluZyxcbiAgKTogUHJvbWlzZTxDb2xsZWN0aW9uT2ZmZXIgfCBudWxsPiB7XG4gICAgY29uc3QgcGF5bG9hZCA9IGdldFBvc3RDb2xsZWN0aW9uT2ZmZXJQYXlsb2FkKHNsdWcsIG9yZGVyKTtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5wb3N0PENvbGxlY3Rpb25PZmZlcj4oXG4gICAgICBnZXRQb3N0Q29sbGVjdGlvbk9mZmVyUGF0aCgpLFxuICAgICAgcGF5bG9hZCxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIG11bHRpcGxlIE5GVHMgZm9yIGEgY29sbGVjdGlvbi5cbiAgICogQHBhcmFtIHNsdWcgVGhlIHNsdWcgKGlkZW50aWZpZXIpIG9mIHRoZSBjb2xsZWN0aW9uXG4gICAqIEBwYXJhbSBsaW1pdCBUaGUgbnVtYmVyIG9mIE5GVHMgdG8gcmV0cmlldmUuIE11c3QgYmUgZ3JlYXRlciB0aGFuIDAgYW5kIGxlc3MgdGhhbiA1MS5cbiAgICogQHBhcmFtIG5leHQgQ3Vyc29yIHRvIHJldHJpZXZlIHRoZSBuZXh0IHBhZ2Ugb2YgTkZUc1xuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIExpc3RORlRzUmVzcG9uc2V9IHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0TkZUc0J5Q29sbGVjdGlvbihcbiAgICBzbHVnOiBzdHJpbmcsXG4gICAgbGltaXQ6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCxcbiAgICBuZXh0OiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsXG4gICk6IFByb21pc2U8TGlzdE5GVHNSZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQ8TGlzdE5GVHNSZXNwb25zZT4oXG4gICAgICBnZXRMaXN0TkZUc0J5Q29sbGVjdGlvblBhdGgoc2x1ZyksXG4gICAgICB7XG4gICAgICAgIGxpbWl0LFxuICAgICAgICBuZXh0LFxuICAgICAgfSxcbiAgICApO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBtdWx0aXBsZSBORlRzIGZvciBhIGNvbnRyYWN0LlxuICAgKiBAcGFyYW0gYWRkcmVzcyBUaGUgTkZUJ3MgY29udHJhY3QgYWRkcmVzcy5cbiAgICogQHBhcmFtIGxpbWl0IFRoZSBudW1iZXIgb2YgTkZUcyB0byByZXRyaWV2ZS4gTXVzdCBiZSBncmVhdGVyIHRoYW4gMCBhbmQgbGVzcyB0aGFuIDUxLlxuICAgKiBAcGFyYW0gbmV4dCBDdXJzb3IgdG8gcmV0cmlldmUgdGhlIG5leHQgcGFnZSBvZiBORlRzLlxuICAgKiBAcGFyYW0gY2hhaW4gVGhlIE5GVCdzIGNoYWluLlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIExpc3RORlRzUmVzcG9uc2V9IHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0TkZUc0J5Q29udHJhY3QoXG4gICAgYWRkcmVzczogc3RyaW5nLFxuICAgIGxpbWl0OiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsXG4gICAgbmV4dDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLFxuICAgIGNoYWluOiBDaGFpbiA9IHRoaXMuY2hhaW4sXG4gICk6IFByb21pc2U8TGlzdE5GVHNSZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQ8TGlzdE5GVHNSZXNwb25zZT4oXG4gICAgICBnZXRMaXN0TkZUc0J5Q29udHJhY3RQYXRoKGNoYWluLCBhZGRyZXNzKSxcbiAgICAgIHtcbiAgICAgICAgbGltaXQsXG4gICAgICAgIG5leHQsXG4gICAgICB9LFxuICAgICk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIE5GVHMgb3duZWQgYnkgYW4gYWNjb3VudC5cbiAgICogQHBhcmFtIGFkZHJlc3MgVGhlIGFkZHJlc3Mgb2YgdGhlIGFjY291bnRcbiAgICogQHBhcmFtIGxpbWl0IFRoZSBudW1iZXIgb2YgTkZUcyB0byByZXRyaWV2ZS4gTXVzdCBiZSBncmVhdGVyIHRoYW4gMCBhbmQgbGVzcyB0aGFuIDUxLlxuICAgKiBAcGFyYW0gbmV4dCBDdXJzb3IgdG8gcmV0cmlldmUgdGhlIG5leHQgcGFnZSBvZiBORlRzXG4gICAqIEBwYXJhbSBjaGFpbiBUaGUgY2hhaW4gdG8gcXVlcnkuIERlZmF1bHRzIHRvIHRoZSBjaGFpbiBzZXQgaW4gdGhlIGNvbnN0cnVjdG9yLlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIExpc3RORlRzUmVzcG9uc2V9IHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0TkZUc0J5QWNjb3VudChcbiAgICBhZGRyZXNzOiBzdHJpbmcsXG4gICAgbGltaXQ6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCxcbiAgICBuZXh0OiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsXG4gICAgY2hhaW4gPSB0aGlzLmNoYWluLFxuICApOiBQcm9taXNlPExpc3RORlRzUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0PExpc3RORlRzUmVzcG9uc2U+KFxuICAgICAgZ2V0TGlzdE5GVHNCeUFjY291bnRQYXRoKGNoYWluLCBhZGRyZXNzKSxcbiAgICAgIHtcbiAgICAgICAgbGltaXQsXG4gICAgICAgIG5leHQsXG4gICAgICB9LFxuICAgICk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggbWV0YWRhdGEsIHRyYWl0cywgb3duZXJzaGlwIGluZm9ybWF0aW9uLCBhbmQgcmFyaXR5IGZvciBhIHNpbmdsZSBORlQuXG4gICAqIEBwYXJhbSBhZGRyZXNzIFRoZSBORlQncyBjb250cmFjdCBhZGRyZXNzLlxuICAgKiBAcGFyYW0gaWRlbnRpZmllciB0aGUgaWRlbnRpZmllciBvZiB0aGUgTkZUIChpLmUuIFRva2VuIElEKVxuICAgKiBAcGFyYW0gY2hhaW4gVGhlIE5GVCdzIGNoYWluLlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIEdldE5GVFJlc3BvbnNlfSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldE5GVChcbiAgICBhZGRyZXNzOiBzdHJpbmcsXG4gICAgaWRlbnRpZmllcjogc3RyaW5nLFxuICAgIGNoYWluID0gdGhpcy5jaGFpbixcbiAgKTogUHJvbWlzZTxHZXRORlRSZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQ8R2V0TkZUUmVzcG9uc2U+KFxuICAgICAgZ2V0TkZUUGF0aChjaGFpbiwgYWRkcmVzcywgaWRlbnRpZmllciksXG4gICAgKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggYW4gT3BlblNlYSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0gc2x1ZyBUaGUgc2x1ZyAoaWRlbnRpZmllcikgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgT3BlblNlYUNvbGxlY3Rpb259IHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0Q29sbGVjdGlvbihzbHVnOiBzdHJpbmcpOiBQcm9taXNlPE9wZW5TZWFDb2xsZWN0aW9uPiB7XG4gICAgY29uc3QgcGF0aCA9IGdldENvbGxlY3Rpb25QYXRoKHNsdWcpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQ8R2V0Q29sbGVjdGlvblJlc3BvbnNlPihwYXRoKTtcbiAgICByZXR1cm4gY29sbGVjdGlvbkZyb21KU09OKHJlc3BvbnNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBzdGF0cyBmb3IgYW4gT3BlblNlYSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0gc2x1ZyBUaGUgc2x1ZyAoaWRlbnRpZmllcikgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgT3BlblNlYUNvbGxlY3Rpb259IHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0Q29sbGVjdGlvblN0YXRzKFxuICAgIHNsdWc6IHN0cmluZyxcbiAgKTogUHJvbWlzZTxPcGVuU2VhQ29sbGVjdGlvblN0YXRzPiB7XG4gICAgY29uc3QgcGF0aCA9IGdldENvbGxlY3Rpb25TdGF0c1BhdGgoc2x1Zyk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldDxPcGVuU2VhQ29sbGVjdGlvblN0YXRzPihwYXRoKTtcbiAgICByZXR1cm4gcmVzcG9uc2UgYXMgT3BlblNlYUNvbGxlY3Rpb25TdGF0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBhIHBheW1lbnQgdG9rZW4uXG4gICAqIEBwYXJhbSBxdWVyeSBRdWVyeSB0byB1c2UgZm9yIGdldHRpbmcgdG9rZW5zLiBTZWUge0BsaW5rIE9wZW5TZWFQYXltZW50VG9rZW5RdWVyeX0uXG4gICAqIEBwYXJhbSBuZXh0IFRoZSBjdXJzb3IgZm9yIHRoZSBuZXh0IHBhZ2Ugb2YgcmVzdWx0cy4gVGhpcyBpcyByZXR1cm5lZCBmcm9tIGEgcHJldmlvdXMgcmVxdWVzdC5cbiAgICogQHJldHVybnMgVGhlIHtAbGluayBPcGVuU2VhUGF5bWVudFRva2VufSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldFBheW1lbnRUb2tlbihcbiAgICBhZGRyZXNzOiBzdHJpbmcsXG4gICAgY2hhaW4gPSB0aGlzLmNoYWluLFxuICApOiBQcm9taXNlPE9wZW5TZWFQYXltZW50VG9rZW4+IHtcbiAgICBjb25zdCBqc29uID0gYXdhaXQgdGhpcy5nZXQ8T3BlblNlYVBheW1lbnRUb2tlbj4oXG4gICAgICBnZXRQYXltZW50VG9rZW5QYXRoKGNoYWluLCBhZGRyZXNzKSxcbiAgICApO1xuICAgIHJldHVybiBwYXltZW50VG9rZW5Gcm9tSlNPTihqc29uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBhY2NvdW50IGZvciBhbiBhZGRyZXNzLlxuICAgKiBAcGFyYW0gcXVlcnkgUXVlcnkgdG8gdXNlIGZvciBnZXR0aW5nIHRva2Vucy4gU2VlIHtAbGluayBPcGVuU2VhUGF5bWVudFRva2VuUXVlcnl9LlxuICAgKiBAcGFyYW0gbmV4dCBUaGUgY3Vyc29yIGZvciB0aGUgbmV4dCBwYWdlIG9mIHJlc3VsdHMuIFRoaXMgaXMgcmV0dXJuZWQgZnJvbSBhIHByZXZpb3VzIHJlcXVlc3QuXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgR2V0QWNjb3VudFJlc3BvbnNlfSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldEFjY291bnQoYWRkcmVzczogc3RyaW5nKTogUHJvbWlzZTxPcGVuU2VhQWNjb3VudD4ge1xuICAgIGNvbnN0IGpzb24gPSBhd2FpdCB0aGlzLmdldDxPcGVuU2VhQWNjb3VudD4oZ2V0QWNjb3VudFBhdGgoYWRkcmVzcykpO1xuICAgIHJldHVybiBhY2NvdW50RnJvbUpTT04oanNvbik7XG4gIH1cblxuICAvKipcbiAgICogRm9yY2UgcmVmcmVzaCB0aGUgbWV0YWRhdGEgZm9yIGFuIE5GVC5cbiAgICogQHBhcmFtIGFkZHJlc3MgVGhlIGFkZHJlc3Mgb2YgdGhlIE5GVCdzIGNvbnRyYWN0LlxuICAgKiBAcGFyYW0gaWRlbnRpZmllciBUaGUgaWRlbnRpZmllciBvZiB0aGUgTkZULlxuICAgKiBAcGFyYW0gY2hhaW4gVGhlIGNoYWluIHdoZXJlIHRoZSBORlQgaXMgbG9jYXRlZC5cbiAgICogQHJldHVybnMgVGhlIHJlc3BvbnNlIGZyb20gdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyByZWZyZXNoTkZUTWV0YWRhdGEoXG4gICAgYWRkcmVzczogc3RyaW5nLFxuICAgIGlkZW50aWZpZXI6IHN0cmluZyxcbiAgICBjaGFpbjogQ2hhaW4gPSB0aGlzLmNoYWluLFxuICApOiBQcm9taXNlPFJlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnBvc3Q8UmVzcG9uc2U+KFxuICAgICAgZ2V0UmVmcmVzaE1ldGFkYXRhUGF0aChjaGFpbiwgYWRkcmVzcywgaWRlbnRpZmllciksXG4gICAgICB7fSxcbiAgICApO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyaWMgZmV0Y2ggbWV0aG9kIGZvciBhbnkgQVBJIGVuZHBvaW50XG4gICAqIEBwYXJhbSBhcGlQYXRoIFBhdGggdG8gVVJMIGVuZHBvaW50IHVuZGVyIEFQSVxuICAgKiBAcGFyYW0gcXVlcnkgVVJMIHF1ZXJ5IHBhcmFtcy4gV2lsbCBiZSB1c2VkIHRvIGNyZWF0ZSBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3QuXG4gICAqIEByZXR1cm5zIEB0eXBlUGFyYW0gVCBUaGUgcmVzcG9uc2UgZnJvbSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldDxUPihhcGlQYXRoOiBzdHJpbmcsIHF1ZXJ5OiBvYmplY3QgPSB7fSk6IFByb21pc2U8VD4ge1xuICAgIGNvbnN0IHFzID0gdGhpcy5vYmplY3RUb1NlYXJjaFBhcmFtcyhxdWVyeSk7XG4gICAgY29uc3QgdXJsID0gYCR7dGhpcy5hcGlCYXNlVXJsfSR7YXBpUGF0aH0/JHtxc31gO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLl9mZXRjaCh1cmwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyaWMgcG9zdCBtZXRob2QgZm9yIGFueSBBUEkgZW5kcG9pbnQuXG4gICAqIEBwYXJhbSBhcGlQYXRoIFBhdGggdG8gVVJMIGVuZHBvaW50IHVuZGVyIEFQSVxuICAgKiBAcGFyYW0gYm9keSBEYXRhIHRvIHNlbmQuXG4gICAqIEBwYXJhbSBvcHRzIGV0aGVycyBDb25uZWN0aW9uSW5mbywgc2ltaWxhciB0byBGZXRjaCBBUEkuXG4gICAqIEByZXR1cm5zIEB0eXBlUGFyYW0gVCBUaGUgcmVzcG9uc2UgZnJvbSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIHBvc3Q8VD4oXG4gICAgYXBpUGF0aDogc3RyaW5nLFxuICAgIGJvZHk/OiBvYmplY3QsXG4gICAgb3B0cz86IG9iamVjdCxcbiAgKTogUHJvbWlzZTxUPiB7XG4gICAgY29uc3QgdXJsID0gYCR7dGhpcy5hcGlCYXNlVXJsfSR7YXBpUGF0aH1gO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLl9mZXRjaCh1cmwsIG9wdHMsIGJvZHkpO1xuICB9XG5cbiAgcHJpdmF0ZSBvYmplY3RUb1NlYXJjaFBhcmFtcyhwYXJhbXM6IG9iamVjdCA9IHt9KSB7XG4gICAgY29uc3QgdXJsU2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuXG4gICAgT2JqZWN0LmVudHJpZXMocGFyYW1zKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIGlmICh2YWx1ZSAmJiBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKChpdGVtKSA9PiBpdGVtICYmIHVybFNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCBpdGVtKSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlKSB7XG4gICAgICAgIHVybFNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdXJsU2VhcmNoUGFyYW1zLnRvU3RyaW5nKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGZyb20gYW4gQVBJIEVuZHBvaW50LCBzZW5kaW5nIGF1dGggdG9rZW4gaW4gaGVhZGVyc1xuICAgKiBAcGFyYW0gb3B0cyBldGhlcnMgQ29ubmVjdGlvbkluZm8sIHNpbWlsYXIgdG8gRmV0Y2ggQVBJXG4gICAqIEBwYXJhbSBib2R5IE9wdGlvbmFsIGJvZHkgdG8gc2VuZC4gSWYgc2V0LCB3aWxsIFBPU1QsIG90aGVyd2lzZSBHRVRcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgX2ZldGNoKHVybDogc3RyaW5nLCBoZWFkZXJzPzogb2JqZWN0LCBib2R5Pzogb2JqZWN0KSB7XG4gICAgLy8gQ3JlYXRlIHRoZSBmZXRjaCByZXF1ZXN0XG4gICAgY29uc3QgcmVxID0gbmV3IGV0aGVycy5GZXRjaFJlcXVlc3QodXJsKTtcblxuICAgIC8vIFNldCB0aGUgaGVhZGVyc1xuICAgIGhlYWRlcnMgPSB7XG4gICAgICBcIngtYXBwLWlkXCI6IFwib3BlbnNlYS1qc1wiLFxuICAgICAgLi4uKHRoaXMuYXBpS2V5ID8geyBcIlgtQVBJLUtFWVwiOiB0aGlzLmFwaUtleSB9IDoge30pLFxuICAgICAgLi4uaGVhZGVycyxcbiAgICB9O1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGhlYWRlcnMpKSB7XG4gICAgICByZXEuc2V0SGVhZGVyKGtleSwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgYm9keSBpZiBwcm92aWRlZFxuICAgIGlmIChib2R5KSB7XG4gICAgICByZXEuYm9keSA9IGJvZHk7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSB0aHJvdHRsZSBwYXJhbXNcbiAgICAvLyAtIFNob3VsZCBiZSBhYmxlIHRvIHJlcGxhY2UgdGhpcyByZXRyeUZ1bmMgd2l0aCBgc2V0VGhyb3R0bGVQYXJhbXMoeyBzbG90SW50ZXJ2YWw6IDEwMDAgfSlgXG4gICAgLy8gICB3aGVuIHRoaXMgYnVnIGlzIGZpeGVkIGluIGV0aGVyczogaHR0cHM6Ly9naXRodWIuY29tL2V0aGVycy1pby9ldGhlcnMuanMvaXNzdWVzLzQ2NjNcbiAgICByZXEucmV0cnlGdW5jID0gYXN5bmMgKF9yZXEsIHJlc3AsIGF0dGVtcHQpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICBgRmV0Y2ggYXR0ZW1wdCAke2F0dGVtcHR9IGZhaWxlZCB3aXRoIHN0YXR1cyAke3Jlc3Auc3RhdHVzQ29kZX1gLFxuICAgICAgKTtcbiAgICAgIC8vIFdhaXQgMXMgYmV0d2VlbiB0cmllc1xuICAgICAgYXdhaXQgc3RhbGwoMTAwMCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgdGhpcy5sb2dnZXIoXG4gICAgICBgU2VuZGluZyByZXF1ZXN0OiAke3VybH0gJHtKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHJlcXVlc3Q6IHJlcSxcbiAgICAgICAgaGVhZGVyczogcmVxLmhlYWRlcnMsXG4gICAgICB9KX1gLFxuICAgICk7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcS5zZW5kKCk7XG4gICAgaWYgKCFyZXNwb25zZS5vaygpKSB7XG4gICAgICAvLyBJZiBhbiBlcnJvcnMgYXJyYXkgaXMgcmV0dXJuZWQsIHRocm93IHdpdGggdGhlIGVycm9yIG1lc3NhZ2VzLlxuICAgICAgY29uc3QgZXJyb3JzID0gcmVzcG9uc2UuYm9keUpzb24/LmVycm9ycztcbiAgICAgIGlmIChlcnJvcnM/Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTZXJ2ZXIgRXJyb3I6ICR7ZXJyb3JzLmpvaW4oXCIsIFwiKX1gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE90aGVyd2lzZSwgbGV0IGV0aGVycyB0aHJvdyBhIFNFUlZFUl9FUlJPUiBzaW5jZSBpdCB3aWxsIGluY2x1ZGVcbiAgICAgICAgLy8gbW9yZSBjb250ZXh0IGFib3V0IHRoZSByZXF1ZXN0IGFuZCByZXNwb25zZS5cbiAgICAgICAgcmVzcG9uc2UuYXNzZXJ0T2soKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlLmJvZHlKc29uO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiJ1dWlEQTJFQztBQUFBQSxjQUFBLFNBQUFBLENBQUEsU0FBQUMsY0FBQSxXQUFBQSxjQUFBLEVBQUFELGNBQUEsR0FBQUEsY0FBQSxHQUFBRSxDQUFBLE0sMkdBM0VELE1BQUFDLFFBQUEsRUFBQUgsY0FBQSxHQUFBRSxDQUFBLE1BQUFFLE9BQUEsWUFDQSxNQUFBQyxVQUFBLEVBQUFMLGNBQUEsR0FBQUUsQ0FBQSxNQUFBRSxPQUFBLGdCQWlDQSxNQUFBRSxXQUFBLEVBQUFOLGNBQUEsR0FBQUUsQ0FBQSxNQUFBRSxPQUFBLGtCQVVBLE1BQUFHLE9BQUEsRUFBQVAsY0FBQSxHQUFBRSxDQUFBLE1BQUFFLE9BQUEscUJBU0EsTUFBQUksT0FBQSxFQUFBUixjQUFBLEdBQUFFLENBQUEsTUFBQUUsT0FBQSxjQVNBLE1BQUFLLE9BQUEsRUFBQVQsY0FBQSxHQUFBRSxDQUFBLE1BQUFFLE9BQUEsb0JBT0EsUUFBUyxDQUFBTSxLQUFLQSxDQUFDQyxRQUFnQixFQUFBWCxjQUFBLEdBQUFZLENBQUEsTUFBQVosY0FBQSxHQUFBRSxDQUFBLE1BQzdCLE1BQU8sSUFBSSxDQUFBVyxPQUFPLENBQUVDLE9BQU8sRUFBSSxDQUFBZCxjQUFBLEdBQUFZLENBQUEsTUFBQVosY0FBQSxHQUFBRSxDQUFBLE1BQzdCYSxVQUFVLENBQUMsSUFBSyxDQUFBZixjQUFBLEdBQUFZLENBQUEsTUFBQVosY0FBQSxHQUFBRSxDQUFBLE9BQ2RZLE9BQU8s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