"use strict";function cov_1r76ud9kcq(){var path="/Users/rg/dev/opensea-js/src/api/api.ts";var hash="fbbcaf174f595c51ee573aba83b702bbf0e539e2";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/rg/dev/opensea-js/src/api/api.ts",statementMap:{"0":{start:{line:2,column:0},end:{line:2,column:62}},"1":{start:{line:3,column:0},end:{line:3,column:28}},"2":{start:{line:4,column:17},end:{line:4,column:34}},"3":{start:{line:5,column:19},end:{line:5,column:40}},"4":{start:{line:6,column:16},end:{line:6,column:34}},"5":{start:{line:7,column:20},end:{line:7,column:43}},"6":{start:{line:8,column:16},end:{line:8,column:42}},"7":{start:{line:9,column:16},end:{line:9,column:35}},"8":{start:{line:10,column:16},end:{line:10,column:41}},"9":{start:{line:25,column:8},end:{line:25,column:27}},"10":{start:{line:26,column:8},end:{line:26,column:36}},"11":{start:{line:27,column:8},end:{line:27,column:59}},"12":{start:{line:28,column:8},end:{line:35,column:9}},"13":{start:{line:29,column:12},end:{line:29,column:48}},"14":{start:{line:32,column:12},end:{line:34,column:47}},"15":{start:{line:37,column:8},end:{line:37,column:47}},"16":{start:{line:37,column:42},end:{line:37,column:45}},"17":{start:{line:58,column:27},end:{line:63,column:11}},"18":{start:{line:64,column:8},end:{line:66,column:9}},"19":{start:{line:65,column:12},end:{line:65,column:66}},"20":{start:{line:67,column:8},end:{line:67,column:56}},"21":{start:{line:86,column:25},end:{line:91,column:11}},"22":{start:{line:92,column:8},end:{line:95,column:10}},"23":{start:{line:105,column:25},end:{line:108,column:10}},"24":{start:{line:109,column:8},end:{line:109,column:24}},"25":{start:{line:119,column:25},end:{line:122,column:10}},"26":{start:{line:123,column:8},end:{line:123,column:24}},"27":{start:{line:132,column:25},end:{line:132,column:101}},"28":{start:{line:133,column:8},end:{line:133,column:24}},"29":{start:{line:142,column:25},end:{line:142,column:103}},"30":{start:{line:143,column:8},end:{line:143,column:24}},"31":{start:{line:153,column:25},end:{line:156,column:10}},"32":{start:{line:157,column:8},end:{line:157,column:24}},"33":{start:{line:168,column:22},end:{line:168,column:26}},"34":{start:{line:169,column:8},end:{line:174,column:9}},"35":{start:{line:170,column:12},end:{line:170,column:118}},"36":{start:{line:173,column:12},end:{line:173,column:116}},"37":{start:{line:175,column:25},end:{line:175,column:92}},"38":{start:{line:176,column:8},end:{line:176,column:24}},"39":{start:{line:189,column:64},end:{line:189,column:74}},"40":{start:{line:191,column:8},end:{line:193,column:9}},"41":{start:{line:192,column:12},end:{line:192,column:59}},"42":{start:{line:194,column:8},end:{line:196,column:9}},"43":{start:{line:195,column:12},end:{line:195,column:70}},"44":{start:{line:197,column:8},end:{line:199,column:9}},"45":{start:{line:198,column:12},end:{line:198,column:54}},"46":{start:{line:201,column:8},end:{line:203,column:9}},"47":{start:{line:202,column:12},end:{line:202,column:78}},"48":{start:{line:205,column:8},end:{line:207,column:9}},"49":{start:{line:206,column:12},end:{line:206,column:66}},"50":{start:{line:209,column:8},end:{line:211,column:9}},"51":{start:{line:210,column:12},end:{line:210,column:63}},"52":{start:{line:212,column:25},end:{line:212,column:151}},"53":{start:{line:213,column:8},end:{line:213,column:61}},"54":{start:{line:226,column:8},end:{line:230,column:9}},"55":{start:{line:227,column:12},end:{line:229,column:13}},"56":{start:{line:228,column:16},end:{line:228,column:100}},"57":{start:{line:231,column:24},end:{line:231,column:156}},"58":{start:{line:232,column:25},end:{line:232,column:86}},"59":{start:{line:233,column:8},end:{line:233,column:24}},"60":{start:{line:241,column:8},end:{line:241,column:77}},"61":{start:{line:252,column:24},end:{line:252,column:102}},"62":{start:{line:253,column:8},end:{line:253,column:86}},"63":{start:{line:263,column:25},end:{line:266,column:10}},"64":{start:{line:267,column:8},end:{line:267,column:24}},"65":{start:{line:278,column:25},end:{line:281,column:10}},"66":{start:{line:282,column:8},end:{line:282,column:24}},"67":{start:{line:293,column:25},end:{line:296,column:10}},"68":{start:{line:297,column:8},end:{line:297,column:24}},"69":{start:{line:307,column:25},end:{line:307,column:95}},"70":{start:{line:308,column:8},end:{line:308,column:24}},"71":{start:{line:316,column:21},end:{line:316,column:60}},"72":{start:{line:317,column:25},end:{line:317,column:45}},"73":{start:{line:318,column:8},end:{line:318,column:57}},"74":{start:{line:331,column:21},end:{line:331,column:57}},"75":{start:{line:332,column:21},end:{line:339,column:9}},"76":{start:{line:340,column:25},end:{line:340,column:51}},"77":{start:{line:341,column:8},end:{line:341,column:117}},"78":{start:{line:341,column:72},end:{line:341,column:115}},"79":{start:{line:342,column:8},end:{line:342,column:24}},"80":{start:{line:350,column:21},end:{line:350,column:65}},"81":{start:{line:351,column:25},end:{line:351,column:45}},"82":{start:{line:352,column:8},end:{line:352,column:24}},"83":{start:{line:361,column:21},end:{line:361,column:88}},"84":{start:{line:362,column:8},end:{line:362,column:55}},"85":{start:{line:371,column:21},end:{line:371,column:76}},"86":{start:{line:372,column:8},end:{line:372,column:50}},"87":{start:{line:382,column:25},end:{line:382,column:112}},"88":{start:{line:383,column:8},end:{line:383,column:24}},"89":{start:{line:400,column:25},end:{line:400,column:133}},"90":{start:{line:401,column:8},end:{line:401,column:24}},"91":{start:{line:410,column:19},end:{line:410,column:51}},"92":{start:{line:411,column:20},end:{line:411,column:56}},"93":{start:{line:412,column:8},end:{line:412,column:38}},"94":{start:{line:422,column:20},end:{line:422,column:50}},"95":{start:{line:423,column:8},end:{line:423,column:50}},"96":{start:{line:426,column:32},end:{line:426,column:53}},"97":{start:{line:427,column:8},end:{line:434,column:11}},"98":{start:{line:428,column:12},end:{line:433,column:13}},"99":{start:{line:429,column:16},end:{line:429,column:83}},"100":{start:{line:429,column:40},end:{line:429,column:81}},"101":{start:{line:431,column:17},end:{line:433,column:13}},"102":{start:{line:432,column:16},end:{line:432,column:51}},"103":{start:{line:435,column:8},end:{line:435,column:42}},"104":{start:{line:444,column:20},end:{line:444,column:57}},"105":{start:{line:446,column:8},end:{line:450,column:10}},"106":{start:{line:451,column:8},end:{line:453,column:9}},"107":{start:{line:452,column:12},end:{line:452,column:38}},"108":{start:{line:455,column:8},end:{line:457,column:9}},"109":{start:{line:456,column:12},end:{line:456,column:28}},"110":{start:{line:459,column:8},end:{line:459,column:54}},"111":{start:{line:460,column:8},end:{line:463,column:14}},"112":{start:{line:464,column:25},end:{line:464,column:41}},"113":{start:{line:465,column:8},end:{line:480,column:9}},"114":{start:{line:467,column:27},end:{line:467,column:52}},"115":{start:{line:468,column:12},end:{line:479,column:13}},"116":{start:{line:469,column:35},end:{line:469,column:52}},"117":{start:{line:470,column:16},end:{line:472,column:17}},"118":{start:{line:471,column:20},end:{line:471,column:58}},"119":{start:{line:473,column:16},end:{line:473,column:65}},"120":{start:{line:478,column:16},end:{line:478,column:36}},"121":{start:{line:481,column:8},end:{line:481,column:33}},"122":{start:{line:484,column:0},end:{line:484,column:32}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:21,column:4},end:{line:21,column:5}},loc:{start:{line:21,column:32},end:{line:38,column:5}},line:21},"1":{name:"(anonymous_1)",decl:{start:{line:37,column:33},end:{line:37,column:34}},loc:{start:{line:37,column:42},end:{line:37,column:45}},line:37},"2":{name:"(anonymous_2)",decl:{start:{line:57,column:4},end:{line:57,column:5}},loc:{start:{line:57,column:118},end:{line:68,column:5}},line:57},"3":{name:"(anonymous_3)",decl:{start:{line:85,column:4},end:{line:85,column:5}},loc:{start:{line:85,column:119},end:{line:96,column:5}},line:85},"4":{name:"(anonymous_4)",decl:{start:{line:104,column:4},end:{line:104,column:5}},loc:{start:{line:104,column:52},end:{line:110,column:5}},line:104},"5":{name:"(anonymous_5)",decl:{start:{line:118,column:4},end:{line:118,column:5}},loc:{start:{line:118,column:54},end:{line:124,column:5}},line:118},"6":{name:"(anonymous_6)",decl:{start:{line:131,column:4},end:{line:131,column:5}},loc:{start:{line:131,column:48},end:{line:134,column:5}},line:131},"7":{name:"(anonymous_7)",decl:{start:{line:141,column:4},end:{line:141,column:5}},loc:{start:{line:141,column:50},end:{line:144,column:5}},line:141},"8":{name:"(anonymous_8)",decl:{start:{line:152,column:4},end:{line:152,column:5}},loc:{start:{line:152,column:55},end:{line:158,column:5}},line:152},"9":{name:"(anonymous_9)",decl:{start:{line:167,column:4},end:{line:167,column:5}},loc:{start:{line:167,column:86},end:{line:177,column:5}},line:167},"10":{name:"(anonymous_10)",decl:{start:{line:188,column:4},end:{line:188,column:5}},loc:{start:{line:188,column:39},end:{line:214,column:5}},line:188},"11":{name:"(anonymous_11)",decl:{start:{line:225,column:4},end:{line:225,column:5}},loc:{start:{line:225,column:117},end:{line:234,column:5}},line:225},"12":{name:"(anonymous_12)",decl:{start:{line:240,column:4},end:{line:240,column:5}},loc:{start:{line:240,column:36},end:{line:242,column:5}},line:240},"13":{name:"(anonymous_13)",decl:{start:{line:251,column:4},end:{line:251,column:5}},loc:{start:{line:251,column:66},end:{line:254,column:5}},line:251},"14":{name:"(anonymous_14)",decl:{start:{line:262,column:4},end:{line:262,column:5}},loc:{start:{line:262,column:73},end:{line:268,column:5}},line:262},"15":{name:"(anonymous_15)",decl:{start:{line:277,column:4},end:{line:277,column:5}},loc:{start:{line:277,column:94},end:{line:283,column:5}},line:277},"16":{name:"(anonymous_16)",decl:{start:{line:292,column:4},end:{line:292,column:5}},loc:{start:{line:292,column:93},end:{line:298,column:5}},line:292},"17":{name:"(anonymous_17)",decl:{start:{line:306,column:4},end:{line:306,column:5}},loc:{start:{line:306,column:58},end:{line:309,column:5}},line:306},"18":{name:"(anonymous_18)",decl:{start:{line:315,column:4},end:{line:315,column:5}},loc:{start:{line:315,column:30},end:{line:319,column:5}},line:315},"19":{name:"(anonymous_19)",decl:{start:{line:330,column:4},end:{line:330,column:5}},loc:{start:{line:330,column:141},end:{line:343,column:5}},line:330},"20":{name:"(anonymous_20)",decl:{start:{line:341,column:56},end:{line:341,column:57}},loc:{start:{line:341,column:72},end:{line:341,column:115}},line:341},"21":{name:"(anonymous_21)",decl:{start:{line:349,column:4},end:{line:349,column:5}},loc:{start:{line:349,column:35},end:{line:353,column:5}},line:349},"22":{name:"(anonymous_22)",decl:{start:{line:360,column:4},end:{line:360,column:5}},loc:{start:{line:360,column:55},end:{line:363,column:5}},line:360},"23":{name:"(anonymous_23)",decl:{start:{line:370,column:4},end:{line:370,column:5}},loc:{start:{line:370,column:30},end:{line:373,column:5}},line:370},"24":{name:"(anonymous_24)",decl:{start:{line:381,column:4},end:{line:381,column:5}},loc:{start:{line:381,column:70},end:{line:384,column:5}},line:381},"25":{name:"(anonymous_25)",decl:{start:{line:399,column:4},end:{line:399,column:5}},loc:{start:{line:399,column:96},end:{line:402,column:5}},line:399},"26":{name:"(anonymous_26)",decl:{start:{line:409,column:4},end:{line:409,column:5}},loc:{start:{line:409,column:35},end:{line:413,column:5}},line:409},"27":{name:"(anonymous_27)",decl:{start:{line:421,column:4},end:{line:421,column:5}},loc:{start:{line:421,column:36},end:{line:424,column:5}},line:421},"28":{name:"(anonymous_28)",decl:{start:{line:425,column:4},end:{line:425,column:5}},loc:{start:{line:425,column:38},end:{line:436,column:5}},line:425},"29":{name:"(anonymous_29)",decl:{start:{line:427,column:39},end:{line:427,column:40}},loc:{start:{line:427,column:57},end:{line:434,column:9}},line:427},"30":{name:"(anonymous_30)",decl:{start:{line:429,column:30},end:{line:429,column:31}},loc:{start:{line:429,column:40},end:{line:429,column:81}},line:429},"31":{name:"(anonymous_31)",decl:{start:{line:442,column:4},end:{line:442,column:5}},loc:{start:{line:442,column:37},end:{line:482,column:5}},line:442}},branchMap:{"0":{loc:{start:{line:27,column:21},end:{line:27,column:58}},type:"binary-expr",locations:[{start:{line:27,column:21},end:{line:27,column:33}},{start:{line:27,column:37},end:{line:27,column:58}}],line:27},"1":{loc:{start:{line:28,column:8},end:{line:35,column:9}},type:"if",locations:[{start:{line:28,column:8},end:{line:35,column:9}},{start:{line:31,column:13},end:{line:35,column:9}}],line:28},"2":{loc:{start:{line:32,column:30},end:{line:34,column:46}},type:"cond-expr",locations:[{start:{line:33,column:18},end:{line:33,column:46}},{start:{line:34,column:18},end:{line:34,column:46}}],line:32},"3":{loc:{start:{line:37,column:22},end:{line:37,column:46}},type:"binary-expr",locations:[{start:{line:37,column:22},end:{line:37,column:28}},{start:{line:37,column:33},end:{line:37,column:45}}],line:37},"4":{loc:{start:{line:57,column:27},end:{line:57,column:47}},type:"default-arg",locations:[{start:{line:57,column:38},end:{line:57,column:47}}],line:57},"5":{loc:{start:{line:57,column:49},end:{line:57,column:72}},type:"default-arg",locations:[{start:{line:57,column:66},end:{line:57,column:72}}],line:57},"6":{loc:{start:{line:57,column:74},end:{line:57,column:98}},type:"default-arg",locations:[{start:{line:57,column:84},end:{line:57,column:98}}],line:57},"7":{loc:{start:{line:64,column:8},end:{line:66,column:9}},type:"if",locations:[{start:{line:64,column:8},end:{line:66,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:64},"8":{loc:{start:{line:85,column:28},end:{line:85,column:48}},type:"default-arg",locations:[{start:{line:85,column:39},end:{line:85,column:48}}],line:85},"9":{loc:{start:{line:85,column:50},end:{line:85,column:73}},type:"default-arg",locations:[{start:{line:85,column:67},end:{line:85,column:73}}],line:85},"10":{loc:{start:{line:85,column:75},end:{line:85,column:99}},type:"default-arg",locations:[{start:{line:85,column:85},end:{line:85,column:99}}],line:85},"11":{loc:{start:{line:169,column:8},end:{line:174,column:9}},type:"if",locations:[{start:{line:169,column:8},end:{line:174,column:9}},{start:{line:172,column:13},end:{line:174,column:9}}],line:169},"12":{loc:{start:{line:189,column:16},end:{line:189,column:36}},type:"default-arg",locations:[{start:{line:189,column:27},end:{line:189,column:36}}],line:189},"13":{loc:{start:{line:191,column:8},end:{line:193,column:9}},type:"if",locations:[{start:{line:191,column:8},end:{line:193,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:191},"14":{loc:{start:{line:194,column:8},end:{line:196,column:9}},type:"if",locations:[{start:{line:194,column:8},end:{line:196,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:194},"15":{loc:{start:{line:197,column:8},end:{line:199,column:9}},type:"if",locations:[{start:{line:197,column:8},end:{line:199,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:197},"16":{loc:{start:{line:201,column:8},end:{line:203,column:9}},type:"if",locations:[{start:{line:201,column:8},end:{line:203,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:201},"17":{loc:{start:{line:205,column:8},end:{line:207,column:9}},type:"if",locations:[{start:{line:205,column:8},end:{line:207,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:205},"18":{loc:{start:{line:205,column:12},end:{line:205,column:44}},type:"binary-expr",locations:[{start:{line:205,column:12},end:{line:205,column:26}},{start:{line:205,column:30},end:{line:205,column:44}}],line:205},"19":{loc:{start:{line:209,column:8},end:{line:211,column:9}},type:"if",locations:[{start:{line:209,column:8},end:{line:211,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:209},"20":{loc:{start:{line:225,column:63},end:{line:225,column:92}},type:"default-arg",locations:[{start:{line:225,column:88},end:{line:225,column:92}}],line:225},"21":{loc:{start:{line:226,column:8},end:{line:230,column:9}},type:"if",locations:[{start:{line:226,column:8},end:{line:230,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:226},"22":{loc:{start:{line:226,column:12},end:{line:226,column:35}},type:"binary-expr",locations:[{start:{line:226,column:12},end:{line:226,column:21}},{start:{line:226,column:25},end:{line:226,column:35}}],line:226},"23":{loc:{start:{line:227,column:12},end:{line:229,column:13}},type:"if",locations:[{start:{line:227,column:12},end:{line:229,column:13}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:227},"24":{loc:{start:{line:227,column:16},end:{line:227,column:41}},type:"binary-expr",locations:[{start:{line:227,column:16},end:{line:227,column:26}},{start:{line:227,column:30},end:{line:227,column:41}}],line:227},"25":{loc:{start:{line:262,column:36},end:{line:262,column:53}},type:"default-arg",locations:[{start:{line:262,column:44},end:{line:262,column:53}}],line:262},"26":{loc:{start:{line:262,column:55},end:{line:262,column:71}},type:"default-arg",locations:[{start:{line:262,column:62},end:{line:262,column:71}}],line:262},"27":{loc:{start:{line:277,column:37},end:{line:277,column:54}},type:"default-arg",locations:[{start:{line:277,column:45},end:{line:277,column:54}}],line:277},"28":{loc:{start:{line:277,column:56},end:{line:277,column:72}},type:"default-arg",locations:[{start:{line:277,column:63},end:{line:277,column:72}}],line:277},"29":{loc:{start:{line:277,column:74},end:{line:277,column:92}},type:"default-arg",locations:[{start:{line:277,column:82},end:{line:277,column:92}}],line:277},"30":{loc:{start:{line:292,column:36},end:{line:292,column:53}},type:"default-arg",locations:[{start:{line:292,column:44},end:{line:292,column:53}}],line:292},"31":{loc:{start:{line:292,column:55},end:{line:292,column:71}},type:"default-arg",locations:[{start:{line:292,column:62},end:{line:292,column:71}}],line:292},"32":{loc:{start:{line:292,column:73},end:{line:292,column:91}},type:"default-arg",locations:[{start:{line:292,column:81},end:{line:292,column:91}}],line:292},"33":{loc:{start:{line:306,column:38},end:{line:306,column:56}},type:"default-arg",locations:[{start:{line:306,column:46},end:{line:306,column:56}}],line:306},"34":{loc:{start:{line:330,column:25},end:{line:330,column:79}},type:"default-arg",locations:[{start:{line:330,column:35},end:{line:330,column:79}}],line:330},"35":{loc:{start:{line:330,column:105},end:{line:330,column:126}},type:"default-arg",locations:[{start:{line:330,column:121},end:{line:330,column:126}}],line:330},"36":{loc:{start:{line:360,column:35},end:{line:360,column:53}},type:"default-arg",locations:[{start:{line:360,column:43},end:{line:360,column:53}}],line:360},"37":{loc:{start:{line:381,column:50},end:{line:381,column:68}},type:"default-arg",locations:[{start:{line:381,column:58},end:{line:381,column:68}}],line:381},"38":{loc:{start:{line:399,column:58},end:{line:399,column:76}},type:"default-arg",locations:[{start:{line:399,column:66},end:{line:399,column:76}}],line:399},"39":{loc:{start:{line:409,column:23},end:{line:409,column:33}},type:"default-arg",locations:[{start:{line:409,column:31},end:{line:409,column:33}}],line:409},"40":{loc:{start:{line:425,column:25},end:{line:425,column:36}},type:"default-arg",locations:[{start:{line:425,column:34},end:{line:425,column:36}}],line:425},"41":{loc:{start:{line:428,column:12},end:{line:433,column:13}},type:"if",locations:[{start:{line:428,column:12},end:{line:433,column:13}},{start:{line:431,column:17},end:{line:433,column:13}}],line:428},"42":{loc:{start:{line:428,column:16},end:{line:428,column:45}},type:"binary-expr",locations:[{start:{line:428,column:16},end:{line:428,column:21}},{start:{line:428,column:25},end:{line:428,column:45}}],line:428},"43":{loc:{start:{line:429,column:40},end:{line:429,column:81}},type:"binary-expr",locations:[{start:{line:429,column:40},end:{line:429,column:44}},{start:{line:429,column:48},end:{line:429,column:81}}],line:429},"44":{loc:{start:{line:431,column:17},end:{line:433,column:13}},type:"if",locations:[{start:{line:431,column:17},end:{line:433,column:13}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:431},"45":{loc:{start:{line:448,column:16},end:{line:448,column:63}},type:"cond-expr",locations:[{start:{line:448,column:30},end:{line:448,column:58}},{start:{line:448,column:61},end:{line:448,column:63}}],line:448},"46":{loc:{start:{line:455,column:8},end:{line:457,column:9}},type:"if",locations:[{start:{line:455,column:8},end:{line:457,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:455},"47":{loc:{start:{line:465,column:8},end:{line:480,column:9}},type:"if",locations:[{start:{line:465,column:8},end:{line:480,column:9}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:465},"48":{loc:{start:{line:468,column:12},end:{line:479,column:13}},type:"if",locations:[{start:{line:468,column:12},end:{line:479,column:13}},{start:{line:475,column:17},end:{line:479,column:13}}],line:468},"49":{loc:{start:{line:470,column:16},end:{line:472,column:17}},type:"if",locations:[{start:{line:470,column:16},end:{line:472,column:17}},{start:{line:undefined,column:undefined},end:{line:undefined,column:undefined}}],line:470}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0],"5":[0],"6":[0],"7":[0,0],"8":[0],"9":[0],"10":[0],"11":[0,0],"12":[0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0],"26":[0],"27":[0],"28":[0],"29":[0],"30":[0],"31":[0],"32":[0],"33":[0],"34":[0],"35":[0],"36":[0],"37":[0],"38":[0],"39":[0],"40":[0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0]},inputSourceMap:{version:3,file:"/Users/rg/dev/opensea-js/src/api/api.ts",sources:["/Users/rg/dev/opensea-js/src/api/api.ts"],names:[],mappings:"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",sourcesContent:["import { ethers } from \"ethers\";\nimport {\n  getCollectionPath,\n  getCollectionsPath,\n  getOrdersAPIPath,\n  getPostCollectionOfferPath,\n  getBuildOfferPath,\n  getListNFTsByCollectionPath,\n  getListNFTsByContractPath,\n  getNFTPath,\n  getRefreshMetadataPath,\n  getCollectionOffersPath,\n  getListNFTsByAccountPath,\n  getBestOfferAPIPath,\n  getBestListingAPIPath,\n  getAllOffersAPIPath,\n  getAllListingsAPIPath,\n  getPaymentTokenPath,\n  getAccountPath,\n  getCollectionStatsPath,\n  getBestListingsAPIPath,\n  getCancelOrderPath,\n} from \"./apiPaths\";\nimport {\n  BuildOfferResponse,\n  GetCollectionResponse,\n  GetCollectionsResponse,\n  ListNFTsResponse,\n  GetNFTResponse,\n  ListCollectionOffersResponse,\n  GetOrdersResponse,\n  GetBestOfferResponse,\n  GetBestListingResponse,\n  GetOffersResponse,\n  GetListingsResponse,\n  CollectionOffer,\n  CollectionOrderByOption,\n  CancelOrderResponse,\n  GetCollectionsArgs,\n} from \"./types\";\nimport { API_BASE_MAINNET, API_BASE_TESTNET } from \"../constants\";\nimport {\n  FulfillmentDataResponse,\n  OrderAPIOptions,\n  OrdersPostQueryResponse,\n  OrdersQueryOptions,\n  OrdersQueryResponse,\n  OrderV2,\n  ProtocolData,\n} from \"../orders/types\";\nimport {\n  serializeOrdersQueryOptions,\n  deserializeOrder,\n  getFulfillmentDataPath,\n  getFulfillListingPayload,\n  getFulfillOfferPayload,\n  getBuildCollectionOfferPayload,\n  getPostCollectionOfferPayload,\n} from \"../orders/utils\";\nimport {\n  Chain,\n  OpenSeaAPIConfig,\n  OpenSeaAccount,\n  OpenSeaCollection,\n  OpenSeaCollectionStats,\n  OpenSeaPaymentToken,\n  OrderSide,\n} from \"../types\";\nimport {\n  paymentTokenFromJSON,\n  collectionFromJSON,\n  isTestChain,\n  accountFromJSON,\n} from \"../utils/utils\";\n\n/**\n * The API class for the OpenSea SDK.\n * @category Main Classes\n */\nexport class OpenSeaAPI {\n  /**\n   * Base url for the API\n   */\n  public readonly apiBaseUrl: string;\n  /**\n   * Default size to use for fetching orders\n   */\n  public pageSize = 20;\n  /**\n   * Logger function to use when debugging\n   */\n  public logger: (arg: string) => void;\n\n  private apiKey: string | undefined;\n  private chain: Chain;\n\n  /**\n   * Create an instance of the OpenSeaAPI\n   * @param config OpenSeaAPIConfig for setting up the API, including an optional API key, Chain name, and base URL\n   * @param logger Optional function for logging debug strings before and after requests are made. Defaults to no logging\n   */\n  constructor(config: OpenSeaAPIConfig, logger?: (arg: string) => void) {\n    this.apiKey = config.apiKey;\n    this.chain = config.chain ?? Chain.Mainnet;\n\n    if (config.apiBaseUrl) {\n      this.apiBaseUrl = config.apiBaseUrl;\n    } else {\n      this.apiBaseUrl = isTestChain(this.chain)\n        ? API_BASE_TESTNET\n        : API_BASE_MAINNET;\n    }\n\n    // Debugging: default to nothing\n    this.logger = logger ?? ((arg: string) => arg);\n  }\n\n  /**\n   * Gets an order from API based on query options.\n   * @param options\n   * @param options.side The side of the order (listing or offer)\n   * @param options.protocol The protocol, typically seaport, to query orders for\n   * @param options.orderDirection The direction to sort the orders\n   * @param options.orderBy The field to sort the orders by\n   * @param options.limit The number of orders to retrieve\n   * @param options.maker Filter by the wallet address of the order maker\n   * @param options.taker Filter by  wallet address of the order taker\n   * @param options.asset_contract_address Address of the NFT's contract\n   * @param options.token_ids String array of token IDs to filter by.\n   * @param options.listed_after Filter by orders listed after the Unix epoch timestamp in seconds\n   * @param options.listed_before Filter by orders listed before the Unix epoch timestamp in seconds\n   * @returns The first {@link OrderV2} returned by the API\n   *\n   * @throws An error if there are no matching orders.\n   */\n  public async getOrder({\n    side,\n    protocol = \"seaport\",\n    orderDirection = \"desc\",\n    orderBy = \"created_date\",\n    ...restOptions\n  }: Omit<OrdersQueryOptions, \"limit\">): Promise<OrderV2> {\n    const { orders } = await this.get<OrdersQueryResponse>(\n      getOrdersAPIPath(this.chain, protocol, side),\n      serializeOrdersQueryOptions({\n        limit: 1,\n        orderBy,\n        orderDirection,\n        ...restOptions,\n      }),\n    );\n    if (orders.length === 0) {\n      throw new Error(\"Not found: no matching order found\");\n    }\n    return deserializeOrder(orders[0]);\n  }\n\n  /**\n   * Gets a list of orders from API based on query options.\n   * @param options\n   * @param options.side The side of the order (buy or sell)\n   * @param options.protocol The protocol, typically seaport, to query orders for\n   * @param options.orderDirection The direction to sort the orders\n   * @param options.orderBy The field to sort the orders by\n   * @param options.limit The number of orders to retrieve\n   * @param options.maker Filter by the wallet address of the order maker\n   * @param options.taker Filter by  wallet address of the order taker\n   * @param options.asset_contract_address Address of the NFT's contract\n   * @param options.token_ids String array of token IDs to filter by.\n   * @param options.listed_after Filter by orders listed after the Unix epoch timestamp in seconds\n   * @param options.listed_before Filter by orders listed before the Unix epoch timestamp in seconds\n   * @returns The {@link GetOrdersResponse} returned by the API.\n   */\n  public async getOrders({\n    side,\n    protocol = \"seaport\",\n    orderDirection = \"desc\",\n    orderBy = \"created_date\",\n    ...restOptions\n  }: Omit<OrdersQueryOptions, \"limit\">): Promise<GetOrdersResponse> {\n    const response = await this.get<OrdersQueryResponse>(\n      getOrdersAPIPath(this.chain, protocol, side),\n      serializeOrdersQueryOptions({\n        limit: this.pageSize,\n        orderBy,\n        orderDirection,\n        ...restOptions,\n      }),\n    );\n    return {\n      ...response,\n      orders: response.orders.map(deserializeOrder),\n    };\n  }\n\n  /**\n   * Gets all offers for a given collection.\n   * @param collectionSlug The slug of the collection.\n   * @param limit The number of offers to return. Must be between 1 and 100. Default: 100\n   * @param next The cursor for the next page of results. This is returned from a previous request.\n   * @returns The {@link GetOffersResponse} returned by the API.\n   */\n  public async getAllOffers(\n    collectionSlug: string,\n    limit?: number,\n    next?: string,\n  ): Promise<GetOffersResponse> {\n    const response = await this.get<GetOffersResponse>(\n      getAllOffersAPIPath(collectionSlug),\n      {\n        limit,\n        next,\n      },\n    );\n    return response;\n  }\n\n  /**\n   * Gets all listings for a given collection.\n   * @param collectionSlug The slug of the collection.\n   * @param limit The number of listings to return. Must be between 1 and 100. Default: 100\n   * @param next The cursor for the next page of results. This is returned from a previous request.\n   * @returns The {@link GetListingsResponse} returned by the API.\n   */\n  public async getAllListings(\n    collectionSlug: string,\n    limit?: number,\n    next?: string,\n  ): Promise<GetListingsResponse> {\n    const response = await this.get<GetListingsResponse>(\n      getAllListingsAPIPath(collectionSlug),\n      {\n        limit,\n        next,\n      },\n    );\n    return response;\n  }\n\n  /**\n   * Gets the best offer for a given token.\n   * @param collectionSlug The slug of the collection.\n   * @param tokenId The token identifier.\n   * @returns The {@link GetBestOfferResponse} returned by the API.\n   */\n  public async getBestOffer(\n    collectionSlug: string,\n    tokenId: string | number,\n  ): Promise<GetBestOfferResponse> {\n    const response = await this.get<GetBestOfferResponse>(\n      getBestOfferAPIPath(collectionSlug, tokenId),\n    );\n    return response;\n  }\n\n  /**\n   * Gets the best listing for a given token.\n   * @param collectionSlug The slug of the collection.\n   * @param tokenId The token identifier.\n   * @returns The {@link GetBestListingResponse} returned by the API.\n   */\n  public async getBestListing(\n    collectionSlug: string,\n    tokenId: string | number,\n  ): Promise<GetBestListingResponse> {\n    const response = await this.get<GetBestListingResponse>(\n      getBestListingAPIPath(collectionSlug, tokenId),\n    );\n    return response;\n  }\n\n  /**\n   * Gets the best listings for a given collection.\n   * @param collectionSlug The slug of the collection.\n   * @param limit The number of listings to return. Must be between 1 and 100. Default: 100\n   * @param next The cursor for the next page of results. This is returned from a previous request.\n   * @returns The {@link GetListingsResponse} returned by the API.\n   */\n  public async getBestListings(\n    collectionSlug: string,\n    limit?: number,\n    next?: string,\n  ): Promise<GetListingsResponse> {\n    const response = await this.get<GetListingsResponse>(\n      getBestListingsAPIPath(collectionSlug),\n      {\n        limit,\n        next,\n      },\n    );\n    return response;\n  }\n\n  /**\n   * Generate the data needed to fulfill a listing or an offer onchain.\n   * @param fulfillerAddress The wallet address which will be used to fulfill the order\n   * @param orderHash The hash of the order to fulfill\n   * @param protocolAddress The address of the seaport contract\n   * @side The side of the order (buy or sell)\n   * @returns The {@link FulfillmentDataResponse}\n   */\n  public async generateFulfillmentData(\n    fulfillerAddress: string,\n    orderHash: string,\n    protocolAddress: string,\n    side: OrderSide,\n  ): Promise<FulfillmentDataResponse> {\n    let payload: object | null = null;\n    if (side === OrderSide.LISTING) {\n      payload = getFulfillListingPayload(\n        fulfillerAddress,\n        orderHash,\n        protocolAddress,\n        this.chain,\n      );\n    } else {\n      payload = getFulfillOfferPayload(\n        fulfillerAddress,\n        orderHash,\n        protocolAddress,\n        this.chain,\n      );\n    }\n    const response = await this.post<FulfillmentDataResponse>(\n      getFulfillmentDataPath(side),\n      payload,\n    );\n    return response;\n  }\n\n  /**\n   * Post an order to OpenSea.\n   * @param order The order to post\n   * @param apiOptions\n   * @param apiOptions.protocol The protocol, typically seaport, to post the order to.\n   * @param apiOptions.side The side of the order (buy or sell).\n   * @param apiOptions.protocolAddress The address of the seaport contract.\n   * @param options\n   * @returns The {@link OrderV2} posted to the API.\n   */\n  public async postOrder(\n    order: ProtocolData,\n    apiOptions: OrderAPIOptions,\n  ): Promise<OrderV2> {\n    const { protocol = \"seaport\", side, protocolAddress } = apiOptions;\n\n    // Validate required fields\n    if (!side) {\n      throw new Error(\"apiOptions.side is required\");\n    }\n    if (!protocolAddress) {\n      throw new Error(\"apiOptions.protocolAddress is required\");\n    }\n    if (!order) {\n      throw new Error(\"order data is required\");\n    }\n\n    // Validate protocol value\n    if (protocol !== \"seaport\") {\n      throw new Error(\"Currently only 'seaport' protocol is supported\");\n    }\n\n    // Validate side value\n    if (side !== \"ask\" && side !== \"bid\") {\n      throw new Error(\"side must be either 'ask' or 'bid'\");\n    }\n\n    // Validate protocolAddress format\n    if (!/^0x[a-fA-F0-9]{40}$/.test(protocolAddress)) {\n      throw new Error(\"Invalid protocol address format\");\n    }\n\n    const response = await this.post<OrdersPostQueryResponse>(\n      getOrdersAPIPath(this.chain, protocol, side),\n      { ...order, protocol_address: protocolAddress },\n    );\n    return deserializeOrder(response.order);\n  }\n\n  /**\n   * Build a OpenSea collection offer.\n   * @param offererAddress The wallet address which is creating the offer.\n   * @param quantity The number of NFTs requested in the offer.\n   * @param collectionSlug The slug (identifier) of the collection to build the offer for.\n   * @param offerProtectionEnabled Build the offer on OpenSea's signed zone to provide offer protections from receiving an item which is disabled from trading.\n   * @param traitType If defined, the trait name to create the collection offer for.\n   * @param traitValue If defined, the trait value to create the collection offer for.\n   * @returns The {@link BuildOfferResponse} returned by the API.\n   */\n  public async buildOffer(\n    offererAddress: string,\n    quantity: number,\n    collectionSlug: string,\n    offerProtectionEnabled = true,\n    traitType?: string,\n    traitValue?: string,\n  ): Promise<BuildOfferResponse> {\n    if (traitType || traitValue) {\n      if (!traitType || !traitValue) {\n        throw new Error(\n          \"Both traitType and traitValue must be defined if one is defined.\",\n        );\n      }\n    }\n    const payload = getBuildCollectionOfferPayload(\n      offererAddress,\n      quantity,\n      collectionSlug,\n      offerProtectionEnabled,\n      traitType,\n      traitValue,\n    );\n    const response = await this.post<BuildOfferResponse>(\n      getBuildOfferPath(),\n      payload,\n    );\n    return response;\n  }\n\n  /**\n   * Get a list collection offers for a given slug.\n   * @param slug The slug (identifier) of the collection to list offers for\n   * @returns The {@link ListCollectionOffersResponse} returned by the API.\n   */\n  public async getCollectionOffers(\n    slug: string,\n  ): Promise<ListCollectionOffersResponse | null> {\n    return await this.get<ListCollectionOffersResponse>(\n      getCollectionOffersPath(slug),\n    );\n  }\n\n  /**\n   * Post a collection offer to OpenSea.\n   * @param order The collection offer to post.\n   * @param slug The slug (identifier) of the collection to post the offer for.\n   * @param traitType If defined, the trait name to create the collection offer for.\n   * @param traitValue If defined, the trait value to create the collection offer for.\n   * @returns The {@link Offer} returned to the API.\n   */\n  public async postCollectionOffer(\n    order: ProtocolData,\n    slug: string,\n    traitType?: string,\n    traitValue?: string,\n  ): Promise<CollectionOffer | null> {\n    const payload = getPostCollectionOfferPayload(\n      slug,\n      order,\n      traitType,\n      traitValue,\n    );\n    return await this.post<CollectionOffer>(\n      getPostCollectionOfferPath(),\n      payload,\n    );\n  }\n\n  /**\n   * Fetch multiple NFTs for a collection.\n   * @param slug The slug (identifier) of the collection\n   * @param limit The number of NFTs to retrieve. Must be greater than 0 and less than 51.\n   * @param next Cursor to retrieve the next page of NFTs\n   * @returns The {@link ListNFTsResponse} returned by the API.\n   */\n  public async getNFTsByCollection(\n    slug: string,\n    limit: number | undefined = undefined,\n    next: string | undefined = undefined,\n  ): Promise<ListNFTsResponse> {\n    const response = await this.get<ListNFTsResponse>(\n      getListNFTsByCollectionPath(slug),\n      {\n        limit,\n        next,\n      },\n    );\n    return response;\n  }\n\n  /**\n   * Fetch multiple NFTs for a contract.\n   * @param address The NFT's contract address.\n   * @param limit The number of NFTs to retrieve. Must be greater than 0 and less than 51.\n   * @param next Cursor to retrieve the next page of NFTs.\n   * @param chain The NFT's chain.\n   * @returns The {@link ListNFTsResponse} returned by the API.\n   */\n  public async getNFTsByContract(\n    address: string,\n    limit: number | undefined = undefined,\n    next: string | undefined = undefined,\n    chain: Chain = this.chain,\n  ): Promise<ListNFTsResponse> {\n    const response = await this.get<ListNFTsResponse>(\n      getListNFTsByContractPath(chain, address),\n      {\n        limit,\n        next,\n      },\n    );\n    return response;\n  }\n\n  /**\n   * Fetch NFTs owned by an account.\n   * @param address The address of the account\n   * @param limit The number of NFTs to retrieve. Must be greater than 0 and less than 51.\n   * @param next Cursor to retrieve the next page of NFTs\n   * @param chain The chain to query. Defaults to the chain set in the constructor.\n   * @returns The {@link ListNFTsResponse} returned by the API.\n   */\n  public async getNFTsByAccount(\n    address: string,\n    limit: number | undefined = undefined,\n    next: string | undefined = undefined,\n    chain = this.chain,\n  ): Promise<ListNFTsResponse> {\n    const response = await this.get<ListNFTsResponse>(\n      getListNFTsByAccountPath(chain, address),\n      {\n        limit,\n        next,\n      },\n    );\n\n    return response;\n  }\n\n  /**\n   * Fetch metadata, traits, ownership information, and rarity for a single NFT.\n   * @param address The NFT's contract address.\n   * @param identifier the identifier of the NFT (i.e. Token ID)\n   * @param chain The NFT's chain.\n   * @returns The {@link GetNFTResponse} returned by the API.\n   */\n  public async getNFT(\n    address: string,\n    identifier: string,\n    chain = this.chain,\n  ): Promise<GetNFTResponse> {\n    const response = await this.get<GetNFTResponse>(\n      getNFTPath(chain, address, identifier),\n    );\n    return response;\n  }\n\n  /**\n   * Fetch an OpenSea collection.\n   * @param slug The slug (identifier) of the collection.\n   * @returns The {@link OpenSeaCollection} returned by the API.\n   */\n  public async getCollection(slug: string): Promise<OpenSeaCollection> {\n    const path = getCollectionPath(slug);\n    const response = await this.get<GetCollectionResponse>(path);\n    return collectionFromJSON(response);\n  }\n\n  /**\n   * Fetch a list of OpenSea collections.\n   * @param orderBy The order to return the collections in. Default: CREATED_DATE\n   * @param chain The chain to filter the collections on. Default: all chains\n   * @param creatorUsername The creator's OpenSea username to filter the collections on.\n   * @param includeHidden If hidden collections should be returned. Default: false\n   * @param limit The limit of collections to return.\n   * @param next The cursor for the next page of results. This is returned from a previous request.\n   * @returns List of {@link OpenSeaCollection} returned by the API.\n   */\n  public async getCollections(\n    orderBy: CollectionOrderByOption = CollectionOrderByOption.CREATED_DATE,\n    chain?: Chain,\n    creatorUsername?: string,\n    includeHidden: boolean = false,\n    limit?: number,\n    next?: string,\n  ): Promise<GetCollectionsResponse> {\n    const path = getCollectionsPath();\n    const args: GetCollectionsArgs = {\n      order_by: orderBy,\n      chain,\n      creator_username: creatorUsername,\n      include_hidden: includeHidden,\n      limit,\n      next,\n    };\n    const response = await this.get<GetCollectionsResponse>(path, args);\n    response.collections = response.collections.map((collection) =>\n      collectionFromJSON(collection),\n    );\n    return response;\n  }\n\n  /**\n   * Fetch stats for an OpenSea collection.\n   * @param slug The slug (identifier) of the collection.\n   * @returns The {@link OpenSeaCollection} returned by the API.\n   */\n  public async getCollectionStats(\n    slug: string,\n  ): Promise<OpenSeaCollectionStats> {\n    const path = getCollectionStatsPath(slug);\n    const response = await this.get<OpenSeaCollectionStats>(path);\n    return response as OpenSeaCollectionStats;\n  }\n\n  /**\n   * Fetch a payment token.\n   * @param query Query to use for getting tokens. See {@link OpenSeaPaymentTokenQuery}.\n   * @param next The cursor for the next page of results. This is returned from a previous request.\n   * @returns The {@link OpenSeaPaymentToken} returned by the API.\n   */\n  public async getPaymentToken(\n    address: string,\n    chain = this.chain,\n  ): Promise<OpenSeaPaymentToken> {\n    const json = await this.get<OpenSeaPaymentToken>(\n      getPaymentTokenPath(chain, address),\n    );\n    return paymentTokenFromJSON(json);\n  }\n\n  /**\n   * Fetch account for an address.\n   * @param query Query to use for getting tokens. See {@link OpenSeaPaymentTokenQuery}.\n   * @param next The cursor for the next page of results. This is returned from a previous request.\n   * @returns The {@link GetAccountResponse} returned by the API.\n   */\n  public async getAccount(address: string): Promise<OpenSeaAccount> {\n    const json = await this.get<OpenSeaAccount>(getAccountPath(address));\n    return accountFromJSON(json);\n  }\n\n  /**\n   * Force refresh the metadata for an NFT.\n   * @param address The address of the NFT's contract.\n   * @param identifier The identifier of the NFT.\n   * @param chain The chain where the NFT is located.\n   * @returns The response from the API.\n   */\n  public async refreshNFTMetadata(\n    address: string,\n    identifier: string,\n    chain: Chain = this.chain,\n  ): Promise<Response> {\n    const response = await this.post<Response>(\n      getRefreshMetadataPath(chain, address, identifier),\n      {},\n    );\n\n    return response;\n  }\n\n  /**\n   * Offchain cancel an order, offer or listing, by its order hash when protected by the SignedZone.\n   * Protocol and Chain are required to prevent hash collisions.\n   * Please note cancellation is only assured if a fulfillment signature was not vended prior to cancellation.\n   * @param protocolAddress The Seaport address for the order.\n   * @param orderHash The order hash, or external identifier, of the order.\n   * @param chain The chain where the order is located.\n   * @param offererSignature An EIP-712 signature from the offerer of the order.\n   *                         If this is not provided, the user associated with the API Key will be checked instead.\n   *                         The signature must be a EIP-712 signature consisting of the order's Seaport contract's\n   *                         name, version, address, and chain. The struct to sign is `OrderHash` containing a\n   *                         single bytes32 field.\n   * @returns The response from the API.\n   */\n  public async offchainCancelOrder(\n    protocolAddress: string,\n    orderHash: string,\n    chain: Chain = this.chain,\n    offererSignature?: string,\n  ): Promise<CancelOrderResponse> {\n    const response = await this.post<CancelOrderResponse>(\n      getCancelOrderPath(chain, protocolAddress, orderHash),\n      { offererSignature },\n    );\n    return response;\n  }\n\n  /**\n   * Generic fetch method for any API endpoint\n   * @param apiPath Path to URL endpoint under API\n   * @param query URL query params. Will be used to create a URLSearchParams object.\n   * @returns @typeParam T The response from the API.\n   */\n  public async get<T>(apiPath: string, query: object = {}): Promise<T> {\n    const qs = this.objectToSearchParams(query);\n    const url = `${this.apiBaseUrl}${apiPath}?${qs}`;\n    return await this._fetch(url);\n  }\n\n  /**\n   * Generic post method for any API endpoint.\n   * @param apiPath Path to URL endpoint under API\n   * @param body Data to send.\n   * @param opts ethers ConnectionInfo, similar to Fetch API.\n   * @returns @typeParam T The response from the API.\n   */\n  public async post<T>(\n    apiPath: string,\n    body?: object,\n    opts?: object,\n  ): Promise<T> {\n    const url = `${this.apiBaseUrl}${apiPath}`;\n    return await this._fetch(url, opts, body);\n  }\n\n  private objectToSearchParams(params: object = {}) {\n    const urlSearchParams = new URLSearchParams();\n\n    Object.entries(params).forEach(([key, value]) => {\n      if (value && Array.isArray(value)) {\n        value.forEach((item) => item && urlSearchParams.append(key, item));\n      } else if (value) {\n        urlSearchParams.append(key, value);\n      }\n    });\n\n    return urlSearchParams.toString();\n  }\n\n  /**\n   * Get from an API Endpoint, sending auth token in headers\n   * @param opts ethers ConnectionInfo, similar to Fetch API\n   * @param body Optional body to send. If set, will POST, otherwise GET\n   */\n  private async _fetch(url: string, headers?: object, body?: object) {\n    // Create the fetch request\n    const req = new ethers.FetchRequest(url);\n\n    // Set the headers\n    headers = {\n      \"x-app-id\": \"opensea-js\",\n      ...(this.apiKey ? { \"X-API-KEY\": this.apiKey } : {}),\n      ...headers,\n    };\n    for (const [key, value] of Object.entries(headers)) {\n      req.setHeader(key, value);\n    }\n\n    // Set the body if provided\n    if (body) {\n      req.body = body;\n    }\n\n    // Set the throttle params\n    req.setThrottleParams({ slotInterval: 1000 });\n\n    this.logger(\n      `Sending request: ${url} ${JSON.stringify({\n        request: req,\n        headers: req.headers,\n      })}`,\n    );\n\n    const response = await req.send();\n    if (!response.ok()) {\n      // If an errors array is returned, throw with the error messages.\n      const errors = response.bodyJson?.errors;\n      if (errors?.length > 0) {\n        let errorMessage = errors.join(\", \");\n        if (errorMessage === \"[object Object]\") {\n          errorMessage = JSON.stringify(errors);\n        }\n        throw new Error(`Server Error: ${errorMessage}`);\n      } else {\n        // Otherwise, let ethers throw a SERVER_ERROR since it will include\n        // more context about the request and response.\n        response.assertOk();\n      }\n    }\n    return response.bodyJson;\n  }\n}\n"]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"fbbcaf174f595c51ee573aba83b702bbf0e539e2"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1r76ud9kcq=function(){return actualCoverage;};}return actualCoverage;}cov_1r76ud9kcq();cov_1r76ud9kcq().s[0]++;Object.defineProperty(exports,"__esModule",{value:true});cov_1r76ud9kcq().s[1]++;exports.OpenSeaAPI=void 0;const ethers_1=(cov_1r76ud9kcq().s[2]++,require("ethers"));const apiPaths_1=(cov_1r76ud9kcq().s[3]++,require("./apiPaths"));const types_1=(cov_1r76ud9kcq().s[4]++,require("./types"));const constants_1=(cov_1r76ud9kcq().s[5]++,require("../constants"));const utils_1=(cov_1r76ud9kcq().s[6]++,require("../orders/utils"));const types_2=(cov_1r76ud9kcq().s[7]++,require("../types"));const utils_2=(cov_1r76ud9kcq().s[8]++,require("../utils/utils"));/**
 * The API class for the OpenSea SDK.
 * @category Main Classes
 */class OpenSeaAPI{/**
     * Create an instance of the OpenSeaAPI
     * @param config OpenSeaAPIConfig for setting up the API, including an optional API key, Chain name, and base URL
     * @param logger Optional function for logging debug strings before and after requests are made. Defaults to no logging
     */constructor(config,logger){cov_1r76ud9kcq().f[0]++;cov_1r76ud9kcq().s[9]++;/**
         * Default size to use for fetching orders
         */this.pageSize=20;cov_1r76ud9kcq().s[10]++;this.apiKey=config.apiKey;cov_1r76ud9kcq().s[11]++;this.chain=(cov_1r76ud9kcq().b[0][0]++,config.chain)??(cov_1r76ud9kcq().b[0][1]++,types_2.Chain.Mainnet);cov_1r76ud9kcq().s[12]++;if(config.apiBaseUrl){cov_1r76ud9kcq().b[1][0]++;cov_1r76ud9kcq().s[13]++;this.apiBaseUrl=config.apiBaseUrl;}else{cov_1r76ud9kcq().b[1][1]++;cov_1r76ud9kcq().s[14]++;this.apiBaseUrl=(0,utils_2.isTestChain)(this.chain)?(cov_1r76ud9kcq().b[2][0]++,constants_1.API_BASE_TESTNET):(cov_1r76ud9kcq().b[2][1]++,constants_1.API_BASE_MAINNET);}// Debugging: default to nothing
cov_1r76ud9kcq().s[15]++;this.logger=(cov_1r76ud9kcq().b[3][0]++,logger)??(cov_1r76ud9kcq().b[3][1]++,arg=>{cov_1r76ud9kcq().f[1]++;cov_1r76ud9kcq().s[16]++;return arg;});}/**
     * Gets an order from API based on query options.
     * @param options
     * @param options.side The side of the order (listing or offer)
     * @param options.protocol The protocol, typically seaport, to query orders for
     * @param options.orderDirection The direction to sort the orders
     * @param options.orderBy The field to sort the orders by
     * @param options.limit The number of orders to retrieve
     * @param options.maker Filter by the wallet address of the order maker
     * @param options.taker Filter by  wallet address of the order taker
     * @param options.asset_contract_address Address of the NFT's contract
     * @param options.token_ids String array of token IDs to filter by.
     * @param options.listed_after Filter by orders listed after the Unix epoch timestamp in seconds
     * @param options.listed_before Filter by orders listed before the Unix epoch timestamp in seconds
     * @returns The first {@link OrderV2} returned by the API
     *
     * @throws An error if there are no matching orders.
     */async getOrder({side,protocol=(cov_1r76ud9kcq().b[4][0]++,"seaport"),orderDirection=(cov_1r76ud9kcq().b[5][0]++,"desc"),orderBy=(cov_1r76ud9kcq().b[6][0]++,"created_date"),...restOptions}){cov_1r76ud9kcq().f[2]++;const{orders}=(cov_1r76ud9kcq().s[17]++,await this.get((0,apiPaths_1.getOrdersAPIPath)(this.chain,protocol,side),(0,utils_1.serializeOrdersQueryOptions)({limit:1,orderBy,orderDirection,...restOptions})));cov_1r76ud9kcq().s[18]++;if(orders.length===0){cov_1r76ud9kcq().b[7][0]++;cov_1r76ud9kcq().s[19]++;throw new Error("Not found: no matching order found");}else{cov_1r76ud9kcq().b[7][1]++;}cov_1r76ud9kcq().s[20]++;return(0,utils_1.deserializeOrder)(orders[0]);}/**
     * Gets a list of orders from API based on query options.
     * @param options
     * @param options.side The side of the order (buy or sell)
     * @param options.protocol The protocol, typically seaport, to query orders for
     * @param options.orderDirection The direction to sort the orders
     * @param options.orderBy The field to sort the orders by
     * @param options.limit The number of orders to retrieve
     * @param options.maker Filter by the wallet address of the order maker
     * @param options.taker Filter by  wallet address of the order taker
     * @param options.asset_contract_address Address of the NFT's contract
     * @param options.token_ids String array of token IDs to filter by.
     * @param options.listed_after Filter by orders listed after the Unix epoch timestamp in seconds
     * @param options.listed_before Filter by orders listed before the Unix epoch timestamp in seconds
     * @returns The {@link GetOrdersResponse} returned by the API.
     */async getOrders({side,protocol=(cov_1r76ud9kcq().b[8][0]++,"seaport"),orderDirection=(cov_1r76ud9kcq().b[9][0]++,"desc"),orderBy=(cov_1r76ud9kcq().b[10][0]++,"created_date"),...restOptions}){cov_1r76ud9kcq().f[3]++;const response=(cov_1r76ud9kcq().s[21]++,await this.get((0,apiPaths_1.getOrdersAPIPath)(this.chain,protocol,side),(0,utils_1.serializeOrdersQueryOptions)({limit:this.pageSize,orderBy,orderDirection,...restOptions})));cov_1r76ud9kcq().s[22]++;return{...response,orders:response.orders.map(utils_1.deserializeOrder)};}/**
     * Gets all offers for a given collection.
     * @param collectionSlug The slug of the collection.
     * @param limit The number of offers to return. Must be between 1 and 100. Default: 100
     * @param next The cursor for the next page of results. This is returned from a previous request.
     * @returns The {@link GetOffersResponse} returned by the API.
     */async getAllOffers(collectionSlug,limit,next){cov_1r76ud9kcq().f[4]++;const response=(cov_1r76ud9kcq().s[23]++,await this.get((0,apiPaths_1.getAllOffersAPIPath)(collectionSlug),{limit,next}));cov_1r76ud9kcq().s[24]++;return response;}/**
     * Gets all listings for a given collection.
     * @param collectionSlug The slug of the collection.
     * @param limit The number of listings to return. Must be between 1 and 100. Default: 100
     * @param next The cursor for the next page of results. This is returned from a previous request.
     * @returns The {@link GetListingsResponse} returned by the API.
     */async getAllListings(collectionSlug,limit,next){cov_1r76ud9kcq().f[5]++;const response=(cov_1r76ud9kcq().s[25]++,await this.get((0,apiPaths_1.getAllListingsAPIPath)(collectionSlug),{limit,next}));cov_1r76ud9kcq().s[26]++;return response;}/**
     * Gets the best offer for a given token.
     * @param collectionSlug The slug of the collection.
     * @param tokenId The token identifier.
     * @returns The {@link GetBestOfferResponse} returned by the API.
     */async getBestOffer(collectionSlug,tokenId){cov_1r76ud9kcq().f[6]++;const response=(cov_1r76ud9kcq().s[27]++,await this.get((0,apiPaths_1.getBestOfferAPIPath)(collectionSlug,tokenId)));cov_1r76ud9kcq().s[28]++;return response;}/**
     * Gets the best listing for a given token.
     * @param collectionSlug The slug of the collection.
     * @param tokenId The token identifier.
     * @returns The {@link GetBestListingResponse} returned by the API.
     */async getBestListing(collectionSlug,tokenId){cov_1r76ud9kcq().f[7]++;const response=(cov_1r76ud9kcq().s[29]++,await this.get((0,apiPaths_1.getBestListingAPIPath)(collectionSlug,tokenId)));cov_1r76ud9kcq().s[30]++;return response;}/**
     * Gets the best listings for a given collection.
     * @param collectionSlug The slug of the collection.
     * @param limit The number of listings to return. Must be between 1 and 100. Default: 100
     * @param next The cursor for the next page of results. This is returned from a previous request.
     * @returns The {@link GetListingsResponse} returned by the API.
     */async getBestListings(collectionSlug,limit,next){cov_1r76ud9kcq().f[8]++;const response=(cov_1r76ud9kcq().s[31]++,await this.get((0,apiPaths_1.getBestListingsAPIPath)(collectionSlug),{limit,next}));cov_1r76ud9kcq().s[32]++;return response;}/**
     * Generate the data needed to fulfill a listing or an offer onchain.
     * @param fulfillerAddress The wallet address which will be used to fulfill the order
     * @param orderHash The hash of the order to fulfill
     * @param protocolAddress The address of the seaport contract
     * @side The side of the order (buy or sell)
     * @returns The {@link FulfillmentDataResponse}
     */async generateFulfillmentData(fulfillerAddress,orderHash,protocolAddress,side){cov_1r76ud9kcq().f[9]++;let payload=(cov_1r76ud9kcq().s[33]++,null);cov_1r76ud9kcq().s[34]++;if(side===types_2.OrderSide.LISTING){cov_1r76ud9kcq().b[11][0]++;cov_1r76ud9kcq().s[35]++;payload=(0,utils_1.getFulfillListingPayload)(fulfillerAddress,orderHash,protocolAddress,this.chain);}else{cov_1r76ud9kcq().b[11][1]++;cov_1r76ud9kcq().s[36]++;payload=(0,utils_1.getFulfillOfferPayload)(fulfillerAddress,orderHash,protocolAddress,this.chain);}const response=(cov_1r76ud9kcq().s[37]++,await this.post((0,utils_1.getFulfillmentDataPath)(side),payload));cov_1r76ud9kcq().s[38]++;return response;}/**
     * Post an order to OpenSea.
     * @param order The order to post
     * @param apiOptions
     * @param apiOptions.protocol The protocol, typically seaport, to post the order to.
     * @param apiOptions.side The side of the order (buy or sell).
     * @param apiOptions.protocolAddress The address of the seaport contract.
     * @param options
     * @returns The {@link OrderV2} posted to the API.
     */async postOrder(order,apiOptions){cov_1r76ud9kcq().f[10]++;const{protocol=(cov_1r76ud9kcq().b[12][0]++,"seaport"),side,protocolAddress}=(cov_1r76ud9kcq().s[39]++,apiOptions);// Validate required fields
cov_1r76ud9kcq().s[40]++;if(!side){cov_1r76ud9kcq().b[13][0]++;cov_1r76ud9kcq().s[41]++;throw new Error("apiOptions.side is required");}else{cov_1r76ud9kcq().b[13][1]++;}cov_1r76ud9kcq().s[42]++;if(!protocolAddress){cov_1r76ud9kcq().b[14][0]++;cov_1r76ud9kcq().s[43]++;throw new Error("apiOptions.protocolAddress is required");}else{cov_1r76ud9kcq().b[14][1]++;}cov_1r76ud9kcq().s[44]++;if(!order){cov_1r76ud9kcq().b[15][0]++;cov_1r76ud9kcq().s[45]++;throw new Error("order data is required");}else{cov_1r76ud9kcq().b[15][1]++;}// Validate protocol value
cov_1r76ud9kcq().s[46]++;if(protocol!=="seaport"){cov_1r76ud9kcq().b[16][0]++;cov_1r76ud9kcq().s[47]++;throw new Error("Currently only 'seaport' protocol is supported");}else{cov_1r76ud9kcq().b[16][1]++;}// Validate side value
cov_1r76ud9kcq().s[48]++;if((cov_1r76ud9kcq().b[18][0]++,side!=="ask")&&(cov_1r76ud9kcq().b[18][1]++,side!=="bid")){cov_1r76ud9kcq().b[17][0]++;cov_1r76ud9kcq().s[49]++;throw new Error("side must be either 'ask' or 'bid'");}else{cov_1r76ud9kcq().b[17][1]++;}// Validate protocolAddress format
cov_1r76ud9kcq().s[50]++;if(!/^0x[a-fA-F0-9]{40}$/.test(protocolAddress)){cov_1r76ud9kcq().b[19][0]++;cov_1r76ud9kcq().s[51]++;throw new Error("Invalid protocol address format");}else{cov_1r76ud9kcq().b[19][1]++;}const response=(cov_1r76ud9kcq().s[52]++,await this.post((0,apiPaths_1.getOrdersAPIPath)(this.chain,protocol,side),{...order,protocol_address:protocolAddress}));cov_1r76ud9kcq().s[53]++;return(0,utils_1.deserializeOrder)(response.order);}/**
     * Build a OpenSea collection offer.
     * @param offererAddress The wallet address which is creating the offer.
     * @param quantity The number of NFTs requested in the offer.
     * @param collectionSlug The slug (identifier) of the collection to build the offer for.
     * @param offerProtectionEnabled Build the offer on OpenSea's signed zone to provide offer protections from receiving an item which is disabled from trading.
     * @param traitType If defined, the trait name to create the collection offer for.
     * @param traitValue If defined, the trait value to create the collection offer for.
     * @returns The {@link BuildOfferResponse} returned by the API.
     */async buildOffer(offererAddress,quantity,collectionSlug,offerProtectionEnabled=(cov_1r76ud9kcq().b[20][0]++,true),traitType,traitValue){cov_1r76ud9kcq().f[11]++;cov_1r76ud9kcq().s[54]++;if((cov_1r76ud9kcq().b[22][0]++,traitType)||(cov_1r76ud9kcq().b[22][1]++,traitValue)){cov_1r76ud9kcq().b[21][0]++;cov_1r76ud9kcq().s[55]++;if((cov_1r76ud9kcq().b[24][0]++,!traitType)||(cov_1r76ud9kcq().b[24][1]++,!traitValue)){cov_1r76ud9kcq().b[23][0]++;cov_1r76ud9kcq().s[56]++;throw new Error("Both traitType and traitValue must be defined if one is defined.");}else{cov_1r76ud9kcq().b[23][1]++;}}else{cov_1r76ud9kcq().b[21][1]++;}const payload=(cov_1r76ud9kcq().s[57]++,(0,utils_1.getBuildCollectionOfferPayload)(offererAddress,quantity,collectionSlug,offerProtectionEnabled,traitType,traitValue));const response=(cov_1r76ud9kcq().s[58]++,await this.post((0,apiPaths_1.getBuildOfferPath)(),payload));cov_1r76ud9kcq().s[59]++;return response;}/**
     * Get a list collection offers for a given slug.
     * @param slug The slug (identifier) of the collection to list offers for
     * @returns The {@link ListCollectionOffersResponse} returned by the API.
     */async getCollectionOffers(slug){cov_1r76ud9kcq().f[12]++;cov_1r76ud9kcq().s[60]++;return await this.get((0,apiPaths_1.getCollectionOffersPath)(slug));}/**
     * Post a collection offer to OpenSea.
     * @param order The collection offer to post.
     * @param slug The slug (identifier) of the collection to post the offer for.
     * @param traitType If defined, the trait name to create the collection offer for.
     * @param traitValue If defined, the trait value to create the collection offer for.
     * @returns The {@link Offer} returned to the API.
     */async postCollectionOffer(order,slug,traitType,traitValue){cov_1r76ud9kcq().f[13]++;const payload=(cov_1r76ud9kcq().s[61]++,(0,utils_1.getPostCollectionOfferPayload)(slug,order,traitType,traitValue));cov_1r76ud9kcq().s[62]++;return await this.post((0,apiPaths_1.getPostCollectionOfferPath)(),payload);}/**
     * Fetch multiple NFTs for a collection.
     * @param slug The slug (identifier) of the collection
     * @param limit The number of NFTs to retrieve. Must be greater than 0 and less than 51.
     * @param next Cursor to retrieve the next page of NFTs
     * @returns The {@link ListNFTsResponse} returned by the API.
     */async getNFTsByCollection(slug,limit=(cov_1r76ud9kcq().b[25][0]++,undefined),next=(cov_1r76ud9kcq().b[26][0]++,undefined)){cov_1r76ud9kcq().f[14]++;const response=(cov_1r76ud9kcq().s[63]++,await this.get((0,apiPaths_1.getListNFTsByCollectionPath)(slug),{limit,next}));cov_1r76ud9kcq().s[64]++;return response;}/**
     * Fetch multiple NFTs for a contract.
     * @param address The NFT's contract address.
     * @param limit The number of NFTs to retrieve. Must be greater than 0 and less than 51.
     * @param next Cursor to retrieve the next page of NFTs.
     * @param chain The NFT's chain.
     * @returns The {@link ListNFTsResponse} returned by the API.
     */async getNFTsByContract(address,limit=(cov_1r76ud9kcq().b[27][0]++,undefined),next=(cov_1r76ud9kcq().b[28][0]++,undefined),chain=(cov_1r76ud9kcq().b[29][0]++,this.chain)){cov_1r76ud9kcq().f[15]++;const response=(cov_1r76ud9kcq().s[65]++,await this.get((0,apiPaths_1.getListNFTsByContractPath)(chain,address),{limit,next}));cov_1r76ud9kcq().s[66]++;return response;}/**
     * Fetch NFTs owned by an account.
     * @param address The address of the account
     * @param limit The number of NFTs to retrieve. Must be greater than 0 and less than 51.
     * @param next Cursor to retrieve the next page of NFTs
     * @param chain The chain to query. Defaults to the chain set in the constructor.
     * @returns The {@link ListNFTsResponse} returned by the API.
     */async getNFTsByAccount(address,limit=(cov_1r76ud9kcq().b[30][0]++,undefined),next=(cov_1r76ud9kcq().b[31][0]++,undefined),chain=(cov_1r76ud9kcq().b[32][0]++,this.chain)){cov_1r76ud9kcq().f[16]++;const response=(cov_1r76ud9kcq().s[67]++,await this.get((0,apiPaths_1.getListNFTsByAccountPath)(chain,address),{limit,next}));cov_1r76ud9kcq().s[68]++;return response;}/**
     * Fetch metadata, traits, ownership information, and rarity for a single NFT.
     * @param address The NFT's contract address.
     * @param identifier the identifier of the NFT (i.e. Token ID)
     * @param chain The NFT's chain.
     * @returns The {@link GetNFTResponse} returned by the API.
     */async getNFT(address,identifier,chain=(cov_1r76ud9kcq().b[33][0]++,this.chain)){cov_1r76ud9kcq().f[17]++;const response=(cov_1r76ud9kcq().s[69]++,await this.get((0,apiPaths_1.getNFTPath)(chain,address,identifier)));cov_1r76ud9kcq().s[70]++;return response;}/**
     * Fetch an OpenSea collection.
     * @param slug The slug (identifier) of the collection.
     * @returns The {@link OpenSeaCollection} returned by the API.
     */async getCollection(slug){cov_1r76ud9kcq().f[18]++;const path=(cov_1r76ud9kcq().s[71]++,(0,apiPaths_1.getCollectionPath)(slug));const response=(cov_1r76ud9kcq().s[72]++,await this.get(path));cov_1r76ud9kcq().s[73]++;return(0,utils_2.collectionFromJSON)(response);}/**
     * Fetch a list of OpenSea collections.
     * @param orderBy The order to return the collections in. Default: CREATED_DATE
     * @param chain The chain to filter the collections on. Default: all chains
     * @param creatorUsername The creator's OpenSea username to filter the collections on.
     * @param includeHidden If hidden collections should be returned. Default: false
     * @param limit The limit of collections to return.
     * @param next The cursor for the next page of results. This is returned from a previous request.
     * @returns List of {@link OpenSeaCollection} returned by the API.
     */async getCollections(orderBy=(cov_1r76ud9kcq().b[34][0]++,types_1.CollectionOrderByOption.CREATED_DATE),chain,creatorUsername,includeHidden=(cov_1r76ud9kcq().b[35][0]++,false),limit,next){cov_1r76ud9kcq().f[19]++;const path=(cov_1r76ud9kcq().s[74]++,(0,apiPaths_1.getCollectionsPath)());const args=(cov_1r76ud9kcq().s[75]++,{order_by:orderBy,chain,creator_username:creatorUsername,include_hidden:includeHidden,limit,next});const response=(cov_1r76ud9kcq().s[76]++,await this.get(path,args));cov_1r76ud9kcq().s[77]++;response.collections=response.collections.map(collection=>{cov_1r76ud9kcq().f[20]++;cov_1r76ud9kcq().s[78]++;return(0,utils_2.collectionFromJSON)(collection);});cov_1r76ud9kcq().s[79]++;return response;}/**
     * Fetch stats for an OpenSea collection.
     * @param slug The slug (identifier) of the collection.
     * @returns The {@link OpenSeaCollection} returned by the API.
     */async getCollectionStats(slug){cov_1r76ud9kcq().f[21]++;const path=(cov_1r76ud9kcq().s[80]++,(0,apiPaths_1.getCollectionStatsPath)(slug));const response=(cov_1r76ud9kcq().s[81]++,await this.get(path));cov_1r76ud9kcq().s[82]++;return response;}/**
     * Fetch a payment token.
     * @param query Query to use for getting tokens. See {@link OpenSeaPaymentTokenQuery}.
     * @param next The cursor for the next page of results. This is returned from a previous request.
     * @returns The {@link OpenSeaPaymentToken} returned by the API.
     */async getPaymentToken(address,chain=(cov_1r76ud9kcq().b[36][0]++,this.chain)){cov_1r76ud9kcq().f[22]++;const json=(cov_1r76ud9kcq().s[83]++,await this.get((0,apiPaths_1.getPaymentTokenPath)(chain,address)));cov_1r76ud9kcq().s[84]++;return(0,utils_2.paymentTokenFromJSON)(json);}/**
     * Fetch account for an address.
     * @param query Query to use for getting tokens. See {@link OpenSeaPaymentTokenQuery}.
     * @param next The cursor for the next page of results. This is returned from a previous request.
     * @returns The {@link GetAccountResponse} returned by the API.
     */async getAccount(address){cov_1r76ud9kcq().f[23]++;const json=(cov_1r76ud9kcq().s[85]++,await this.get((0,apiPaths_1.getAccountPath)(address)));cov_1r76ud9kcq().s[86]++;return(0,utils_2.accountFromJSON)(json);}/**
     * Force refresh the metadata for an NFT.
     * @param address The address of the NFT's contract.
     * @param identifier The identifier of the NFT.
     * @param chain The chain where the NFT is located.
     * @returns The response from the API.
     */async refreshNFTMetadata(address,identifier,chain=(cov_1r76ud9kcq().b[37][0]++,this.chain)){cov_1r76ud9kcq().f[24]++;const response=(cov_1r76ud9kcq().s[87]++,await this.post((0,apiPaths_1.getRefreshMetadataPath)(chain,address,identifier),{}));cov_1r76ud9kcq().s[88]++;return response;}/**
     * Offchain cancel an order, offer or listing, by its order hash when protected by the SignedZone.
     * Protocol and Chain are required to prevent hash collisions.
     * Please note cancellation is only assured if a fulfillment signature was not vended prior to cancellation.
     * @param protocolAddress The Seaport address for the order.
     * @param orderHash The order hash, or external identifier, of the order.
     * @param chain The chain where the order is located.
     * @param offererSignature An EIP-712 signature from the offerer of the order.
     *                         If this is not provided, the user associated with the API Key will be checked instead.
     *                         The signature must be a EIP-712 signature consisting of the order's Seaport contract's
     *                         name, version, address, and chain. The struct to sign is `OrderHash` containing a
     *                         single bytes32 field.
     * @returns The response from the API.
     */async offchainCancelOrder(protocolAddress,orderHash,chain=(cov_1r76ud9kcq().b[38][0]++,this.chain),offererSignature){cov_1r76ud9kcq().f[25]++;const response=(cov_1r76ud9kcq().s[89]++,await this.post((0,apiPaths_1.getCancelOrderPath)(chain,protocolAddress,orderHash),{offererSignature}));cov_1r76ud9kcq().s[90]++;return response;}/**
     * Generic fetch method for any API endpoint
     * @param apiPath Path to URL endpoint under API
     * @param query URL query params. Will be used to create a URLSearchParams object.
     * @returns @typeParam T The response from the API.
     */async get(apiPath,query=(cov_1r76ud9kcq().b[39][0]++,{})){cov_1r76ud9kcq().f[26]++;const qs=(cov_1r76ud9kcq().s[91]++,this.objectToSearchParams(query));const url=(cov_1r76ud9kcq().s[92]++,`${this.apiBaseUrl}${apiPath}?${qs}`);cov_1r76ud9kcq().s[93]++;return await this._fetch(url);}/**
     * Generic post method for any API endpoint.
     * @param apiPath Path to URL endpoint under API
     * @param body Data to send.
     * @param opts ethers ConnectionInfo, similar to Fetch API.
     * @returns @typeParam T The response from the API.
     */async post(apiPath,body,opts){cov_1r76ud9kcq().f[27]++;const url=(cov_1r76ud9kcq().s[94]++,`${this.apiBaseUrl}${apiPath}`);cov_1r76ud9kcq().s[95]++;return await this._fetch(url,opts,body);}objectToSearchParams(params=(cov_1r76ud9kcq().b[40][0]++,{})){cov_1r76ud9kcq().f[28]++;const urlSearchParams=(cov_1r76ud9kcq().s[96]++,new URLSearchParams());cov_1r76ud9kcq().s[97]++;Object.entries(params).forEach(([key,value])=>{cov_1r76ud9kcq().f[29]++;cov_1r76ud9kcq().s[98]++;if((cov_1r76ud9kcq().b[42][0]++,value)&&(cov_1r76ud9kcq().b[42][1]++,Array.isArray(value))){cov_1r76ud9kcq().b[41][0]++;cov_1r76ud9kcq().s[99]++;value.forEach(item=>{cov_1r76ud9kcq().f[30]++;cov_1r76ud9kcq().s[100]++;return(cov_1r76ud9kcq().b[43][0]++,item)&&(cov_1r76ud9kcq().b[43][1]++,urlSearchParams.append(key,item));});}else{cov_1r76ud9kcq().b[41][1]++;cov_1r76ud9kcq().s[101]++;if(value){cov_1r76ud9kcq().b[44][0]++;cov_1r76ud9kcq().s[102]++;urlSearchParams.append(key,value);}else{cov_1r76ud9kcq().b[44][1]++;}}});cov_1r76ud9kcq().s[103]++;return urlSearchParams.toString();}/**
     * Get from an API Endpoint, sending auth token in headers
     * @param opts ethers ConnectionInfo, similar to Fetch API
     * @param body Optional body to send. If set, will POST, otherwise GET
     */async _fetch(url,headers,body){cov_1r76ud9kcq().f[31]++;// Create the fetch request
const req=(cov_1r76ud9kcq().s[104]++,new ethers_1.ethers.FetchRequest(url));// Set the headers
cov_1r76ud9kcq().s[105]++;headers={"x-app-id":"opensea-js",...(this.apiKey?(cov_1r76ud9kcq().b[45][0]++,{"X-API-KEY":this.apiKey}):(cov_1r76ud9kcq().b[45][1]++,{})),...headers};cov_1r76ud9kcq().s[106]++;for(const[key,value]of Object.entries(headers)){cov_1r76ud9kcq().s[107]++;req.setHeader(key,value);}// Set the body if provided
cov_1r76ud9kcq().s[108]++;if(body){cov_1r76ud9kcq().b[46][0]++;cov_1r76ud9kcq().s[109]++;req.body=body;}else{cov_1r76ud9kcq().b[46][1]++;}// Set the throttle params
cov_1r76ud9kcq().s[110]++;req.setThrottleParams({slotInterval:1000});cov_1r76ud9kcq().s[111]++;this.logger(`Sending request: ${url} ${JSON.stringify({request:req,headers:req.headers})}`);const response=(cov_1r76ud9kcq().s[112]++,await req.send());cov_1r76ud9kcq().s[113]++;if(!response.ok()){cov_1r76ud9kcq().b[47][0]++;// If an errors array is returned, throw with the error messages.
const errors=(cov_1r76ud9kcq().s[114]++,response.bodyJson?.errors);cov_1r76ud9kcq().s[115]++;if(errors?.length>0){cov_1r76ud9kcq().b[48][0]++;let errorMessage=(cov_1r76ud9kcq().s[116]++,errors.join(", "));cov_1r76ud9kcq().s[117]++;if(errorMessage==="[object Object]"){cov_1r76ud9kcq().b[49][0]++;cov_1r76ud9kcq().s[118]++;errorMessage=JSON.stringify(errors);}else{cov_1r76ud9kcq().b[49][1]++;}cov_1r76ud9kcq().s[119]++;throw new Error(`Server Error: ${errorMessage}`);}else{cov_1r76ud9kcq().b[48][1]++;cov_1r76ud9kcq().s[120]++;// Otherwise, let ethers throw a SERVER_ERROR since it will include
// more context about the request and response.
response.assertOk();}}else{cov_1r76ud9kcq().b[47][1]++;}cov_1r76ud9kcq().s[121]++;return response.bodyJson;}}cov_1r76ud9kcq().s[122]++;exports.OpenSeaAPI=OpenSeaAPI;//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL1VzZXJzL3JnL2Rldi9vcGVuc2VhLWpzL3NyYy9hcGkvYXBpLnRzIiwic291cmNlcyI6WyIvVXNlcnMvcmcvZGV2L29wZW5zZWEtanMvc3JjL2FwaS9hcGkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsbUNBQWdDO0FBQ2hDLHlDQXFCb0I7QUFDcEIsbUNBZ0JpQjtBQUNqQiw0Q0FBa0U7QUFVbEUsMkNBUXlCO0FBQ3pCLG9DQVFrQjtBQUNsQiwwQ0FLd0I7QUFFeEI7OztHQUdHO0FBQ0gsTUFBYSxVQUFVO0lBaUJyQjs7OztPQUlHO0lBQ0gsWUFBWSxNQUF3QixFQUFFLE1BQThCO1FBakJwRTs7V0FFRztRQUNJLGFBQVEsR0FBRyxFQUFFLENBQUM7UUFlbkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQzVCLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEtBQUssSUFBSSxhQUFLLENBQUMsT0FBTyxDQUFDO1FBRTNDLElBQUksTUFBTSxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQ3RCLElBQUksQ0FBQyxVQUFVLEdBQUcsTUFBTSxDQUFDLFVBQVUsQ0FBQztRQUN0QyxDQUFDO2FBQU0sQ0FBQztZQUNOLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBQSxtQkFBVyxFQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7Z0JBQ3ZDLENBQUMsQ0FBQyw0QkFBZ0I7Z0JBQ2xCLENBQUMsQ0FBQyw0QkFBZ0IsQ0FBQztRQUN2QixDQUFDO1FBRUQsZ0NBQWdDO1FBQ2hDLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxJQUFJLENBQUMsQ0FBQyxHQUFXLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFFRDs7Ozs7Ozs7Ozs7Ozs7Ozs7T0FpQkc7SUFDSSxLQUFLLENBQUMsUUFBUSxDQUFDLEVBQ3BCLElBQUksRUFDSixRQUFRLEdBQUcsU0FBUyxFQUNwQixjQUFjLEdBQUcsTUFBTSxFQUN2QixPQUFP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QyxJQUFJLENBQUMsQ0FBQztnQkFDckMsSUFBSSxZQUFZLEtBQUssaUJBQWlCLEVBQUUsQ0FBQztvQkFDdkMsWUFBWSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7Z0JBQ3hDLENBQUM7Z0JBQ0QsTUFBTSxJQUFJLEtBQUssQ0FBQyxpQkFBaUIsWUFBWSxFQUFFLENBQUMsQ0FBQztZQUNuRCxDQUFDO2lCQUFNLENBQUM7Z0JBQ04sbUVBQW1FO2dCQUNuRSwrQ0FBK0M7Z0JBQy9DLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQztZQUN0QixDQUFDO1FBQ0gsQ0FBQztRQUNELE9BQU8sUUFBUSxDQUFDLFFBQVEsQ0FBQztJQUMzQixDQUFDO0NBQ0Y7QUF0ckJELGdDQXNyQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBldGhlcnMgfSBmcm9tIFwiZXRoZXJzXCI7XG5pbXBvcnQge1xuICBnZXRDb2xsZWN0aW9uUGF0aCxcbiAgZ2V0Q29sbGVjdGlvbnNQYXRoLFxuICBnZXRPcmRlcnNBUElQYXRoLFxuICBnZXRQb3N0Q29sbGVjdGlvbk9mZmVyUGF0aCxcbiAgZ2V0QnVpbGRPZmZlclBhdGgsXG4gIGdldExpc3RORlRzQnlDb2xsZWN0aW9uUGF0aCxcbiAgZ2V0TGlzdE5GVHNCeUNvbnRyYWN0UGF0aCxcbiAgZ2V0TkZUUGF0aCxcbiAgZ2V0UmVmcmVzaE1ldGFkYXRhUGF0aCxcbiAgZ2V0Q29sbGVjdGlvbk9mZmVyc1BhdGgsXG4gIGdldExpc3RORlRzQnlBY2NvdW50UGF0aCxcbiAgZ2V0QmVzdE9mZmVyQVBJUGF0aCxcbiAgZ2V0QmVzdExpc3RpbmdBUElQYXRoLFxuICBnZXRBbGxPZmZlcnNBUElQYXRoLFxuICBnZXRBbGxMaXN0aW5nc0FQSVBhdGgsXG4gIGdldFBheW1lbnRUb2tlblBhdGgsXG4gIGdldEFjY291bnRQYXRoLFxuICBnZXRDb2xsZWN0aW9uU3RhdHNQYXRoLFxuICBnZXRCZXN0TGlzdGluZ3NBUElQYXRoLFxuICBnZXRDYW5jZWxPcmRlclBhdGgsXG59IGZyb20gXCIuL2FwaVBhdGhzXCI7XG5pbXBvcnQge1xuICBCdWlsZE9mZmVyUmVzcG9uc2UsXG4gIEdldENvbGxlY3Rpb25SZXNwb25zZSxcbiAgR2V0Q29sbGVjdGlvbnNSZXNwb25zZSxcbiAgTGlzdE5GVHNSZXNwb25zZSxcbiAgR2V0TkZUUmVzcG9uc2UsXG4gIExpc3RDb2xsZWN0aW9uT2ZmZXJzUmVzcG9uc2UsXG4gIEdldE9yZGVyc1Jlc3BvbnNlLFxuICBHZXRCZXN0T2ZmZXJSZXNwb25zZSxcbiAgR2V0QmVzdExpc3RpbmdSZXNwb25zZSxcbiAgR2V0T2ZmZXJzUmVzcG9uc2UsXG4gIEdldExpc3RpbmdzUmVzcG9uc2UsXG4gIENvbGxlY3Rpb25PZmZlcixcbiAgQ29sbGVjdGlvbk9yZGVyQnlPcHRpb24sXG4gIENhbmNlbE9yZGVyUmVzcG9uc2UsXG4gIEdldENvbGxlY3Rpb25zQXJncyxcbn0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IEFQSV9CQVNFX01BSU5ORVQsIEFQSV9CQVNFX1RFU1RORVQgfSBmcm9tIFwiLi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge1xuICBGdWxmaWxsbWVudERhdGFSZXNwb25zZSxcbiAgT3JkZXJBUElPcHRpb25zLFxuICBPcmRlcnNQb3N0UXVlcnlSZXNwb25zZSxcbiAgT3JkZXJzUXVlcnlPcHRpb25zLFxuICBPcmRlcnNRdWVyeVJlc3BvbnNlLFxuICBPcmRlclYyLFxuICBQcm90b2NvbERhdGEsXG59IGZyb20gXCIuLi9vcmRlcnMvdHlwZXNcIjtcbmltcG9ydCB7XG4gIHNlcmlhbGl6ZU9yZGVyc1F1ZXJ5T3B0aW9ucyxcbiAgZGVzZXJpYWxpemVPcmRlcixcbiAgZ2V0RnVsZmlsbG1lbnREYXRhUGF0aCxcbiAgZ2V0RnVsZmlsbExpc3RpbmdQYXlsb2FkLFxuICBnZXRGdWxmaWxsT2ZmZXJQYXlsb2FkLFxuICBnZXRCdWlsZENvbGxlY3Rpb25PZmZlclBheWxvYWQsXG4gIGdldFBvc3RDb2xsZWN0aW9uT2ZmZXJQYXlsb2FkLFxufSBmcm9tIFwiLi4vb3JkZXJzL3V0aWxzXCI7XG5pbXBvcnQge1xuICBDaGFpbixcbiAgT3BlblNlYUFQSUNvbmZpZyxcbiAgT3BlblNlYUFjY291bnQsXG4gIE9wZW5TZWFDb2xsZWN0aW9uLFxuICBPcGVuU2VhQ29sbGVjdGlvblN0YXRzLFxuICBPcGVuU2VhUGF5bWVudFRva2VuLFxuICBPcmRlclNpZGUsXG59IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHtcbiAgcGF5bWVudFRva2VuRnJvbUpTT04sXG4gIGNvbGxlY3Rpb25Gcm9tSlNPTixcbiAgaXNUZXN0Q2hhaW4sXG4gIGFjY291bnRGcm9tSlNPTixcbn0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzXCI7XG5cbi8qKlxuICogVGhlIEFQSSBjbGFzcyBmb3IgdGhlIE9wZW5TZWEgU0RLLlxuICogQGNhdGVnb3J5IE1haW4gQ2xhc3Nlc1xuICovXG5leHBvcnQgY2xhc3MgT3BlblNlYUFQSSB7XG4gIC8qKlxuICAgKiBCYXNlIHVybCBmb3IgdGhlIEFQSVxuICAgKi9cbiAgcHVibGljIHJlYWRvbmx5IGFwaUJhc2VVcmw6IHN0cmluZztcbiAgLyoqXG4gICAqIERlZmF1bHQgc2l6ZSB0byB1c2UgZm9yIGZldGNoaW5nIG9yZGVyc1xuICAgKi9cbiAgcHVibGljIHBhZ2VTaXplID0gMjA7XG4gIC8qKlxuICAgKiBMb2dnZXIgZnVuY3Rpb24gdG8gdXNlIHdoZW4gZGVidWdnaW5nXG4gICAqL1xuICBwdWJsaWMgbG9nZ2VyOiAoYXJnOiBzdHJpbmcpID0+IHZvaWQ7XG5cbiAgcHJpdmF0ZSBhcGlLZXk6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBjaGFpbjogQ2hhaW47XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGUgT3BlblNlYUFQSVxuICAgKiBAcGFyYW0gY29uZmlnIE9wZW5TZWFBUElDb25maWcgZm9yIHNldHRpbmcgdXAgdGhlIEFQSSwgaW5jbHVkaW5nIGFuIG9wdGlvbmFsIEFQSSBrZXksIENoYWluIG5hbWUsIGFuZCBiYXNlIFVSTFxuICAgKiBAcGFyYW0gbG9nZ2VyIE9wdGlvbmFsIGZ1bmN0aW9uIGZvciBsb2dnaW5nIGRlYnVnIHN0cmluZ3MgYmVmb3JlIGFuZCBhZnRlciByZXF1ZXN0cyBhcmUgbWFkZS4gRGVmYXVsdHMgdG8gbm8gbG9nZ2luZ1xuICAgKi9cbiAgY29uc3RydWN0b3IoY29uZmlnOiBPcGVuU2VhQVBJQ29uZmlnLCBsb2dnZXI/OiAoYXJnOiBzdHJpbmcpID0+IHZvaWQpIHtcbiAgICB0aGlzLmFwaUtleSA9IGNvbmZpZy5hcGlLZXk7XG4gICAgdGhpcy5jaGFpbiA9IGNvbmZpZy5jaGFpbiA/PyBDaGFpbi5NYWlubmV0O1xuXG4gICAgaWYgKGNvbmZpZy5hcGlCYXNlVXJsKSB7XG4gICAgICB0aGlzLmFwaUJhc2VVcmwgPSBjb25maWcuYXBpQmFzZVVybDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hcGlCYXNlVXJsID0gaXNUZXN0Q2hhaW4odGhpcy5jaGFpbilcbiAgICAgICAgPyBBUElfQkFTRV9URVNUTkVUXG4gICAgICAgIDogQVBJX0JBU0VfTUFJTk5FVDtcbiAgICB9XG5cbiAgICAvLyBEZWJ1Z2dpbmc6IGRlZmF1bHQgdG8gbm90aGluZ1xuICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyID8/ICgoYXJnOiBzdHJpbmcpID0+IGFyZyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhbiBvcmRlciBmcm9tIEFQSSBiYXNlZCBvbiBxdWVyeSBvcHRpb25zLlxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5zaWRlIFRoZSBzaWRlIG9mIHRoZSBvcmRlciAobGlzdGluZyBvciBvZmZlcilcbiAgICogQHBhcmFtIG9wdGlvbnMucHJvdG9jb2wgVGhlIHByb3RvY29sLCB0eXBpY2FsbHkgc2VhcG9ydCwgdG8gcXVlcnkgb3JkZXJzIGZvclxuICAgKiBAcGFyYW0gb3B0aW9ucy5vcmRlckRpcmVjdGlvbiBUaGUgZGlyZWN0aW9uIHRvIHNvcnQgdGhlIG9yZGVyc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5vcmRlckJ5IFRoZSBmaWVsZCB0byBzb3J0IHRoZSBvcmRlcnMgYnlcbiAgICogQHBhcmFtIG9wdGlvbnMubGltaXQgVGhlIG51bWJlciBvZiBvcmRlcnMgdG8gcmV0cmlldmVcbiAgICogQHBhcmFtIG9wdGlvbnMubWFrZXIgRmlsdGVyIGJ5IHRoZSB3YWxsZXQgYWRkcmVzcyBvZiB0aGUgb3JkZXIgbWFrZXJcbiAgICogQHBhcmFtIG9wdGlvbnMudGFrZXIgRmlsdGVyIGJ5ICB3YWxsZXQgYWRkcmVzcyBvZiB0aGUgb3JkZXIgdGFrZXJcbiAgICogQHBhcmFtIG9wdGlvbnMuYXNzZXRfY29udHJhY3RfYWRkcmVzcyBBZGRyZXNzIG9mIHRoZSBORlQncyBjb250cmFjdFxuICAgKiBAcGFyYW0gb3B0aW9ucy50b2tlbl9pZHMgU3RyaW5nIGFycmF5IG9mIHRva2VuIElEcyB0byBmaWx0ZXIgYnkuXG4gICAqIEBwYXJhbSBvcHRpb25zLmxpc3RlZF9hZnRlciBGaWx0ZXIgYnkgb3JkZXJzIGxpc3RlZCBhZnRlciB0aGUgVW5peCBlcG9jaCB0aW1lc3RhbXAgaW4gc2Vjb25kc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5saXN0ZWRfYmVmb3JlIEZpbHRlciBieSBvcmRlcnMgbGlzdGVkIGJlZm9yZSB0aGUgVW5peCBlcG9jaCB0aW1lc3RhbXAgaW4gc2Vjb25kc1xuICAgKiBAcmV0dXJucyBUaGUgZmlyc3Qge0BsaW5rIE9yZGVyVjJ9IHJldHVybmVkIGJ5IHRoZSBBUElcbiAgICpcbiAgICogQHRocm93cyBBbiBlcnJvciBpZiB0aGVyZSBhcmUgbm8gbWF0Y2hpbmcgb3JkZXJzLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldE9yZGVyKHtcbiAgICBzaWRlLFxuICAgIHByb3RvY29sID0gXCJzZWFwb3J0XCIsXG4gICAgb3JkZXJEaXJlY3Rpb24gPSBcImRlc2NcIixcbiAgICBvcmRlckJ5ID0gXCJjcmVhdGVkX2RhdGVcIixcbiAgICAuLi5yZXN0T3B0aW9uc1xuICB9OiBPbWl0PE9yZGVyc1F1ZXJ5T3B0aW9ucywgXCJsaW1pdFwiPik6IFByb21pc2U8T3JkZXJWMj4ge1xuICAgIGNvbnN0IHsgb3JkZXJzIH0gPSBhd2FpdCB0aGlzLmdldDxPcmRlcnNRdWVyeVJlc3BvbnNlPihcbiAgICAgIGdldE9yZGVyc0FQSVBhdGgodGhpcy5jaGFpbiwgcHJvdG9jb2wsIHNpZGUpLFxuICAgICAgc2VyaWFsaXplT3JkZXJzUXVlcnlPcHRpb25zKHtcbiAgICAgICAgbGltaXQ6IDEsXG4gICAgICAgIG9yZGVyQnksXG4gICAgICAgIG9yZGVyRGlyZWN0aW9uLFxuICAgICAgICAuLi5yZXN0T3B0aW9ucyxcbiAgICAgIH0pLFxuICAgICk7XG4gICAgaWYgKG9yZGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBmb3VuZDogbm8gbWF0Y2hpbmcgb3JkZXIgZm91bmRcIik7XG4gICAgfVxuICAgIHJldHVybiBkZXNlcmlhbGl6ZU9yZGVyKG9yZGVyc1swXSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhIGxpc3Qgb2Ygb3JkZXJzIGZyb20gQVBJIGJhc2VkIG9uIHF1ZXJ5IG9wdGlvbnMuXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEBwYXJhbSBvcHRpb25zLnNpZGUgVGhlIHNpZGUgb2YgdGhlIG9yZGVyIChidXkgb3Igc2VsbClcbiAgICogQHBhcmFtIG9wdGlvbnMucHJvdG9jb2wgVGhlIHByb3RvY29sLCB0eXBpY2FsbHkgc2VhcG9ydCwgdG8gcXVlcnkgb3JkZXJzIGZvclxuICAgKiBAcGFyYW0gb3B0aW9ucy5vcmRlckRpcmVjdGlvbiBUaGUgZGlyZWN0aW9uIHRvIHNvcnQgdGhlIG9yZGVyc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5vcmRlckJ5IFRoZSBmaWVsZCB0byBzb3J0IHRoZSBvcmRlcnMgYnlcbiAgICogQHBhcmFtIG9wdGlvbnMubGltaXQgVGhlIG51bWJlciBvZiBvcmRlcnMgdG8gcmV0cmlldmVcbiAgICogQHBhcmFtIG9wdGlvbnMubWFrZXIgRmlsdGVyIGJ5IHRoZSB3YWxsZXQgYWRkcmVzcyBvZiB0aGUgb3JkZXIgbWFrZXJcbiAgICogQHBhcmFtIG9wdGlvbnMudGFrZXIgRmlsdGVyIGJ5ICB3YWxsZXQgYWRkcmVzcyBvZiB0aGUgb3JkZXIgdGFrZXJcbiAgICogQHBhcmFtIG9wdGlvbnMuYXNzZXRfY29udHJhY3RfYWRkcmVzcyBBZGRyZXNzIG9mIHRoZSBORlQncyBjb250cmFjdFxuICAgKiBAcGFyYW0gb3B0aW9ucy50b2tlbl9pZHMgU3RyaW5nIGFycmF5IG9mIHRva2VuIElEcyB0byBmaWx0ZXIgYnkuXG4gICAqIEBwYXJhbSBvcHRpb25zLmxpc3RlZF9hZnRlciBGaWx0ZXIgYnkgb3JkZXJzIGxpc3RlZCBhZnRlciB0aGUgVW5peCBlcG9jaCB0aW1lc3RhbXAgaW4gc2Vjb25kc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5saXN0ZWRfYmVmb3JlIEZpbHRlciBieSBvcmRlcnMgbGlzdGVkIGJlZm9yZSB0aGUgVW5peCBlcG9jaCB0aW1lc3RhbXAgaW4gc2Vjb25kc1xuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIEdldE9yZGVyc1Jlc3BvbnNlfSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldE9yZGVycyh7XG4gICAgc2lkZSxcbiAgICBwcm90b2NvbCA9IFwic2VhcG9ydFwiLFxuICAgIG9yZGVyRGlyZWN0aW9uID0gXCJkZXNjXCIsXG4gICAgb3JkZXJCeSA9IFwiY3JlYXRlZF9kYXRlXCIsXG4gICAgLi4ucmVzdE9wdGlvbnNcbiAgfTogT21pdDxPcmRlcnNRdWVyeU9wdGlvbnMsIFwibGltaXRcIj4pOiBQcm9taXNlPEdldE9yZGVyc1Jlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldDxPcmRlcnNRdWVyeVJlc3BvbnNlPihcbiAgICAgIGdldE9yZGVyc0FQSVBhdGgodGhpcy5jaGFpbiwgcHJvdG9jb2wsIHNpZGUpLFxuICAgICAgc2VyaWFsaXplT3JkZXJzUXVlcnlPcHRpb25zKHtcbiAgICAgICAgbGltaXQ6IHRoaXMucGFnZVNpemUsXG4gICAgICAgIG9yZGVyQnksXG4gICAgICAgIG9yZGVyRGlyZWN0aW9uLFxuICAgICAgICAuLi5yZXN0T3B0aW9ucyxcbiAgICAgIH0pLFxuICAgICk7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnJlc3BvbnNlLFxuICAgICAgb3JkZXJzOiByZXNwb25zZS5vcmRlcnMubWFwKGRlc2VyaWFsaXplT3JkZXIpLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2V0cyBhbGwgb2ZmZXJzIGZvciBhIGdpdmVuIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSBjb2xsZWN0aW9uU2x1ZyBUaGUgc2x1ZyBvZiB0aGUgY29sbGVjdGlvbi5cbiAgICogQHBhcmFtIGxpbWl0IFRoZSBudW1iZXIgb2Ygb2ZmZXJzIHRvIHJldHVybi4gTXVzdCBiZSBiZXR3ZWVuIDEgYW5kIDEwMC4gRGVmYXVsdDogMTAwXG4gICAqIEBwYXJhbSBuZXh0IFRoZSBjdXJzb3IgZm9yIHRoZSBuZXh0IHBhZ2Ugb2YgcmVzdWx0cy4gVGhpcyBpcyByZXR1cm5lZCBmcm9tIGEgcHJldmlvdXMgcmVxdWVzdC5cbiAgICogQHJldHVybnMgVGhlIHtAbGluayBHZXRPZmZlcnNSZXNwb25zZX0gcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBnZXRBbGxPZmZlcnMoXG4gICAgY29sbGVjdGlvblNsdWc6IHN0cmluZyxcbiAgICBsaW1pdD86IG51bWJlcixcbiAgICBuZXh0Pzogc3RyaW5nLFxuICApOiBQcm9taXNlPEdldE9mZmVyc1Jlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldDxHZXRPZmZlcnNSZXNwb25zZT4oXG4gICAgICBnZXRBbGxPZmZlcnNBUElQYXRoKGNvbGxlY3Rpb25TbHVnKSxcbiAgICAgIHtcbiAgICAgICAgbGltaXQsXG4gICAgICAgIG5leHQsXG4gICAgICB9LFxuICAgICk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYWxsIGxpc3RpbmdzIGZvciBhIGdpdmVuIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSBjb2xsZWN0aW9uU2x1ZyBUaGUgc2x1ZyBvZiB0aGUgY29sbGVjdGlvbi5cbiAgICogQHBhcmFtIGxpbWl0IFRoZSBudW1iZXIgb2YgbGlzdGluZ3MgdG8gcmV0dXJuLiBNdXN0IGJlIGJldHdlZW4gMSBhbmQgMTAwLiBEZWZhdWx0OiAxMDBcbiAgICogQHBhcmFtIG5leHQgVGhlIGN1cnNvciBmb3IgdGhlIG5leHQgcGFnZSBvZiByZXN1bHRzLiBUaGlzIGlzIHJldHVybmVkIGZyb20gYSBwcmV2aW91cyByZXF1ZXN0LlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIEdldExpc3RpbmdzUmVzcG9uc2V9IHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0QWxsTGlzdGluZ3MoXG4gICAgY29sbGVjdGlvblNsdWc6IHN0cmluZyxcbiAgICBsaW1pdD86IG51bWJlcixcbiAgICBuZXh0Pzogc3RyaW5nLFxuICApOiBQcm9taXNlPEdldExpc3RpbmdzUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0PEdldExpc3RpbmdzUmVzcG9uc2U+KFxuICAgICAgZ2V0QWxsTGlzdGluZ3NBUElQYXRoKGNvbGxlY3Rpb25TbHVnKSxcbiAgICAgIHtcbiAgICAgICAgbGltaXQsXG4gICAgICAgIG5leHQsXG4gICAgICB9LFxuICAgICk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGJlc3Qgb2ZmZXIgZm9yIGEgZ2l2ZW4gdG9rZW4uXG4gICAqIEBwYXJhbSBjb2xsZWN0aW9uU2x1ZyBUaGUgc2x1ZyBvZiB0aGUgY29sbGVjdGlvbi5cbiAgICogQHBhcmFtIHRva2VuSWQgVGhlIHRva2VuIGlkZW50aWZpZXIuXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgR2V0QmVzdE9mZmVyUmVzcG9uc2V9IHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0QmVzdE9mZmVyKFxuICAgIGNvbGxlY3Rpb25TbHVnOiBzdHJpbmcsXG4gICAgdG9rZW5JZDogc3RyaW5nIHwgbnVtYmVyLFxuICApOiBQcm9taXNlPEdldEJlc3RPZmZlclJlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldDxHZXRCZXN0T2ZmZXJSZXNwb25zZT4oXG4gICAgICBnZXRCZXN0T2ZmZXJBUElQYXRoKGNvbGxlY3Rpb25TbHVnLCB0b2tlbklkKSxcbiAgICApO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBiZXN0IGxpc3RpbmcgZm9yIGEgZ2l2ZW4gdG9rZW4uXG4gICAqIEBwYXJhbSBjb2xsZWN0aW9uU2x1ZyBUaGUgc2x1ZyBvZiB0aGUgY29sbGVjdGlvbi5cbiAgICogQHBhcmFtIHRva2VuSWQgVGhlIHRva2VuIGlkZW50aWZpZXIuXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgR2V0QmVzdExpc3RpbmdSZXNwb25zZX0gcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBnZXRCZXN0TGlzdGluZyhcbiAgICBjb2xsZWN0aW9uU2x1Zzogc3RyaW5nLFxuICAgIHRva2VuSWQ6IHN0cmluZyB8IG51bWJlcixcbiAgKTogUHJvbWlzZTxHZXRCZXN0TGlzdGluZ1Jlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldDxHZXRCZXN0TGlzdGluZ1Jlc3BvbnNlPihcbiAgICAgIGdldEJlc3RMaXN0aW5nQVBJUGF0aChjb2xsZWN0aW9uU2x1ZywgdG9rZW5JZCksXG4gICAgKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgYmVzdCBsaXN0aW5ncyBmb3IgYSBnaXZlbiBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0gY29sbGVjdGlvblNsdWcgVGhlIHNsdWcgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSBsaW1pdCBUaGUgbnVtYmVyIG9mIGxpc3RpbmdzIHRvIHJldHVybi4gTXVzdCBiZSBiZXR3ZWVuIDEgYW5kIDEwMC4gRGVmYXVsdDogMTAwXG4gICAqIEBwYXJhbSBuZXh0IFRoZSBjdXJzb3IgZm9yIHRoZSBuZXh0IHBhZ2Ugb2YgcmVzdWx0cy4gVGhpcyBpcyByZXR1cm5lZCBmcm9tIGEgcHJldmlvdXMgcmVxdWVzdC5cbiAgICogQHJldHVybnMgVGhlIHtAbGluayBHZXRMaXN0aW5nc1Jlc3BvbnNlfSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldEJlc3RMaXN0aW5ncyhcbiAgICBjb2xsZWN0aW9uU2x1Zzogc3RyaW5nLFxuICAgIGxpbWl0PzogbnVtYmVyLFxuICAgIG5leHQ/OiBzdHJpbmcsXG4gICk6IFByb21pc2U8R2V0TGlzdGluZ3NSZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQ8R2V0TGlzdGluZ3NSZXNwb25zZT4oXG4gICAgICBnZXRCZXN0TGlzdGluZ3NBUElQYXRoKGNvbGxlY3Rpb25TbHVnKSxcbiAgICAgIHtcbiAgICAgICAgbGltaXQsXG4gICAgICAgIG5leHQsXG4gICAgICB9LFxuICAgICk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHRoZSBkYXRhIG5lZWRlZCB0byBmdWxmaWxsIGEgbGlzdGluZyBvciBhbiBvZmZlciBvbmNoYWluLlxuICAgKiBAcGFyYW0gZnVsZmlsbGVyQWRkcmVzcyBUaGUgd2FsbGV0IGFkZHJlc3Mgd2hpY2ggd2lsbCBiZSB1c2VkIHRvIGZ1bGZpbGwgdGhlIG9yZGVyXG4gICAqIEBwYXJhbSBvcmRlckhhc2ggVGhlIGhhc2ggb2YgdGhlIG9yZGVyIHRvIGZ1bGZpbGxcbiAgICogQHBhcmFtIHByb3RvY29sQWRkcmVzcyBUaGUgYWRkcmVzcyBvZiB0aGUgc2VhcG9ydCBjb250cmFjdFxuICAgKiBAc2lkZSBUaGUgc2lkZSBvZiB0aGUgb3JkZXIgKGJ1eSBvciBzZWxsKVxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIEZ1bGZpbGxtZW50RGF0YVJlc3BvbnNlfVxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdlbmVyYXRlRnVsZmlsbG1lbnREYXRhKFxuICAgIGZ1bGZpbGxlckFkZHJlc3M6IHN0cmluZyxcbiAgICBvcmRlckhhc2g6IHN0cmluZyxcbiAgICBwcm90b2NvbEFkZHJlc3M6IHN0cmluZyxcbiAgICBzaWRlOiBPcmRlclNpZGUsXG4gICk6IFByb21pc2U8RnVsZmlsbG1lbnREYXRhUmVzcG9uc2U+IHtcbiAgICBsZXQgcGF5bG9hZDogb2JqZWN0IHwgbnVsbCA9IG51bGw7XG4gICAgaWYgKHNpZGUgPT09IE9yZGVyU2lkZS5MSVNUSU5HKSB7XG4gICAgICBwYXlsb2FkID0gZ2V0RnVsZmlsbExpc3RpbmdQYXlsb2FkKFxuICAgICAgICBmdWxmaWxsZXJBZGRyZXNzLFxuICAgICAgICBvcmRlckhhc2gsXG4gICAgICAgIHByb3RvY29sQWRkcmVzcyxcbiAgICAgICAgdGhpcy5jaGFpbixcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBheWxvYWQgPSBnZXRGdWxmaWxsT2ZmZXJQYXlsb2FkKFxuICAgICAgICBmdWxmaWxsZXJBZGRyZXNzLFxuICAgICAgICBvcmRlckhhc2gsXG4gICAgICAgIHByb3RvY29sQWRkcmVzcyxcbiAgICAgICAgdGhpcy5jaGFpbixcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5wb3N0PEZ1bGZpbGxtZW50RGF0YVJlc3BvbnNlPihcbiAgICAgIGdldEZ1bGZpbGxtZW50RGF0YVBhdGgoc2lkZSksXG4gICAgICBwYXlsb2FkLFxuICAgICk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFBvc3QgYW4gb3JkZXIgdG8gT3BlblNlYS5cbiAgICogQHBhcmFtIG9yZGVyIFRoZSBvcmRlciB0byBwb3N0XG4gICAqIEBwYXJhbSBhcGlPcHRpb25zXG4gICAqIEBwYXJhbSBhcGlPcHRpb25zLnByb3RvY29sIFRoZSBwcm90b2NvbCwgdHlwaWNhbGx5IHNlYXBvcnQsIHRvIHBvc3QgdGhlIG9yZGVyIHRvLlxuICAgKiBAcGFyYW0gYXBpT3B0aW9ucy5zaWRlIFRoZSBzaWRlIG9mIHRoZSBvcmRlciAoYnV5IG9yIHNlbGwpLlxuICAgKiBAcGFyYW0gYXBpT3B0aW9ucy5wcm90b2NvbEFkZHJlc3MgVGhlIGFkZHJlc3Mgb2YgdGhlIHNlYXBvcnQgY29udHJhY3QuXG4gICAqIEBwYXJhbSBvcHRpb25zXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgT3JkZXJWMn0gcG9zdGVkIHRvIHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgcG9zdE9yZGVyKFxuICAgIG9yZGVyOiBQcm90b2NvbERhdGEsXG4gICAgYXBpT3B0aW9uczogT3JkZXJBUElPcHRpb25zLFxuICApOiBQcm9taXNlPE9yZGVyVjI+IHtcbiAgICBjb25zdCB7IHByb3RvY29sID0gXCJzZWFwb3J0XCIsIHNpZGUsIHByb3RvY29sQWRkcmVzcyB9ID0gYXBpT3B0aW9ucztcblxuICAgIC8vIFZhbGlkYXRlIHJlcXVpcmVkIGZpZWxkc1xuICAgIGlmICghc2lkZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYXBpT3B0aW9ucy5zaWRlIGlzIHJlcXVpcmVkXCIpO1xuICAgIH1cbiAgICBpZiAoIXByb3RvY29sQWRkcmVzcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYXBpT3B0aW9ucy5wcm90b2NvbEFkZHJlc3MgaXMgcmVxdWlyZWRcIik7XG4gICAgfVxuICAgIGlmICghb3JkZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm9yZGVyIGRhdGEgaXMgcmVxdWlyZWRcIik7XG4gICAgfVxuXG4gICAgLy8gVmFsaWRhdGUgcHJvdG9jb2wgdmFsdWVcbiAgICBpZiAocHJvdG9jb2wgIT09IFwic2VhcG9ydFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDdXJyZW50bHkgb25seSAnc2VhcG9ydCcgcHJvdG9jb2wgaXMgc3VwcG9ydGVkXCIpO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHNpZGUgdmFsdWVcbiAgICBpZiAoc2lkZSAhPT0gXCJhc2tcIiAmJiBzaWRlICE9PSBcImJpZFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzaWRlIG11c3QgYmUgZWl0aGVyICdhc2snIG9yICdiaWQnXCIpO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHByb3RvY29sQWRkcmVzcyBmb3JtYXRcbiAgICBpZiAoIS9eMHhbYS1mQS1GMC05XXs0MH0kLy50ZXN0KHByb3RvY29sQWRkcmVzcykpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcHJvdG9jb2wgYWRkcmVzcyBmb3JtYXRcIik7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnBvc3Q8T3JkZXJzUG9zdFF1ZXJ5UmVzcG9uc2U+KFxuICAgICAgZ2V0T3JkZXJzQVBJUGF0aCh0aGlzLmNoYWluLCBwcm90b2NvbCwgc2lkZSksXG4gICAgICB7IC4uLm9yZGVyLCBwcm90b2NvbF9hZGRyZXNzOiBwcm90b2NvbEFkZHJlc3MgfSxcbiAgICApO1xuICAgIHJldHVybiBkZXNlcmlhbGl6ZU9yZGVyKHJlc3BvbnNlLm9yZGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWlsZCBhIE9wZW5TZWEgY29sbGVjdGlvbiBvZmZlci5cbiAgICogQHBhcmFtIG9mZmVyZXJBZGRyZXNzIFRoZSB3YWxsZXQgYWRkcmVzcyB3aGljaCBpcyBjcmVhdGluZyB0aGUgb2ZmZXIuXG4gICAqIEBwYXJhbSBxdWFudGl0eSBUaGUgbnVtYmVyIG9mIE5GVHMgcmVxdWVzdGVkIGluIHRoZSBvZmZlci5cbiAgICogQHBhcmFtIGNvbGxlY3Rpb25TbHVnIFRoZSBzbHVnIChpZGVudGlmaWVyKSBvZiB0aGUgY29sbGVjdGlvbiB0byBidWlsZCB0aGUgb2ZmZXIgZm9yLlxuICAgKiBAcGFyYW0gb2ZmZXJQcm90ZWN0aW9uRW5hYmxlZCBCdWlsZCB0aGUgb2ZmZXIgb24gT3BlblNlYSdzIHNpZ25lZCB6b25lIHRvIHByb3ZpZGUgb2ZmZXIgcHJvdGVjdGlvbnMgZnJvbSByZWNlaXZpbmcgYW4gaXRlbSB3aGljaCBpcyBkaXNhYmxlZCBmcm9tIHRyYWRpbmcuXG4gICAqIEBwYXJhbSB0cmFpdFR5cGUgSWYgZGVmaW5lZCwgdGhlIHRyYWl0IG5hbWUgdG8gY3JlYXRlIHRoZSBjb2xsZWN0aW9uIG9mZmVyIGZvci5cbiAgICogQHBhcmFtIHRyYWl0VmFsdWUgSWYgZGVmaW5lZCwgdGhlIHRyYWl0IHZhbHVlIHRvIGNyZWF0ZSB0aGUgY29sbGVjdGlvbiBvZmZlciBmb3IuXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgQnVpbGRPZmZlclJlc3BvbnNlfSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGJ1aWxkT2ZmZXIoXG4gICAgb2ZmZXJlckFkZHJlc3M6IHN0cmluZyxcbiAgICBxdWFudGl0eTogbnVtYmVyLFxuICAgIGNvbGxlY3Rpb25TbHVnOiBzdHJpbmcsXG4gICAgb2ZmZXJQcm90ZWN0aW9uRW5hYmxlZCA9IHRydWUsXG4gICAgdHJhaXRUeXBlPzogc3RyaW5nLFxuICAgIHRyYWl0VmFsdWU/OiBzdHJpbmcsXG4gICk6IFByb21pc2U8QnVpbGRPZmZlclJlc3BvbnNlPiB7XG4gICAgaWYgKHRyYWl0VHlwZSB8fCB0cmFpdFZhbHVlKSB7XG4gICAgICBpZiAoIXRyYWl0VHlwZSB8fCAhdHJhaXRWYWx1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJCb3RoIHRyYWl0VHlwZSBhbmQgdHJhaXRWYWx1ZSBtdXN0IGJlIGRlZmluZWQgaWYgb25lIGlzIGRlZmluZWQuXCIsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHBheWxvYWQgPSBnZXRCdWlsZENvbGxlY3Rpb25PZmZlclBheWxvYWQoXG4gICAgICBvZmZlcmVyQWRkcmVzcyxcbiAgICAgIHF1YW50aXR5LFxuICAgICAgY29sbGVjdGlvblNsdWcsXG4gICAgICBvZmZlclByb3RlY3Rpb25FbmFibGVkLFxuICAgICAgdHJhaXRUeXBlLFxuICAgICAgdHJhaXRWYWx1ZSxcbiAgICApO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5wb3N0PEJ1aWxkT2ZmZXJSZXNwb25zZT4oXG4gICAgICBnZXRCdWlsZE9mZmVyUGF0aCgpLFxuICAgICAgcGF5bG9hZCxcbiAgICApO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYSBsaXN0IGNvbGxlY3Rpb24gb2ZmZXJzIGZvciBhIGdpdmVuIHNsdWcuXG4gICAqIEBwYXJhbSBzbHVnIFRoZSBzbHVnIChpZGVudGlmaWVyKSBvZiB0aGUgY29sbGVjdGlvbiB0byBsaXN0IG9mZmVycyBmb3JcbiAgICogQHJldHVybnMgVGhlIHtAbGluayBMaXN0Q29sbGVjdGlvbk9mZmVyc1Jlc3BvbnNlfSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldENvbGxlY3Rpb25PZmZlcnMoXG4gICAgc2x1Zzogc3RyaW5nLFxuICApOiBQcm9taXNlPExpc3RDb2xsZWN0aW9uT2ZmZXJzUmVzcG9uc2UgfCBudWxsPiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0PExpc3RDb2xsZWN0aW9uT2ZmZXJzUmVzcG9uc2U+KFxuICAgICAgZ2V0Q29sbGVjdGlvbk9mZmVyc1BhdGgoc2x1ZyksXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQb3N0IGEgY29sbGVjdGlvbiBvZmZlciB0byBPcGVuU2VhLlxuICAgKiBAcGFyYW0gb3JkZXIgVGhlIGNvbGxlY3Rpb24gb2ZmZXIgdG8gcG9zdC5cbiAgICogQHBhcmFtIHNsdWcgVGhlIHNsdWcgKGlkZW50aWZpZXIpIG9mIHRoZSBjb2xsZWN0aW9uIHRvIHBvc3QgdGhlIG9mZmVyIGZvci5cbiAgICogQHBhcmFtIHRyYWl0VHlwZSBJZiBkZWZpbmVkLCB0aGUgdHJhaXQgbmFtZSB0byBjcmVhdGUgdGhlIGNvbGxlY3Rpb24gb2ZmZXIgZm9yLlxuICAgKiBAcGFyYW0gdHJhaXRWYWx1ZSBJZiBkZWZpbmVkLCB0aGUgdHJhaXQgdmFsdWUgdG8gY3JlYXRlIHRoZSBjb2xsZWN0aW9uIG9mZmVyIGZvci5cbiAgICogQHJldHVybnMgVGhlIHtAbGluayBPZmZlcn0gcmV0dXJuZWQgdG8gdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBwb3N0Q29sbGVjdGlvbk9mZmVyKFxuICAgIG9yZGVyOiBQcm90b2NvbERhdGEsXG4gICAgc2x1Zzogc3RyaW5nLFxuICAgIHRyYWl0VHlwZT86IHN0cmluZyxcbiAgICB0cmFpdFZhbHVlPzogc3RyaW5nLFxuICApOiBQcm9taXNlPENvbGxlY3Rpb25PZmZlciB8IG51bGw+IHtcbiAgICBjb25zdCBwYXlsb2FkID0gZ2V0UG9zdENvbGxlY3Rpb25PZmZlclBheWxvYWQoXG4gICAgICBzbHVnLFxuICAgICAgb3JkZXIsXG4gICAgICB0cmFpdFR5cGUsXG4gICAgICB0cmFpdFZhbHVlLFxuICAgICk7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMucG9zdDxDb2xsZWN0aW9uT2ZmZXI+KFxuICAgICAgZ2V0UG9zdENvbGxlY3Rpb25PZmZlclBhdGgoKSxcbiAgICAgIHBheWxvYWQsXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBtdWx0aXBsZSBORlRzIGZvciBhIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSBzbHVnIFRoZSBzbHVnIChpZGVudGlmaWVyKSBvZiB0aGUgY29sbGVjdGlvblxuICAgKiBAcGFyYW0gbGltaXQgVGhlIG51bWJlciBvZiBORlRzIHRvIHJldHJpZXZlLiBNdXN0IGJlIGdyZWF0ZXIgdGhhbiAwIGFuZCBsZXNzIHRoYW4gNTEuXG4gICAqIEBwYXJhbSBuZXh0IEN1cnNvciB0byByZXRyaWV2ZSB0aGUgbmV4dCBwYWdlIG9mIE5GVHNcbiAgICogQHJldHVybnMgVGhlIHtAbGluayBMaXN0TkZUc1Jlc3BvbnNlfSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldE5GVHNCeUNvbGxlY3Rpb24oXG4gICAgc2x1Zzogc3RyaW5nLFxuICAgIGxpbWl0OiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsXG4gICAgbmV4dDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLFxuICApOiBQcm9taXNlPExpc3RORlRzUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0PExpc3RORlRzUmVzcG9uc2U+KFxuICAgICAgZ2V0TGlzdE5GVHNCeUNvbGxlY3Rpb25QYXRoKHNsdWcpLFxuICAgICAge1xuICAgICAgICBsaW1pdCxcbiAgICAgICAgbmV4dCxcbiAgICAgIH0sXG4gICAgKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggbXVsdGlwbGUgTkZUcyBmb3IgYSBjb250cmFjdC5cbiAgICogQHBhcmFtIGFkZHJlc3MgVGhlIE5GVCdzIGNvbnRyYWN0IGFkZHJlc3MuXG4gICAqIEBwYXJhbSBsaW1pdCBUaGUgbnVtYmVyIG9mIE5GVHMgdG8gcmV0cmlldmUuIE11c3QgYmUgZ3JlYXRlciB0aGFuIDAgYW5kIGxlc3MgdGhhbiA1MS5cbiAgICogQHBhcmFtIG5leHQgQ3Vyc29yIHRvIHJldHJpZXZlIHRoZSBuZXh0IHBhZ2Ugb2YgTkZUcy5cbiAgICogQHBhcmFtIGNoYWluIFRoZSBORlQncyBjaGFpbi5cbiAgICogQHJldHVybnMgVGhlIHtAbGluayBMaXN0TkZUc1Jlc3BvbnNlfSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldE5GVHNCeUNvbnRyYWN0KFxuICAgIGFkZHJlc3M6IHN0cmluZyxcbiAgICBsaW1pdDogbnVtYmVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLFxuICAgIG5leHQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCxcbiAgICBjaGFpbjogQ2hhaW4gPSB0aGlzLmNoYWluLFxuICApOiBQcm9taXNlPExpc3RORlRzUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0PExpc3RORlRzUmVzcG9uc2U+KFxuICAgICAgZ2V0TGlzdE5GVHNCeUNvbnRyYWN0UGF0aChjaGFpbiwgYWRkcmVzcyksXG4gICAgICB7XG4gICAgICAgIGxpbWl0LFxuICAgICAgICBuZXh0LFxuICAgICAgfSxcbiAgICApO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBORlRzIG93bmVkIGJ5IGFuIGFjY291bnQuXG4gICAqIEBwYXJhbSBhZGRyZXNzIFRoZSBhZGRyZXNzIG9mIHRoZSBhY2NvdW50XG4gICAqIEBwYXJhbSBsaW1pdCBUaGUgbnVtYmVyIG9mIE5GVHMgdG8gcmV0cmlldmUuIE11c3QgYmUgZ3JlYXRlciB0aGFuIDAgYW5kIGxlc3MgdGhhbiA1MS5cbiAgICogQHBhcmFtIG5leHQgQ3Vyc29yIHRvIHJldHJpZXZlIHRoZSBuZXh0IHBhZ2Ugb2YgTkZUc1xuICAgKiBAcGFyYW0gY2hhaW4gVGhlIGNoYWluIHRvIHF1ZXJ5LiBEZWZhdWx0cyB0byB0aGUgY2hhaW4gc2V0IGluIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICogQHJldHVybnMgVGhlIHtAbGluayBMaXN0TkZUc1Jlc3BvbnNlfSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldE5GVHNCeUFjY291bnQoXG4gICAgYWRkcmVzczogc3RyaW5nLFxuICAgIGxpbWl0OiBudW1iZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsXG4gICAgbmV4dDogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLFxuICAgIGNoYWluID0gdGhpcy5jaGFpbixcbiAgKTogUHJvbWlzZTxMaXN0TkZUc1Jlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldDxMaXN0TkZUc1Jlc3BvbnNlPihcbiAgICAgIGdldExpc3RORlRzQnlBY2NvdW50UGF0aChjaGFpbiwgYWRkcmVzcyksXG4gICAgICB7XG4gICAgICAgIGxpbWl0LFxuICAgICAgICBuZXh0LFxuICAgICAgfSxcbiAgICApO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIG1ldGFkYXRhLCB0cmFpdHMsIG93bmVyc2hpcCBpbmZvcm1hdGlvbiwgYW5kIHJhcml0eSBmb3IgYSBzaW5nbGUgTkZULlxuICAgKiBAcGFyYW0gYWRkcmVzcyBUaGUgTkZUJ3MgY29udHJhY3QgYWRkcmVzcy5cbiAgICogQHBhcmFtIGlkZW50aWZpZXIgdGhlIGlkZW50aWZpZXIgb2YgdGhlIE5GVCAoaS5lLiBUb2tlbiBJRClcbiAgICogQHBhcmFtIGNoYWluIFRoZSBORlQncyBjaGFpbi5cbiAgICogQHJldHVybnMgVGhlIHtAbGluayBHZXRORlRSZXNwb25zZX0gcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBnZXRORlQoXG4gICAgYWRkcmVzczogc3RyaW5nLFxuICAgIGlkZW50aWZpZXI6IHN0cmluZyxcbiAgICBjaGFpbiA9IHRoaXMuY2hhaW4sXG4gICk6IFByb21pc2U8R2V0TkZUUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0PEdldE5GVFJlc3BvbnNlPihcbiAgICAgIGdldE5GVFBhdGgoY2hhaW4sIGFkZHJlc3MsIGlkZW50aWZpZXIpLFxuICAgICk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIGFuIE9wZW5TZWEgY29sbGVjdGlvbi5cbiAgICogQHBhcmFtIHNsdWcgVGhlIHNsdWcgKGlkZW50aWZpZXIpIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIE9wZW5TZWFDb2xsZWN0aW9ufSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldENvbGxlY3Rpb24oc2x1Zzogc3RyaW5nKTogUHJvbWlzZTxPcGVuU2VhQ29sbGVjdGlvbj4ge1xuICAgIGNvbnN0IHBhdGggPSBnZXRDb2xsZWN0aW9uUGF0aChzbHVnKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0PEdldENvbGxlY3Rpb25SZXNwb25zZT4ocGF0aCk7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb25Gcm9tSlNPTihyZXNwb25zZSk7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggYSBsaXN0IG9mIE9wZW5TZWEgY29sbGVjdGlvbnMuXG4gICAqIEBwYXJhbSBvcmRlckJ5IFRoZSBvcmRlciB0byByZXR1cm4gdGhlIGNvbGxlY3Rpb25zIGluLiBEZWZhdWx0OiBDUkVBVEVEX0RBVEVcbiAgICogQHBhcmFtIGNoYWluIFRoZSBjaGFpbiB0byBmaWx0ZXIgdGhlIGNvbGxlY3Rpb25zIG9uLiBEZWZhdWx0OiBhbGwgY2hhaW5zXG4gICAqIEBwYXJhbSBjcmVhdG9yVXNlcm5hbWUgVGhlIGNyZWF0b3IncyBPcGVuU2VhIHVzZXJuYW1lIHRvIGZpbHRlciB0aGUgY29sbGVjdGlvbnMgb24uXG4gICAqIEBwYXJhbSBpbmNsdWRlSGlkZGVuIElmIGhpZGRlbiBjb2xsZWN0aW9ucyBzaG91bGQgYmUgcmV0dXJuZWQuIERlZmF1bHQ6IGZhbHNlXG4gICAqIEBwYXJhbSBsaW1pdCBUaGUgbGltaXQgb2YgY29sbGVjdGlvbnMgdG8gcmV0dXJuLlxuICAgKiBAcGFyYW0gbmV4dCBUaGUgY3Vyc29yIGZvciB0aGUgbmV4dCBwYWdlIG9mIHJlc3VsdHMuIFRoaXMgaXMgcmV0dXJuZWQgZnJvbSBhIHByZXZpb3VzIHJlcXVlc3QuXG4gICAqIEByZXR1cm5zIExpc3Qgb2Yge0BsaW5rIE9wZW5TZWFDb2xsZWN0aW9ufSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldENvbGxlY3Rpb25zKFxuICAgIG9yZGVyQnk6IENvbGxlY3Rpb25PcmRlckJ5T3B0aW9uID0gQ29sbGVjdGlvbk9yZGVyQnlPcHRpb24uQ1JFQVRFRF9EQVRFLFxuICAgIGNoYWluPzogQ2hhaW4sXG4gICAgY3JlYXRvclVzZXJuYW1lPzogc3RyaW5nLFxuICAgIGluY2x1ZGVIaWRkZW46IGJvb2xlYW4gPSBmYWxzZSxcbiAgICBsaW1pdD86IG51bWJlcixcbiAgICBuZXh0Pzogc3RyaW5nLFxuICApOiBQcm9taXNlPEdldENvbGxlY3Rpb25zUmVzcG9uc2U+IHtcbiAgICBjb25zdCBwYXRoID0gZ2V0Q29sbGVjdGlvbnNQYXRoKCk7XG4gICAgY29uc3QgYXJnczogR2V0Q29sbGVjdGlvbnNBcmdzID0ge1xuICAgICAgb3JkZXJfYnk6IG9yZGVyQnksXG4gICAgICBjaGFpbixcbiAgICAgIGNyZWF0b3JfdXNlcm5hbWU6IGNyZWF0b3JVc2VybmFtZSxcbiAgICAgIGluY2x1ZGVfaGlkZGVuOiBpbmNsdWRlSGlkZGVuLFxuICAgICAgbGltaXQsXG4gICAgICBuZXh0LFxuICAgIH07XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldDxHZXRDb2xsZWN0aW9uc1Jlc3BvbnNlPihwYXRoLCBhcmdzKTtcbiAgICByZXNwb25zZS5jb2xsZWN0aW9ucyA9IHJlc3BvbnNlLmNvbGxlY3Rpb25zLm1hcCgoY29sbGVjdGlvbikgPT5cbiAgICAgIGNvbGxlY3Rpb25Gcm9tSlNPTihjb2xsZWN0aW9uKSxcbiAgICApO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBzdGF0cyBmb3IgYW4gT3BlblNlYSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0gc2x1ZyBUaGUgc2x1ZyAoaWRlbnRpZmllcikgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgT3BlblNlYUNvbGxlY3Rpb259IHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0Q29sbGVjdGlvblN0YXRzKFxuICAgIHNsdWc6IHN0cmluZyxcbiAgKTogUHJvbWlzZTxPcGVuU2VhQ29sbGVjdGlvblN0YXRzPiB7XG4gICAgY29uc3QgcGF0aCA9IGdldENvbGxlY3Rpb25TdGF0c1BhdGgoc2x1Zyk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldDxPcGVuU2VhQ29sbGVjdGlvblN0YXRzPihwYXRoKTtcbiAgICByZXR1cm4gcmVzcG9uc2UgYXMgT3BlblNlYUNvbGxlY3Rpb25TdGF0cztcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBhIHBheW1lbnQgdG9rZW4uXG4gICAqIEBwYXJhbSBxdWVyeSBRdWVyeSB0byB1c2UgZm9yIGdldHRpbmcgdG9rZW5zLiBTZWUge0BsaW5rIE9wZW5TZWFQYXltZW50VG9rZW5RdWVyeX0uXG4gICAqIEBwYXJhbSBuZXh0IFRoZSBjdXJzb3IgZm9yIHRoZSBuZXh0IHBhZ2Ugb2YgcmVzdWx0cy4gVGhpcyBpcyByZXR1cm5lZCBmcm9tIGEgcHJldmlvdXMgcmVxdWVzdC5cbiAgICogQHJldHVybnMgVGhlIHtAbGluayBPcGVuU2VhUGF5bWVudFRva2VufSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldFBheW1lbnRUb2tlbihcbiAgICBhZGRyZXNzOiBzdHJpbmcsXG4gICAgY2hhaW4gPSB0aGlzLmNoYWluLFxuICApOiBQcm9taXNlPE9wZW5TZWFQYXltZW50VG9rZW4+IHtcbiAgICBjb25zdCBqc29uID0gYXdhaXQgdGhpcy5nZXQ8T3BlblNlYVBheW1lbnRUb2tlbj4oXG4gICAgICBnZXRQYXltZW50VG9rZW5QYXRoKGNoYWluLCBhZGRyZXNzKSxcbiAgICApO1xuICAgIHJldHVybiBwYXltZW50VG9rZW5Gcm9tSlNPTihqc29uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBhY2NvdW50IGZvciBhbiBhZGRyZXNzLlxuICAgKiBAcGFyYW0gcXVlcnkgUXVlcnkgdG8gdXNlIGZvciBnZXR0aW5nIHRva2Vucy4gU2VlIHtAbGluayBPcGVuU2VhUGF5bWVudFRva2VuUXVlcnl9LlxuICAgKiBAcGFyYW0gbmV4dCBUaGUgY3Vyc29yIGZvciB0aGUgbmV4dCBwYWdlIG9mIHJlc3VsdHMuIFRoaXMgaXMgcmV0dXJuZWQgZnJvbSBhIHByZXZpb3VzIHJlcXVlc3QuXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgR2V0QWNjb3VudFJlc3BvbnNlfSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldEFjY291bnQoYWRkcmVzczogc3RyaW5nKTogUHJvbWlzZTxPcGVuU2VhQWNjb3VudD4ge1xuICAgIGNvbnN0IGpzb24gPSBhd2FpdCB0aGlzLmdldDxPcGVuU2VhQWNjb3VudD4oZ2V0QWNjb3VudFBhdGgoYWRkcmVzcykpO1xuICAgIHJldHVybiBhY2NvdW50RnJvbUpTT04oanNvbik7XG4gIH1cblxuICAvKipcbiAgICogRm9yY2UgcmVmcmVzaCB0aGUgbWV0YWRhdGEgZm9yIGFuIE5GVC5cbiAgICogQHBhcmFtIGFkZHJlc3MgVGhlIGFkZHJlc3Mgb2YgdGhlIE5GVCdzIGNvbnRyYWN0LlxuICAgKiBAcGFyYW0gaWRlbnRpZmllciBUaGUgaWRlbnRpZmllciBvZiB0aGUgTkZULlxuICAgKiBAcGFyYW0gY2hhaW4gVGhlIGNoYWluIHdoZXJlIHRoZSBORlQgaXMgbG9jYXRlZC5cbiAgICogQHJldHVybnMgVGhlIHJlc3BvbnNlIGZyb20gdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyByZWZyZXNoTkZUTWV0YWRhdGEoXG4gICAgYWRkcmVzczogc3RyaW5nLFxuICAgIGlkZW50aWZpZXI6IHN0cmluZyxcbiAgICBjaGFpbjogQ2hhaW4gPSB0aGlzLmNoYWluLFxuICApOiBQcm9taXNlPFJlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnBvc3Q8UmVzcG9uc2U+KFxuICAgICAgZ2V0UmVmcmVzaE1ldGFkYXRhUGF0aChjaGFpbiwgYWRkcmVzcywgaWRlbnRpZmllciksXG4gICAgICB7fSxcbiAgICApO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLyoqXG4gICAqIE9mZmNoYWluIGNhbmNlbCBhbiBvcmRlciwgb2ZmZXIgb3IgbGlzdGluZywgYnkgaXRzIG9yZGVyIGhhc2ggd2hlbiBwcm90ZWN0ZWQgYnkgdGhlIFNpZ25lZFpvbmUuXG4gICAqIFByb3RvY29sIGFuZCBDaGFpbiBhcmUgcmVxdWlyZWQgdG8gcHJldmVudCBoYXNoIGNvbGxpc2lvbnMuXG4gICAqIFBsZWFzZSBub3RlIGNhbmNlbGxhdGlvbiBpcyBvbmx5IGFzc3VyZWQgaWYgYSBmdWxmaWxsbWVudCBzaWduYXR1cmUgd2FzIG5vdCB2ZW5kZWQgcHJpb3IgdG8gY2FuY2VsbGF0aW9uLlxuICAgKiBAcGFyYW0gcHJvdG9jb2xBZGRyZXNzIFRoZSBTZWFwb3J0IGFkZHJlc3MgZm9yIHRoZSBvcmRlci5cbiAgICogQHBhcmFtIG9yZGVySGFzaCBUaGUgb3JkZXIgaGFzaCwgb3IgZXh0ZXJuYWwgaWRlbnRpZmllciwgb2YgdGhlIG9yZGVyLlxuICAgKiBAcGFyYW0gY2hhaW4gVGhlIGNoYWluIHdoZXJlIHRoZSBvcmRlciBpcyBsb2NhdGVkLlxuICAgKiBAcGFyYW0gb2ZmZXJlclNpZ25hdHVyZSBBbiBFSVAtNzEyIHNpZ25hdHVyZSBmcm9tIHRoZSBvZmZlcmVyIG9mIHRoZSBvcmRlci5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgSWYgdGhpcyBpcyBub3QgcHJvdmlkZWQsIHRoZSB1c2VyIGFzc29jaWF0ZWQgd2l0aCB0aGUgQVBJIEtleSB3aWxsIGJlIGNoZWNrZWQgaW5zdGVhZC5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgVGhlIHNpZ25hdHVyZSBtdXN0IGJlIGEgRUlQLTcxMiBzaWduYXR1cmUgY29uc2lzdGluZyBvZiB0aGUgb3JkZXIncyBTZWFwb3J0IGNvbnRyYWN0J3NcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgbmFtZSwgdmVyc2lvbiwgYWRkcmVzcywgYW5kIGNoYWluLiBUaGUgc3RydWN0IHRvIHNpZ24gaXMgYE9yZGVySGFzaGAgY29udGFpbmluZyBhXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgIHNpbmdsZSBieXRlczMyIGZpZWxkLlxuICAgKiBAcmV0dXJucyBUaGUgcmVzcG9uc2UgZnJvbSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIG9mZmNoYWluQ2FuY2VsT3JkZXIoXG4gICAgcHJvdG9jb2xBZGRyZXNzOiBzdHJpbmcsXG4gICAgb3JkZXJIYXNoOiBzdHJpbmcsXG4gICAgY2hhaW46IENoYWluID0gdGhpcy5jaGFpbixcbiAgICBvZmZlcmVyU2lnbmF0dXJlPzogc3RyaW5nLFxuICApOiBQcm9taXNlPENhbmNlbE9yZGVyUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucG9zdDxDYW5jZWxPcmRlclJlc3BvbnNlPihcbiAgICAgIGdldENhbmNlbE9yZGVyUGF0aChjaGFpbiwgcHJvdG9jb2xBZGRyZXNzLCBvcmRlckhhc2gpLFxuICAgICAgeyBvZmZlcmVyU2lnbmF0dXJlIH0sXG4gICAgKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJpYyBmZXRjaCBtZXRob2QgZm9yIGFueSBBUEkgZW5kcG9pbnRcbiAgICogQHBhcmFtIGFwaVBhdGggUGF0aCB0byBVUkwgZW5kcG9pbnQgdW5kZXIgQVBJXG4gICAqIEBwYXJhbSBxdWVyeSBVUkwgcXVlcnkgcGFyYW1zLiBXaWxsIGJlIHVzZWQgdG8gY3JlYXRlIGEgVVJMU2VhcmNoUGFyYW1zIG9iamVjdC5cbiAgICogQHJldHVybnMgQHR5cGVQYXJhbSBUIFRoZSByZXNwb25zZSBmcm9tIHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0PFQ+KGFwaVBhdGg6IHN0cmluZywgcXVlcnk6IG9iamVjdCA9IHt9KTogUHJvbWlzZTxUPiB7XG4gICAgY29uc3QgcXMgPSB0aGlzLm9iamVjdFRvU2VhcmNoUGFyYW1zKHF1ZXJ5KTtcbiAgICBjb25zdCB1cmwgPSBgJHt0aGlzLmFwaUJhc2VVcmx9JHthcGlQYXRofT8ke3FzfWA7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ZldGNoKHVybCk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJpYyBwb3N0IG1ldGhvZCBmb3IgYW55IEFQSSBlbmRwb2ludC5cbiAgICogQHBhcmFtIGFwaVBhdGggUGF0aCB0byBVUkwgZW5kcG9pbnQgdW5kZXIgQVBJXG4gICAqIEBwYXJhbSBib2R5IERhdGEgdG8gc2VuZC5cbiAgICogQHBhcmFtIG9wdHMgZXRoZXJzIENvbm5lY3Rpb25JbmZvLCBzaW1pbGFyIHRvIEZldGNoIEFQSS5cbiAgICogQHJldHVybnMgQHR5cGVQYXJhbSBUIFRoZSByZXNwb25zZSBmcm9tIHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgcG9zdDxUPihcbiAgICBhcGlQYXRoOiBzdHJpbmcsXG4gICAgYm9keT86IG9iamVjdCxcbiAgICBvcHRzPzogb2JqZWN0LFxuICApOiBQcm9taXNlPFQ+IHtcbiAgICBjb25zdCB1cmwgPSBgJHt0aGlzLmFwaUJhc2VVcmx9JHthcGlQYXRofWA7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuX2ZldGNoKHVybCwgb3B0cywgYm9keSk7XG4gIH1cblxuICBwcml2YXRlIG9iamVjdFRvU2VhcmNoUGFyYW1zKHBhcmFtczogb2JqZWN0ID0ge30pIHtcbiAgICBjb25zdCB1cmxTZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG5cbiAgICBPYmplY3QuZW50cmllcyhwYXJhbXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgaWYgKHZhbHVlICYmIEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goKGl0ZW0pID0+IGl0ZW0gJiYgdXJsU2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIGl0ZW0pKTtcbiAgICAgIH0gZWxzZSBpZiAodmFsdWUpIHtcbiAgICAgICAgdXJsU2VhcmNoUGFyYW1zLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB1cmxTZWFyY2hQYXJhbXMudG9TdHJpbmcoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgZnJvbSBhbiBBUEkgRW5kcG9pbnQsIHNlbmRpbmcgYXV0aCB0b2tlbiBpbiBoZWFkZXJzXG4gICAqIEBwYXJhbSBvcHRzIGV0aGVycyBDb25uZWN0aW9uSW5mbywgc2ltaWxhciB0byBGZXRjaCBBUElcbiAgICogQHBhcmFtIGJvZHkgT3B0aW9uYWwgYm9keSB0byBzZW5kLiBJZiBzZXQsIHdpbGwgUE9TVCwgb3RoZXJ3aXNlIEdFVFxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBfZmV0Y2godXJsOiBzdHJpbmcsIGhlYWRlcnM/OiBvYmplY3QsIGJvZHk/OiBvYmplY3QpIHtcbiAgICAvLyBDcmVhdGUgdGhlIGZldGNoIHJlcXVlc3RcbiAgICBjb25zdCByZXEgPSBuZXcgZXRoZXJzLkZldGNoUmVxdWVzdCh1cmwpO1xuXG4gICAgLy8gU2V0IHRoZSBoZWFkZXJzXG4gICAgaGVhZGVycyA9IHtcbiAgICAgIFwieC1hcHAtaWRcIjogXCJvcGVuc2VhLWpzXCIsXG4gICAgICAuLi4odGhpcy5hcGlLZXkgPyB7IFwiWC1BUEktS0VZXCI6IHRoaXMuYXBpS2V5IH0gOiB7fSksXG4gICAgICAuLi5oZWFkZXJzLFxuICAgIH07XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoaGVhZGVycykpIHtcbiAgICAgIHJlcS5zZXRIZWFkZXIoa2V5LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSBib2R5IGlmIHByb3ZpZGVkXG4gICAgaWYgKGJvZHkpIHtcbiAgICAgIHJlcS5ib2R5ID0gYm9keTtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIHRocm90dGxlIHBhcmFtc1xuICAgIHJlcS5zZXRUaHJvdHRsZVBhcmFtcyh7IHNsb3RJbnRlcnZhbDogMTAwMCB9KTtcblxuICAgIHRoaXMubG9nZ2VyKFxuICAgICAgYFNlbmRpbmcgcmVxdWVzdDogJHt1cmx9ICR7SlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICByZXF1ZXN0OiByZXEsXG4gICAgICAgIGhlYWRlcnM6IHJlcS5oZWFkZXJzLFxuICAgICAgfSl9YCxcbiAgICApO1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXEuc2VuZCgpO1xuICAgIGlmICghcmVzcG9uc2Uub2soKSkge1xuICAgICAgLy8gSWYgYW4gZXJyb3JzIGFycmF5IGlzIHJldHVybmVkLCB0aHJvdyB3aXRoIHRoZSBlcnJvciBtZXNzYWdlcy5cbiAgICAgIGNvbnN0IGVycm9ycyA9IHJlc3BvbnNlLmJvZHlKc29uPy5lcnJvcnM7XG4gICAgICBpZiAoZXJyb3JzPy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBlcnJvcnMuam9pbihcIiwgXCIpO1xuICAgICAgICBpZiAoZXJyb3JNZXNzYWdlID09PSBcIltvYmplY3QgT2JqZWN0XVwiKSB7XG4gICAgICAgICAgZXJyb3JNZXNzYWdlID0gSlNPTi5zdHJpbmdpZnkoZXJyb3JzKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZlciBFcnJvcjogJHtlcnJvck1lc3NhZ2V9YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBPdGhlcndpc2UsIGxldCBldGhlcnMgdGhyb3cgYSBTRVJWRVJfRVJST1Igc2luY2UgaXQgd2lsbCBpbmNsdWRlXG4gICAgICAgIC8vIG1vcmUgY29udGV4dCBhYm91dCB0aGUgcmVxdWVzdCBhbmQgcmVzcG9uc2UuXG4gICAgICAgIHJlc3BvbnNlLmFzc2VydE9rKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZS5ib2R5SnNvbjtcbiAgfVxufVxuIl19
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMXI3NnVkOWtjcSIsImFjdHVhbENvdmVyYWdlIiwicyIsImV0aGVyc18xIiwicmVxdWlyZSIsImFwaVBhdGhzXzEiLCJ0eXBlc18xIiwiY29uc3RhbnRzXzEiLCJ1dGlsc18xIiwidHlwZXNfMiIsInV0aWxzXzIiLCJPcGVuU2VhQVBJIiwiY29uc3RydWN0b3IiLCJjb25maWciLCJsb2dnZXIiLCJmIiwicGFnZVNpemUiLCJhcGlLZXkiLCJjaGFpbiIsImIiLCJDaGFpbiIsIk1haW5uZXQiLCJhcGlCYXNlVXJsIiwiaXNUZXN0Q2hhaW4iLCJBUElfQkFTRV9URVNUTkVUIiwiQVBJX0JBU0VfTUFJTk5FVCIsImFyZyIsImdldE9yZGVyIiwic2lkZSIsInByb3RvY29sIiwib3JkZXJEaXJlY3Rpb24iLCJvcmRlckJ5IiwicmVzdE9wdGlvbnMiLCJvcmRlcnMiLCJnZXQiLCJnZXRPcmRlcnNBUElQYXRoIiwic2VyaWFsaXplT3JkZXJzUXVlcnlPcHRpb25zIiwibGltaXQiLCJsZW5ndGgiLCJFcnJvciIsImRlc2VyaWFsaXplT3JkZXIiLCJnZXRPcmRlcnMiLCJyZXNwb25zZSIsIm1hcCIsImdldEFsbE9mZmVycyIsImNvbGxlY3Rpb25TbHVnIiwibmV4dCIsImdldEFsbE9mZmVyc0FQSVBhdGgiLCJnZXRBbGxMaXN0aW5ncyIsImdldEFsbExpc3RpbmdzQVBJUGF0aCIsImdldEJlc3RPZmZlciIsInRva2VuSWQiLCJnZXRCZXN0T2ZmZXJBUElQYXRoIiwiZ2V0QmVzdExpc3RpbmciLCJnZXRCZXN0TGlzdGluZ0FQSVBhdGgiLCJnZXRCZXN0TGlzdGluZ3MiLCJnZXRCZXN0TGlzdGluZ3NBUElQYXRoIiwiZ2VuZXJhdGVGdWxmaWxsbWVudERhdGEiLCJmdWxmaWxsZXJBZGRyZXNzIiwib3JkZXJIYXNoIiwicHJvdG9jb2xBZGRyZXNzIiwicGF5bG9hZCIsIk9yZGVyU2lkZSIsIkxJU1RJTkciLCJnZXRGdWxmaWxsTGlzdGluZ1BheWxvYWQiLCJnZXRGdWxmaWxsT2ZmZXJQYXlsb2FkIiwicG9zdCIsImdldEZ1bGZpbGxtZW50RGF0YVBhdGgiLCJwb3N0T3JkZXIiLCJvcmRlciIsImFwaU9wdGlvbnMiLCJ0ZXN0IiwicHJvdG9jb2xfYWRkcmVzcyIsImJ1aWxkT2ZmZXIiLCJvZmZlcmVyQWRkcmVzcyIsInF1YW50aXR5Iiwib2ZmZXJQcm90ZWN0aW9uRW5hYmxlZCIsInRyYWl0VHlwZSIsInRyYWl0VmFsdWUiLCJnZXRCdWlsZENvbGxlY3Rpb25PZmZlclBheWxvYWQiLCJnZXRCdWlsZE9mZmVyUGF0aCIsImdldENvbGxlY3Rpb25PZmZlcnMiLCJzbHVnIiwiZ2V0Q29sbGVjdGlvbk9mZmVyc1BhdGgiLCJwb3N0Q29sbGVjdGlvbk9mZmVyIiwiZ2V0UG9zdENvbGxlY3Rpb25PZmZlclBheWxvYWQiLCJnZXRQb3N0Q29sbGVjdGlvbk9mZmVyUGF0aCIsImdldE5GVHNCeUNvbGxlY3Rpb24iLCJ1bmRlZmluZWQiLCJnZXRMaXN0TkZUc0J5Q29sbGVjdGlvblBhdGgiLCJnZXRORlRzQnlDb250cmFjdCIsImFkZHJlc3MiLCJnZXRMaXN0TkZUc0J5Q29udHJhY3RQYXRoIiwiZ2V0TkZUc0J5QWNjb3VudCIsImdldExpc3RORlRzQnlBY2NvdW50UGF0aCIsImdldE5GVCIsImlkZW50aWZpZXIiLCJnZXRORlRQYXRoIiwiZ2V0Q29sbGVjdGlvbiIsInBhdGgiLCJnZXRDb2xsZWN0aW9uUGF0aCIsImNvbGxlY3Rpb25Gcm9tSlNPTiIsImdldENvbGxlY3Rpb25zIiwiQ29sbGVjdGlvbk9yZGVyQnlPcHRpb24iLCJDUkVBVEVEX0RBVEUiLCJjcmVhdG9yVXNlcm5hbWUiLCJpbmNsdWRlSGlkZGVuIiwiZ2V0Q29sbGVjdGlvbnNQYXRoIiwiYXJncyIsIm9yZGVyX2J5IiwiY3JlYXRvcl91c2VybmFtZSIsImluY2x1ZGVfaGlkZGVuIiwiY29sbGVjdGlvbnMiLCJjb2xsZWN0aW9uIiwiZ2V0Q29sbGVjdGlvblN0YXRzIiwiZ2V0Q29sbGVjdGlvblN0YXRzUGF0aCIsImdldFBheW1lbnRUb2tlbiIsImpzb24iLCJnZXRQYXltZW50VG9rZW5QYXRoIiwicGF5bWVudFRva2VuRnJvbUpTT04iLCJnZXRBY2NvdW50IiwiZ2V0QWNjb3VudFBhdGgiLCJhY2NvdW50RnJvbUpTT04iLCJyZWZyZXNoTkZUTWV0YWRhdGEiLCJnZXRSZWZyZXNoTWV0YWRhdGFQYXRoIiwib2ZmY2hhaW5DYW5jZWxPcmRlciIsIm9mZmVyZXJTaWduYXR1cmUiLCJnZXRDYW5jZWxPcmRlclBhdGgiLCJhcGlQYXRoIiwicXVlcnkiLCJxcyIsIm9iamVjdFRvU2VhcmNoUGFyYW1zIiwidXJsIiwiX2ZldGNoIiwiYm9keSIsIm9wdHMiLCJwYXJhbXMiLCJ1cmxTZWFyY2hQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJPYmplY3QiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImtleSIsInZhbHVlIiwiQXJyYXkiLCJpc0FycmF5IiwiaXRlbSIsImFwcGVuZCIsInRvU3RyaW5nIiwiaGVhZGVycyIsInJlcSIsImV0aGVycyIsIkZldGNoUmVxdWVzdCIsInNldEhlYWRlciIsInNldFRocm90dGxlUGFyYW1zIiwic2xvdEludGVydmFsIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlcXVlc3QiLCJzZW5kIiwib2siLCJlcnJvcnMiLCJib2R5SnNvbiIsImVycm9yTWVzc2FnZSIsImpvaW4iLCJhc3NlcnRPayIsImV4cG9ydHMiXSwic291cmNlcyI6WyIvVXNlcnMvcmcvZGV2L29wZW5zZWEtanMvc3JjL2FwaS9hcGkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXRoZXJzIH0gZnJvbSBcImV0aGVyc1wiO1xuaW1wb3J0IHtcbiAgZ2V0Q29sbGVjdGlvblBhdGgsXG4gIGdldENvbGxlY3Rpb25zUGF0aCxcbiAgZ2V0T3JkZXJzQVBJUGF0aCxcbiAgZ2V0UG9zdENvbGxlY3Rpb25PZmZlclBhdGgsXG4gIGdldEJ1aWxkT2ZmZXJQYXRoLFxuICBnZXRMaXN0TkZUc0J5Q29sbGVjdGlvblBhdGgsXG4gIGdldExpc3RORlRzQnlDb250cmFjdFBhdGgsXG4gIGdldE5GVFBhdGgsXG4gIGdldFJlZnJlc2hNZXRhZGF0YVBhdGgsXG4gIGdldENvbGxlY3Rpb25PZmZlcnNQYXRoLFxuICBnZXRMaXN0TkZUc0J5QWNjb3VudFBhdGgsXG4gIGdldEJlc3RPZmZlckFQSVBhdGgsXG4gIGdldEJlc3RMaXN0aW5nQVBJUGF0aCxcbiAgZ2V0QWxsT2ZmZXJzQVBJUGF0aCxcbiAgZ2V0QWxsTGlzdGluZ3NBUElQYXRoLFxuICBnZXRQYXltZW50VG9rZW5QYXRoLFxuICBnZXRBY2NvdW50UGF0aCxcbiAgZ2V0Q29sbGVjdGlvblN0YXRzUGF0aCxcbiAgZ2V0QmVzdExpc3RpbmdzQVBJUGF0aCxcbiAgZ2V0Q2FuY2VsT3JkZXJQYXRoLFxufSBmcm9tIFwiLi9hcGlQYXRoc1wiO1xuaW1wb3J0IHtcbiAgQnVpbGRPZmZlclJlc3BvbnNlLFxuICBHZXRDb2xsZWN0aW9uUmVzcG9uc2UsXG4gIEdldENvbGxlY3Rpb25zUmVzcG9uc2UsXG4gIExpc3RORlRzUmVzcG9uc2UsXG4gIEdldE5GVFJlc3BvbnNlLFxuICBMaXN0Q29sbGVjdGlvbk9mZmVyc1Jlc3BvbnNlLFxuICBHZXRPcmRlcnNSZXNwb25zZSxcbiAgR2V0QmVzdE9mZmVyUmVzcG9uc2UsXG4gIEdldEJlc3RMaXN0aW5nUmVzcG9uc2UsXG4gIEdldE9mZmVyc1Jlc3BvbnNlLFxuICBHZXRMaXN0aW5nc1Jlc3BvbnNlLFxuICBDb2xsZWN0aW9uT2ZmZXIsXG4gIENvbGxlY3Rpb25PcmRlckJ5T3B0aW9uLFxuICBDYW5jZWxPcmRlclJlc3BvbnNlLFxuICBHZXRDb2xsZWN0aW9uc0FyZ3MsXG59IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgeyBBUElfQkFTRV9NQUlOTkVULCBBUElfQkFTRV9URVNUTkVUIH0gZnJvbSBcIi4uL2NvbnN0YW50c1wiO1xuaW1wb3J0IHtcbiAgRnVsZmlsbG1lbnREYXRhUmVzcG9uc2UsXG4gIE9yZGVyQVBJT3B0aW9ucyxcbiAgT3JkZXJzUG9zdFF1ZXJ5UmVzcG9uc2UsXG4gIE9yZGVyc1F1ZXJ5T3B0aW9ucyxcbiAgT3JkZXJzUXVlcnlSZXNwb25zZSxcbiAgT3JkZXJWMixcbiAgUHJvdG9jb2xEYXRhLFxufSBmcm9tIFwiLi4vb3JkZXJzL3R5cGVzXCI7XG5pbXBvcnQge1xuICBzZXJpYWxpemVPcmRlcnNRdWVyeU9wdGlvbnMsXG4gIGRlc2VyaWFsaXplT3JkZXIsXG4gIGdldEZ1bGZpbGxtZW50RGF0YVBhdGgsXG4gIGdldEZ1bGZpbGxMaXN0aW5nUGF5bG9hZCxcbiAgZ2V0RnVsZmlsbE9mZmVyUGF5bG9hZCxcbiAgZ2V0QnVpbGRDb2xsZWN0aW9uT2ZmZXJQYXlsb2FkLFxuICBnZXRQb3N0Q29sbGVjdGlvbk9mZmVyUGF5bG9hZCxcbn0gZnJvbSBcIi4uL29yZGVycy91dGlsc1wiO1xuaW1wb3J0IHtcbiAgQ2hhaW4sXG4gIE9wZW5TZWFBUElDb25maWcsXG4gIE9wZW5TZWFBY2NvdW50LFxuICBPcGVuU2VhQ29sbGVjdGlvbixcbiAgT3BlblNlYUNvbGxlY3Rpb25TdGF0cyxcbiAgT3BlblNlYVBheW1lbnRUb2tlbixcbiAgT3JkZXJTaWRlLFxufSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7XG4gIHBheW1lbnRUb2tlbkZyb21KU09OLFxuICBjb2xsZWN0aW9uRnJvbUpTT04sXG4gIGlzVGVzdENoYWluLFxuICBhY2NvdW50RnJvbUpTT04sXG59IGZyb20gXCIuLi91dGlscy91dGlsc1wiO1xuXG4vKipcbiAqIFRoZSBBUEkgY2xhc3MgZm9yIHRoZSBPcGVuU2VhIFNESy5cbiAqIEBjYXRlZ29yeSBNYWluIENsYXNzZXNcbiAqL1xuZXhwb3J0IGNsYXNzIE9wZW5TZWFBUEkge1xuICAvKipcbiAgICogQmFzZSB1cmwgZm9yIHRoZSBBUElcbiAgICovXG4gIHB1YmxpYyByZWFkb25seSBhcGlCYXNlVXJsOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEZWZhdWx0IHNpemUgdG8gdXNlIGZvciBmZXRjaGluZyBvcmRlcnNcbiAgICovXG4gIHB1YmxpYyBwYWdlU2l6ZSA9IDIwO1xuICAvKipcbiAgICogTG9nZ2VyIGZ1bmN0aW9uIHRvIHVzZSB3aGVuIGRlYnVnZ2luZ1xuICAgKi9cbiAgcHVibGljIGxvZ2dlcjogKGFyZzogc3RyaW5nKSA9PiB2b2lkO1xuXG4gIHByaXZhdGUgYXBpS2V5OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgY2hhaW46IENoYWluO1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhlIE9wZW5TZWFBUElcbiAgICogQHBhcmFtIGNvbmZpZyBPcGVuU2VhQVBJQ29uZmlnIGZvciBzZXR0aW5nIHVwIHRoZSBBUEksIGluY2x1ZGluZyBhbiBvcHRpb25hbCBBUEkga2V5LCBDaGFpbiBuYW1lLCBhbmQgYmFzZSBVUkxcbiAgICogQHBhcmFtIGxvZ2dlciBPcHRpb25hbCBmdW5jdGlvbiBmb3IgbG9nZ2luZyBkZWJ1ZyBzdHJpbmdzIGJlZm9yZSBhbmQgYWZ0ZXIgcmVxdWVzdHMgYXJlIG1hZGUuIERlZmF1bHRzIHRvIG5vIGxvZ2dpbmdcbiAgICovXG4gIGNvbnN0cnVjdG9yKGNvbmZpZzogT3BlblNlYUFQSUNvbmZpZywgbG9nZ2VyPzogKGFyZzogc3RyaW5nKSA9PiB2b2lkKSB7XG4gICAgdGhpcy5hcGlLZXkgPSBjb25maWcuYXBpS2V5O1xuICAgIHRoaXMuY2hhaW4gPSBjb25maWcuY2hhaW4gPz8gQ2hhaW4uTWFpbm5ldDtcblxuICAgIGlmIChjb25maWcuYXBpQmFzZVVybCkge1xuICAgICAgdGhpcy5hcGlCYXNlVXJsID0gY29uZmlnLmFwaUJhc2VVcmw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXBpQmFzZVVybCA9IGlzVGVzdENoYWluKHRoaXMuY2hhaW4pXG4gICAgICAgID8gQVBJX0JBU0VfVEVTVE5FVFxuICAgICAgICA6IEFQSV9CQVNFX01BSU5ORVQ7XG4gICAgfVxuXG4gICAgLy8gRGVidWdnaW5nOiBkZWZhdWx0IHRvIG5vdGhpbmdcbiAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlciA/PyAoKGFyZzogc3RyaW5nKSA9PiBhcmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYW4gb3JkZXIgZnJvbSBBUEkgYmFzZWQgb24gcXVlcnkgb3B0aW9ucy5cbiAgICogQHBhcmFtIG9wdGlvbnNcbiAgICogQHBhcmFtIG9wdGlvbnMuc2lkZSBUaGUgc2lkZSBvZiB0aGUgb3JkZXIgKGxpc3Rpbmcgb3Igb2ZmZXIpXG4gICAqIEBwYXJhbSBvcHRpb25zLnByb3RvY29sIFRoZSBwcm90b2NvbCwgdHlwaWNhbGx5IHNlYXBvcnQsIHRvIHF1ZXJ5IG9yZGVycyBmb3JcbiAgICogQHBhcmFtIG9wdGlvbnMub3JkZXJEaXJlY3Rpb24gVGhlIGRpcmVjdGlvbiB0byBzb3J0IHRoZSBvcmRlcnNcbiAgICogQHBhcmFtIG9wdGlvbnMub3JkZXJCeSBUaGUgZmllbGQgdG8gc29ydCB0aGUgb3JkZXJzIGJ5XG4gICAqIEBwYXJhbSBvcHRpb25zLmxpbWl0IFRoZSBudW1iZXIgb2Ygb3JkZXJzIHRvIHJldHJpZXZlXG4gICAqIEBwYXJhbSBvcHRpb25zLm1ha2VyIEZpbHRlciBieSB0aGUgd2FsbGV0IGFkZHJlc3Mgb2YgdGhlIG9yZGVyIG1ha2VyXG4gICAqIEBwYXJhbSBvcHRpb25zLnRha2VyIEZpbHRlciBieSAgd2FsbGV0IGFkZHJlc3Mgb2YgdGhlIG9yZGVyIHRha2VyXG4gICAqIEBwYXJhbSBvcHRpb25zLmFzc2V0X2NvbnRyYWN0X2FkZHJlc3MgQWRkcmVzcyBvZiB0aGUgTkZUJ3MgY29udHJhY3RcbiAgICogQHBhcmFtIG9wdGlvbnMudG9rZW5faWRzIFN0cmluZyBhcnJheSBvZiB0b2tlbiBJRHMgdG8gZmlsdGVyIGJ5LlxuICAgKiBAcGFyYW0gb3B0aW9ucy5saXN0ZWRfYWZ0ZXIgRmlsdGVyIGJ5IG9yZGVycyBsaXN0ZWQgYWZ0ZXIgdGhlIFVuaXggZXBvY2ggdGltZXN0YW1wIGluIHNlY29uZHNcbiAgICogQHBhcmFtIG9wdGlvbnMubGlzdGVkX2JlZm9yZSBGaWx0ZXIgYnkgb3JkZXJzIGxpc3RlZCBiZWZvcmUgdGhlIFVuaXggZXBvY2ggdGltZXN0YW1wIGluIHNlY29uZHNcbiAgICogQHJldHVybnMgVGhlIGZpcnN0IHtAbGluayBPcmRlclYyfSByZXR1cm5lZCBieSB0aGUgQVBJXG4gICAqXG4gICAqIEB0aHJvd3MgQW4gZXJyb3IgaWYgdGhlcmUgYXJlIG5vIG1hdGNoaW5nIG9yZGVycy5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBnZXRPcmRlcih7XG4gICAgc2lkZSxcbiAgICBwcm90b2NvbCA9IFwic2VhcG9ydFwiLFxuICAgIG9yZGVyRGlyZWN0aW9uID0gXCJkZXNjXCIsXG4gICAgb3JkZXJCeSA9IFwiY3JlYXRlZF9kYXRlXCIsXG4gICAgLi4ucmVzdE9wdGlvbnNcbiAgfTogT21pdDxPcmRlcnNRdWVyeU9wdGlvbnMsIFwibGltaXRcIj4pOiBQcm9taXNlPE9yZGVyVjI+IHtcbiAgICBjb25zdCB7IG9yZGVycyB9ID0gYXdhaXQgdGhpcy5nZXQ8T3JkZXJzUXVlcnlSZXNwb25zZT4oXG4gICAgICBnZXRPcmRlcnNBUElQYXRoKHRoaXMuY2hhaW4sIHByb3RvY29sLCBzaWRlKSxcbiAgICAgIHNlcmlhbGl6ZU9yZGVyc1F1ZXJ5T3B0aW9ucyh7XG4gICAgICAgIGxpbWl0OiAxLFxuICAgICAgICBvcmRlckJ5LFxuICAgICAgICBvcmRlckRpcmVjdGlvbixcbiAgICAgICAgLi4ucmVzdE9wdGlvbnMsXG4gICAgICB9KSxcbiAgICApO1xuICAgIGlmIChvcmRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgZm91bmQ6IG5vIG1hdGNoaW5nIG9yZGVyIGZvdW5kXCIpO1xuICAgIH1cbiAgICByZXR1cm4gZGVzZXJpYWxpemVPcmRlcihvcmRlcnNbMF0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYSBsaXN0IG9mIG9yZGVycyBmcm9tIEFQSSBiYXNlZCBvbiBxdWVyeSBvcHRpb25zLlxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcGFyYW0gb3B0aW9ucy5zaWRlIFRoZSBzaWRlIG9mIHRoZSBvcmRlciAoYnV5IG9yIHNlbGwpXG4gICAqIEBwYXJhbSBvcHRpb25zLnByb3RvY29sIFRoZSBwcm90b2NvbCwgdHlwaWNhbGx5IHNlYXBvcnQsIHRvIHF1ZXJ5IG9yZGVycyBmb3JcbiAgICogQHBhcmFtIG9wdGlvbnMub3JkZXJEaXJlY3Rpb24gVGhlIGRpcmVjdGlvbiB0byBzb3J0IHRoZSBvcmRlcnNcbiAgICogQHBhcmFtIG9wdGlvbnMub3JkZXJCeSBUaGUgZmllbGQgdG8gc29ydCB0aGUgb3JkZXJzIGJ5XG4gICAqIEBwYXJhbSBvcHRpb25zLmxpbWl0IFRoZSBudW1iZXIgb2Ygb3JkZXJzIHRvIHJldHJpZXZlXG4gICAqIEBwYXJhbSBvcHRpb25zLm1ha2VyIEZpbHRlciBieSB0aGUgd2FsbGV0IGFkZHJlc3Mgb2YgdGhlIG9yZGVyIG1ha2VyXG4gICAqIEBwYXJhbSBvcHRpb25zLnRha2VyIEZpbHRlciBieSAgd2FsbGV0IGFkZHJlc3Mgb2YgdGhlIG9yZGVyIHRha2VyXG4gICAqIEBwYXJhbSBvcHRpb25zLmFzc2V0X2NvbnRyYWN0X2FkZHJlc3MgQWRkcmVzcyBvZiB0aGUgTkZUJ3MgY29udHJhY3RcbiAgICogQHBhcmFtIG9wdGlvbnMudG9rZW5faWRzIFN0cmluZyBhcnJheSBvZiB0b2tlbiBJRHMgdG8gZmlsdGVyIGJ5LlxuICAgKiBAcGFyYW0gb3B0aW9ucy5saXN0ZWRfYWZ0ZXIgRmlsdGVyIGJ5IG9yZGVycyBsaXN0ZWQgYWZ0ZXIgdGhlIFVuaXggZXBvY2ggdGltZXN0YW1wIGluIHNlY29uZHNcbiAgICogQHBhcmFtIG9wdGlvbnMubGlzdGVkX2JlZm9yZSBGaWx0ZXIgYnkgb3JkZXJzIGxpc3RlZCBiZWZvcmUgdGhlIFVuaXggZXBvY2ggdGltZXN0YW1wIGluIHNlY29uZHNcbiAgICogQHJldHVybnMgVGhlIHtAbGluayBHZXRPcmRlcnNSZXNwb25zZX0gcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBnZXRPcmRlcnMoe1xuICAgIHNpZGUsXG4gICAgcHJvdG9jb2wgPSBcInNlYXBvcnRcIixcbiAgICBvcmRlckRpcmVjdGlvbiA9IFwiZGVzY1wiLFxuICAgIG9yZGVyQnkgPSBcImNyZWF0ZWRfZGF0ZVwiLFxuICAgIC4uLnJlc3RPcHRpb25zXG4gIH06IE9taXQ8T3JkZXJzUXVlcnlPcHRpb25zLCBcImxpbWl0XCI+KTogUHJvbWlzZTxHZXRPcmRlcnNSZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQ8T3JkZXJzUXVlcnlSZXNwb25zZT4oXG4gICAgICBnZXRPcmRlcnNBUElQYXRoKHRoaXMuY2hhaW4sIHByb3RvY29sLCBzaWRlKSxcbiAgICAgIHNlcmlhbGl6ZU9yZGVyc1F1ZXJ5T3B0aW9ucyh7XG4gICAgICAgIGxpbWl0OiB0aGlzLnBhZ2VTaXplLFxuICAgICAgICBvcmRlckJ5LFxuICAgICAgICBvcmRlckRpcmVjdGlvbixcbiAgICAgICAgLi4ucmVzdE9wdGlvbnMsXG4gICAgICB9KSxcbiAgICApO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5yZXNwb25zZSxcbiAgICAgIG9yZGVyczogcmVzcG9uc2Uub3JkZXJzLm1hcChkZXNlcmlhbGl6ZU9yZGVyKSxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYWxsIG9mZmVycyBmb3IgYSBnaXZlbiBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0gY29sbGVjdGlvblNsdWcgVGhlIHNsdWcgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSBsaW1pdCBUaGUgbnVtYmVyIG9mIG9mZmVycyB0byByZXR1cm4uIE11c3QgYmUgYmV0d2VlbiAxIGFuZCAxMDAuIERlZmF1bHQ6IDEwMFxuICAgKiBAcGFyYW0gbmV4dCBUaGUgY3Vyc29yIGZvciB0aGUgbmV4dCBwYWdlIG9mIHJlc3VsdHMuIFRoaXMgaXMgcmV0dXJuZWQgZnJvbSBhIHByZXZpb3VzIHJlcXVlc3QuXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgR2V0T2ZmZXJzUmVzcG9uc2V9IHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0QWxsT2ZmZXJzKFxuICAgIGNvbGxlY3Rpb25TbHVnOiBzdHJpbmcsXG4gICAgbGltaXQ/OiBudW1iZXIsXG4gICAgbmV4dD86IHN0cmluZyxcbiAgKTogUHJvbWlzZTxHZXRPZmZlcnNSZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQ8R2V0T2ZmZXJzUmVzcG9uc2U+KFxuICAgICAgZ2V0QWxsT2ZmZXJzQVBJUGF0aChjb2xsZWN0aW9uU2x1ZyksXG4gICAgICB7XG4gICAgICAgIGxpbWl0LFxuICAgICAgICBuZXh0LFxuICAgICAgfSxcbiAgICApO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIGFsbCBsaXN0aW5ncyBmb3IgYSBnaXZlbiBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0gY29sbGVjdGlvblNsdWcgVGhlIHNsdWcgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSBsaW1pdCBUaGUgbnVtYmVyIG9mIGxpc3RpbmdzIHRvIHJldHVybi4gTXVzdCBiZSBiZXR3ZWVuIDEgYW5kIDEwMC4gRGVmYXVsdDogMTAwXG4gICAqIEBwYXJhbSBuZXh0IFRoZSBjdXJzb3IgZm9yIHRoZSBuZXh0IHBhZ2Ugb2YgcmVzdWx0cy4gVGhpcyBpcyByZXR1cm5lZCBmcm9tIGEgcHJldmlvdXMgcmVxdWVzdC5cbiAgICogQHJldHVybnMgVGhlIHtAbGluayBHZXRMaXN0aW5nc1Jlc3BvbnNlfSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldEFsbExpc3RpbmdzKFxuICAgIGNvbGxlY3Rpb25TbHVnOiBzdHJpbmcsXG4gICAgbGltaXQ/OiBudW1iZXIsXG4gICAgbmV4dD86IHN0cmluZyxcbiAgKTogUHJvbWlzZTxHZXRMaXN0aW5nc1Jlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldDxHZXRMaXN0aW5nc1Jlc3BvbnNlPihcbiAgICAgIGdldEFsbExpc3RpbmdzQVBJUGF0aChjb2xsZWN0aW9uU2x1ZyksXG4gICAgICB7XG4gICAgICAgIGxpbWl0LFxuICAgICAgICBuZXh0LFxuICAgICAgfSxcbiAgICApO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBiZXN0IG9mZmVyIGZvciBhIGdpdmVuIHRva2VuLlxuICAgKiBAcGFyYW0gY29sbGVjdGlvblNsdWcgVGhlIHNsdWcgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSB0b2tlbklkIFRoZSB0b2tlbiBpZGVudGlmaWVyLlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIEdldEJlc3RPZmZlclJlc3BvbnNlfSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldEJlc3RPZmZlcihcbiAgICBjb2xsZWN0aW9uU2x1Zzogc3RyaW5nLFxuICAgIHRva2VuSWQ6IHN0cmluZyB8IG51bWJlcixcbiAgKTogUHJvbWlzZTxHZXRCZXN0T2ZmZXJSZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQ8R2V0QmVzdE9mZmVyUmVzcG9uc2U+KFxuICAgICAgZ2V0QmVzdE9mZmVyQVBJUGF0aChjb2xsZWN0aW9uU2x1ZywgdG9rZW5JZCksXG4gICAgKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgYmVzdCBsaXN0aW5nIGZvciBhIGdpdmVuIHRva2VuLlxuICAgKiBAcGFyYW0gY29sbGVjdGlvblNsdWcgVGhlIHNsdWcgb2YgdGhlIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSB0b2tlbklkIFRoZSB0b2tlbiBpZGVudGlmaWVyLlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIEdldEJlc3RMaXN0aW5nUmVzcG9uc2V9IHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0QmVzdExpc3RpbmcoXG4gICAgY29sbGVjdGlvblNsdWc6IHN0cmluZyxcbiAgICB0b2tlbklkOiBzdHJpbmcgfCBudW1iZXIsXG4gICk6IFByb21pc2U8R2V0QmVzdExpc3RpbmdSZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQ8R2V0QmVzdExpc3RpbmdSZXNwb25zZT4oXG4gICAgICBnZXRCZXN0TGlzdGluZ0FQSVBhdGgoY29sbGVjdGlvblNsdWcsIHRva2VuSWQpLFxuICAgICk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGJlc3QgbGlzdGluZ3MgZm9yIGEgZ2l2ZW4gY29sbGVjdGlvbi5cbiAgICogQHBhcmFtIGNvbGxlY3Rpb25TbHVnIFRoZSBzbHVnIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0gbGltaXQgVGhlIG51bWJlciBvZiBsaXN0aW5ncyB0byByZXR1cm4uIE11c3QgYmUgYmV0d2VlbiAxIGFuZCAxMDAuIERlZmF1bHQ6IDEwMFxuICAgKiBAcGFyYW0gbmV4dCBUaGUgY3Vyc29yIGZvciB0aGUgbmV4dCBwYWdlIG9mIHJlc3VsdHMuIFRoaXMgaXMgcmV0dXJuZWQgZnJvbSBhIHByZXZpb3VzIHJlcXVlc3QuXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgR2V0TGlzdGluZ3NSZXNwb25zZX0gcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBnZXRCZXN0TGlzdGluZ3MoXG4gICAgY29sbGVjdGlvblNsdWc6IHN0cmluZyxcbiAgICBsaW1pdD86IG51bWJlcixcbiAgICBuZXh0Pzogc3RyaW5nLFxuICApOiBQcm9taXNlPEdldExpc3RpbmdzUmVzcG9uc2U+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2V0PEdldExpc3RpbmdzUmVzcG9uc2U+KFxuICAgICAgZ2V0QmVzdExpc3RpbmdzQVBJUGF0aChjb2xsZWN0aW9uU2x1ZyksXG4gICAgICB7XG4gICAgICAgIGxpbWl0LFxuICAgICAgICBuZXh0LFxuICAgICAgfSxcbiAgICApO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSB0aGUgZGF0YSBuZWVkZWQgdG8gZnVsZmlsbCBhIGxpc3Rpbmcgb3IgYW4gb2ZmZXIgb25jaGFpbi5cbiAgICogQHBhcmFtIGZ1bGZpbGxlckFkZHJlc3MgVGhlIHdhbGxldCBhZGRyZXNzIHdoaWNoIHdpbGwgYmUgdXNlZCB0byBmdWxmaWxsIHRoZSBvcmRlclxuICAgKiBAcGFyYW0gb3JkZXJIYXNoIFRoZSBoYXNoIG9mIHRoZSBvcmRlciB0byBmdWxmaWxsXG4gICAqIEBwYXJhbSBwcm90b2NvbEFkZHJlc3MgVGhlIGFkZHJlc3Mgb2YgdGhlIHNlYXBvcnQgY29udHJhY3RcbiAgICogQHNpZGUgVGhlIHNpZGUgb2YgdGhlIG9yZGVyIChidXkgb3Igc2VsbClcbiAgICogQHJldHVybnMgVGhlIHtAbGluayBGdWxmaWxsbWVudERhdGFSZXNwb25zZX1cbiAgICovXG4gIHB1YmxpYyBhc3luYyBnZW5lcmF0ZUZ1bGZpbGxtZW50RGF0YShcbiAgICBmdWxmaWxsZXJBZGRyZXNzOiBzdHJpbmcsXG4gICAgb3JkZXJIYXNoOiBzdHJpbmcsXG4gICAgcHJvdG9jb2xBZGRyZXNzOiBzdHJpbmcsXG4gICAgc2lkZTogT3JkZXJTaWRlLFxuICApOiBQcm9taXNlPEZ1bGZpbGxtZW50RGF0YVJlc3BvbnNlPiB7XG4gICAgbGV0IHBheWxvYWQ6IG9iamVjdCB8IG51bGwgPSBudWxsO1xuICAgIGlmIChzaWRlID09PSBPcmRlclNpZGUuTElTVElORykge1xuICAgICAgcGF5bG9hZCA9IGdldEZ1bGZpbGxMaXN0aW5nUGF5bG9hZChcbiAgICAgICAgZnVsZmlsbGVyQWRkcmVzcyxcbiAgICAgICAgb3JkZXJIYXNoLFxuICAgICAgICBwcm90b2NvbEFkZHJlc3MsXG4gICAgICAgIHRoaXMuY2hhaW4sXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXlsb2FkID0gZ2V0RnVsZmlsbE9mZmVyUGF5bG9hZChcbiAgICAgICAgZnVsZmlsbGVyQWRkcmVzcyxcbiAgICAgICAgb3JkZXJIYXNoLFxuICAgICAgICBwcm90b2NvbEFkZHJlc3MsXG4gICAgICAgIHRoaXMuY2hhaW4sXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucG9zdDxGdWxmaWxsbWVudERhdGFSZXNwb25zZT4oXG4gICAgICBnZXRGdWxmaWxsbWVudERhdGFQYXRoKHNpZGUpLFxuICAgICAgcGF5bG9hZCxcbiAgICApO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQb3N0IGFuIG9yZGVyIHRvIE9wZW5TZWEuXG4gICAqIEBwYXJhbSBvcmRlciBUaGUgb3JkZXIgdG8gcG9zdFxuICAgKiBAcGFyYW0gYXBpT3B0aW9uc1xuICAgKiBAcGFyYW0gYXBpT3B0aW9ucy5wcm90b2NvbCBUaGUgcHJvdG9jb2wsIHR5cGljYWxseSBzZWFwb3J0LCB0byBwb3N0IHRoZSBvcmRlciB0by5cbiAgICogQHBhcmFtIGFwaU9wdGlvbnMuc2lkZSBUaGUgc2lkZSBvZiB0aGUgb3JkZXIgKGJ1eSBvciBzZWxsKS5cbiAgICogQHBhcmFtIGFwaU9wdGlvbnMucHJvdG9jb2xBZGRyZXNzIFRoZSBhZGRyZXNzIG9mIHRoZSBzZWFwb3J0IGNvbnRyYWN0LlxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIE9yZGVyVjJ9IHBvc3RlZCB0byB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIHBvc3RPcmRlcihcbiAgICBvcmRlcjogUHJvdG9jb2xEYXRhLFxuICAgIGFwaU9wdGlvbnM6IE9yZGVyQVBJT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxPcmRlclYyPiB7XG4gICAgY29uc3QgeyBwcm90b2NvbCA9IFwic2VhcG9ydFwiLCBzaWRlLCBwcm90b2NvbEFkZHJlc3MgfSA9IGFwaU9wdGlvbnM7XG5cbiAgICAvLyBWYWxpZGF0ZSByZXF1aXJlZCBmaWVsZHNcbiAgICBpZiAoIXNpZGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImFwaU9wdGlvbnMuc2lkZSBpcyByZXF1aXJlZFwiKTtcbiAgICB9XG4gICAgaWYgKCFwcm90b2NvbEFkZHJlc3MpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImFwaU9wdGlvbnMucHJvdG9jb2xBZGRyZXNzIGlzIHJlcXVpcmVkXCIpO1xuICAgIH1cbiAgICBpZiAoIW9yZGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJvcmRlciBkYXRhIGlzIHJlcXVpcmVkXCIpO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXRlIHByb3RvY29sIHZhbHVlXG4gICAgaWYgKHByb3RvY29sICE9PSBcInNlYXBvcnRcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ3VycmVudGx5IG9ubHkgJ3NlYXBvcnQnIHByb3RvY29sIGlzIHN1cHBvcnRlZFwiKTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBzaWRlIHZhbHVlXG4gICAgaWYgKHNpZGUgIT09IFwiYXNrXCIgJiYgc2lkZSAhPT0gXCJiaWRcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwic2lkZSBtdXN0IGJlIGVpdGhlciAnYXNrJyBvciAnYmlkJ1wiKTtcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBwcm90b2NvbEFkZHJlc3MgZm9ybWF0XG4gICAgaWYgKCEvXjB4W2EtZkEtRjAtOV17NDB9JC8udGVzdChwcm90b2NvbEFkZHJlc3MpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHByb3RvY29sIGFkZHJlc3MgZm9ybWF0XCIpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5wb3N0PE9yZGVyc1Bvc3RRdWVyeVJlc3BvbnNlPihcbiAgICAgIGdldE9yZGVyc0FQSVBhdGgodGhpcy5jaGFpbiwgcHJvdG9jb2wsIHNpZGUpLFxuICAgICAgeyAuLi5vcmRlciwgcHJvdG9jb2xfYWRkcmVzczogcHJvdG9jb2xBZGRyZXNzIH0sXG4gICAgKTtcbiAgICByZXR1cm4gZGVzZXJpYWxpemVPcmRlcihyZXNwb25zZS5vcmRlcik7XG4gIH1cblxuICAvKipcbiAgICogQnVpbGQgYSBPcGVuU2VhIGNvbGxlY3Rpb24gb2ZmZXIuXG4gICAqIEBwYXJhbSBvZmZlcmVyQWRkcmVzcyBUaGUgd2FsbGV0IGFkZHJlc3Mgd2hpY2ggaXMgY3JlYXRpbmcgdGhlIG9mZmVyLlxuICAgKiBAcGFyYW0gcXVhbnRpdHkgVGhlIG51bWJlciBvZiBORlRzIHJlcXVlc3RlZCBpbiB0aGUgb2ZmZXIuXG4gICAqIEBwYXJhbSBjb2xsZWN0aW9uU2x1ZyBUaGUgc2x1ZyAoaWRlbnRpZmllcikgb2YgdGhlIGNvbGxlY3Rpb24gdG8gYnVpbGQgdGhlIG9mZmVyIGZvci5cbiAgICogQHBhcmFtIG9mZmVyUHJvdGVjdGlvbkVuYWJsZWQgQnVpbGQgdGhlIG9mZmVyIG9uIE9wZW5TZWEncyBzaWduZWQgem9uZSB0byBwcm92aWRlIG9mZmVyIHByb3RlY3Rpb25zIGZyb20gcmVjZWl2aW5nIGFuIGl0ZW0gd2hpY2ggaXMgZGlzYWJsZWQgZnJvbSB0cmFkaW5nLlxuICAgKiBAcGFyYW0gdHJhaXRUeXBlIElmIGRlZmluZWQsIHRoZSB0cmFpdCBuYW1lIHRvIGNyZWF0ZSB0aGUgY29sbGVjdGlvbiBvZmZlciBmb3IuXG4gICAqIEBwYXJhbSB0cmFpdFZhbHVlIElmIGRlZmluZWQsIHRoZSB0cmFpdCB2YWx1ZSB0byBjcmVhdGUgdGhlIGNvbGxlY3Rpb24gb2ZmZXIgZm9yLlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIEJ1aWxkT2ZmZXJSZXNwb25zZX0gcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBidWlsZE9mZmVyKFxuICAgIG9mZmVyZXJBZGRyZXNzOiBzdHJpbmcsXG4gICAgcXVhbnRpdHk6IG51bWJlcixcbiAgICBjb2xsZWN0aW9uU2x1Zzogc3RyaW5nLFxuICAgIG9mZmVyUHJvdGVjdGlvbkVuYWJsZWQgPSB0cnVlLFxuICAgIHRyYWl0VHlwZT86IHN0cmluZyxcbiAgICB0cmFpdFZhbHVlPzogc3RyaW5nLFxuICApOiBQcm9taXNlPEJ1aWxkT2ZmZXJSZXNwb25zZT4ge1xuICAgIGlmICh0cmFpdFR5cGUgfHwgdHJhaXRWYWx1ZSkge1xuICAgICAgaWYgKCF0cmFpdFR5cGUgfHwgIXRyYWl0VmFsdWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIFwiQm90aCB0cmFpdFR5cGUgYW5kIHRyYWl0VmFsdWUgbXVzdCBiZSBkZWZpbmVkIGlmIG9uZSBpcyBkZWZpbmVkLlwiLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBwYXlsb2FkID0gZ2V0QnVpbGRDb2xsZWN0aW9uT2ZmZXJQYXlsb2FkKFxuICAgICAgb2ZmZXJlckFkZHJlc3MsXG4gICAgICBxdWFudGl0eSxcbiAgICAgIGNvbGxlY3Rpb25TbHVnLFxuICAgICAgb2ZmZXJQcm90ZWN0aW9uRW5hYmxlZCxcbiAgICAgIHRyYWl0VHlwZSxcbiAgICAgIHRyYWl0VmFsdWUsXG4gICAgKTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMucG9zdDxCdWlsZE9mZmVyUmVzcG9uc2U+KFxuICAgICAgZ2V0QnVpbGRPZmZlclBhdGgoKSxcbiAgICAgIHBheWxvYWQsXG4gICAgKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGEgbGlzdCBjb2xsZWN0aW9uIG9mZmVycyBmb3IgYSBnaXZlbiBzbHVnLlxuICAgKiBAcGFyYW0gc2x1ZyBUaGUgc2x1ZyAoaWRlbnRpZmllcikgb2YgdGhlIGNvbGxlY3Rpb24gdG8gbGlzdCBvZmZlcnMgZm9yXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgTGlzdENvbGxlY3Rpb25PZmZlcnNSZXNwb25zZX0gcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBnZXRDb2xsZWN0aW9uT2ZmZXJzKFxuICAgIHNsdWc6IHN0cmluZyxcbiAgKTogUHJvbWlzZTxMaXN0Q29sbGVjdGlvbk9mZmVyc1Jlc3BvbnNlIHwgbnVsbD4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmdldDxMaXN0Q29sbGVjdGlvbk9mZmVyc1Jlc3BvbnNlPihcbiAgICAgIGdldENvbGxlY3Rpb25PZmZlcnNQYXRoKHNsdWcpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogUG9zdCBhIGNvbGxlY3Rpb24gb2ZmZXIgdG8gT3BlblNlYS5cbiAgICogQHBhcmFtIG9yZGVyIFRoZSBjb2xsZWN0aW9uIG9mZmVyIHRvIHBvc3QuXG4gICAqIEBwYXJhbSBzbHVnIFRoZSBzbHVnIChpZGVudGlmaWVyKSBvZiB0aGUgY29sbGVjdGlvbiB0byBwb3N0IHRoZSBvZmZlciBmb3IuXG4gICAqIEBwYXJhbSB0cmFpdFR5cGUgSWYgZGVmaW5lZCwgdGhlIHRyYWl0IG5hbWUgdG8gY3JlYXRlIHRoZSBjb2xsZWN0aW9uIG9mZmVyIGZvci5cbiAgICogQHBhcmFtIHRyYWl0VmFsdWUgSWYgZGVmaW5lZCwgdGhlIHRyYWl0IHZhbHVlIHRvIGNyZWF0ZSB0aGUgY29sbGVjdGlvbiBvZmZlciBmb3IuXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgT2ZmZXJ9IHJldHVybmVkIHRvIHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgcG9zdENvbGxlY3Rpb25PZmZlcihcbiAgICBvcmRlcjogUHJvdG9jb2xEYXRhLFxuICAgIHNsdWc6IHN0cmluZyxcbiAgICB0cmFpdFR5cGU/OiBzdHJpbmcsXG4gICAgdHJhaXRWYWx1ZT86IHN0cmluZyxcbiAgKTogUHJvbWlzZTxDb2xsZWN0aW9uT2ZmZXIgfCBudWxsPiB7XG4gICAgY29uc3QgcGF5bG9hZCA9IGdldFBvc3RDb2xsZWN0aW9uT2ZmZXJQYXlsb2FkKFxuICAgICAgc2x1ZyxcbiAgICAgIG9yZGVyLFxuICAgICAgdHJhaXRUeXBlLFxuICAgICAgdHJhaXRWYWx1ZSxcbiAgICApO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnBvc3Q8Q29sbGVjdGlvbk9mZmVyPihcbiAgICAgIGdldFBvc3RDb2xsZWN0aW9uT2ZmZXJQYXRoKCksXG4gICAgICBwYXlsb2FkLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggbXVsdGlwbGUgTkZUcyBmb3IgYSBjb2xsZWN0aW9uLlxuICAgKiBAcGFyYW0gc2x1ZyBUaGUgc2x1ZyAoaWRlbnRpZmllcikgb2YgdGhlIGNvbGxlY3Rpb25cbiAgICogQHBhcmFtIGxpbWl0IFRoZSBudW1iZXIgb2YgTkZUcyB0byByZXRyaWV2ZS4gTXVzdCBiZSBncmVhdGVyIHRoYW4gMCBhbmQgbGVzcyB0aGFuIDUxLlxuICAgKiBAcGFyYW0gbmV4dCBDdXJzb3IgdG8gcmV0cmlldmUgdGhlIG5leHQgcGFnZSBvZiBORlRzXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgTGlzdE5GVHNSZXNwb25zZX0gcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBnZXRORlRzQnlDb2xsZWN0aW9uKFxuICAgIHNsdWc6IHN0cmluZyxcbiAgICBsaW1pdDogbnVtYmVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLFxuICAgIG5leHQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCxcbiAgKTogUHJvbWlzZTxMaXN0TkZUc1Jlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldDxMaXN0TkZUc1Jlc3BvbnNlPihcbiAgICAgIGdldExpc3RORlRzQnlDb2xsZWN0aW9uUGF0aChzbHVnKSxcbiAgICAgIHtcbiAgICAgICAgbGltaXQsXG4gICAgICAgIG5leHQsXG4gICAgICB9LFxuICAgICk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIG11bHRpcGxlIE5GVHMgZm9yIGEgY29udHJhY3QuXG4gICAqIEBwYXJhbSBhZGRyZXNzIFRoZSBORlQncyBjb250cmFjdCBhZGRyZXNzLlxuICAgKiBAcGFyYW0gbGltaXQgVGhlIG51bWJlciBvZiBORlRzIHRvIHJldHJpZXZlLiBNdXN0IGJlIGdyZWF0ZXIgdGhhbiAwIGFuZCBsZXNzIHRoYW4gNTEuXG4gICAqIEBwYXJhbSBuZXh0IEN1cnNvciB0byByZXRyaWV2ZSB0aGUgbmV4dCBwYWdlIG9mIE5GVHMuXG4gICAqIEBwYXJhbSBjaGFpbiBUaGUgTkZUJ3MgY2hhaW4uXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgTGlzdE5GVHNSZXNwb25zZX0gcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBnZXRORlRzQnlDb250cmFjdChcbiAgICBhZGRyZXNzOiBzdHJpbmcsXG4gICAgbGltaXQ6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCxcbiAgICBuZXh0OiBzdHJpbmcgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsXG4gICAgY2hhaW46IENoYWluID0gdGhpcy5jaGFpbixcbiAgKTogUHJvbWlzZTxMaXN0TkZUc1Jlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldDxMaXN0TkZUc1Jlc3BvbnNlPihcbiAgICAgIGdldExpc3RORlRzQnlDb250cmFjdFBhdGgoY2hhaW4sIGFkZHJlc3MpLFxuICAgICAge1xuICAgICAgICBsaW1pdCxcbiAgICAgICAgbmV4dCxcbiAgICAgIH0sXG4gICAgKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggTkZUcyBvd25lZCBieSBhbiBhY2NvdW50LlxuICAgKiBAcGFyYW0gYWRkcmVzcyBUaGUgYWRkcmVzcyBvZiB0aGUgYWNjb3VudFxuICAgKiBAcGFyYW0gbGltaXQgVGhlIG51bWJlciBvZiBORlRzIHRvIHJldHJpZXZlLiBNdXN0IGJlIGdyZWF0ZXIgdGhhbiAwIGFuZCBsZXNzIHRoYW4gNTEuXG4gICAqIEBwYXJhbSBuZXh0IEN1cnNvciB0byByZXRyaWV2ZSB0aGUgbmV4dCBwYWdlIG9mIE5GVHNcbiAgICogQHBhcmFtIGNoYWluIFRoZSBjaGFpbiB0byBxdWVyeS4gRGVmYXVsdHMgdG8gdGhlIGNoYWluIHNldCBpbiB0aGUgY29uc3RydWN0b3IuXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgTGlzdE5GVHNSZXNwb25zZX0gcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBnZXRORlRzQnlBY2NvdW50KFxuICAgIGFkZHJlc3M6IHN0cmluZyxcbiAgICBsaW1pdDogbnVtYmVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLFxuICAgIG5leHQ6IHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCxcbiAgICBjaGFpbiA9IHRoaXMuY2hhaW4sXG4gICk6IFByb21pc2U8TGlzdE5GVHNSZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQ8TGlzdE5GVHNSZXNwb25zZT4oXG4gICAgICBnZXRMaXN0TkZUc0J5QWNjb3VudFBhdGgoY2hhaW4sIGFkZHJlc3MpLFxuICAgICAge1xuICAgICAgICBsaW1pdCxcbiAgICAgICAgbmV4dCxcbiAgICAgIH0sXG4gICAgKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBtZXRhZGF0YSwgdHJhaXRzLCBvd25lcnNoaXAgaW5mb3JtYXRpb24sIGFuZCByYXJpdHkgZm9yIGEgc2luZ2xlIE5GVC5cbiAgICogQHBhcmFtIGFkZHJlc3MgVGhlIE5GVCdzIGNvbnRyYWN0IGFkZHJlc3MuXG4gICAqIEBwYXJhbSBpZGVudGlmaWVyIHRoZSBpZGVudGlmaWVyIG9mIHRoZSBORlQgKGkuZS4gVG9rZW4gSUQpXG4gICAqIEBwYXJhbSBjaGFpbiBUaGUgTkZUJ3MgY2hhaW4uXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgR2V0TkZUUmVzcG9uc2V9IHJldHVybmVkIGJ5IHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgZ2V0TkZUKFxuICAgIGFkZHJlc3M6IHN0cmluZyxcbiAgICBpZGVudGlmaWVyOiBzdHJpbmcsXG4gICAgY2hhaW4gPSB0aGlzLmNoYWluLFxuICApOiBQcm9taXNlPEdldE5GVFJlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldDxHZXRORlRSZXNwb25zZT4oXG4gICAgICBnZXRORlRQYXRoKGNoYWluLCBhZGRyZXNzLCBpZGVudGlmaWVyKSxcbiAgICApO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGZXRjaCBhbiBPcGVuU2VhIGNvbGxlY3Rpb24uXG4gICAqIEBwYXJhbSBzbHVnIFRoZSBzbHVnIChpZGVudGlmaWVyKSBvZiB0aGUgY29sbGVjdGlvbi5cbiAgICogQHJldHVybnMgVGhlIHtAbGluayBPcGVuU2VhQ29sbGVjdGlvbn0gcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBnZXRDb2xsZWN0aW9uKHNsdWc6IHN0cmluZyk6IFByb21pc2U8T3BlblNlYUNvbGxlY3Rpb24+IHtcbiAgICBjb25zdCBwYXRoID0gZ2V0Q29sbGVjdGlvblBhdGgoc2x1Zyk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdldDxHZXRDb2xsZWN0aW9uUmVzcG9uc2U+KHBhdGgpO1xuICAgIHJldHVybiBjb2xsZWN0aW9uRnJvbUpTT04ocmVzcG9uc2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIGEgbGlzdCBvZiBPcGVuU2VhIGNvbGxlY3Rpb25zLlxuICAgKiBAcGFyYW0gb3JkZXJCeSBUaGUgb3JkZXIgdG8gcmV0dXJuIHRoZSBjb2xsZWN0aW9ucyBpbi4gRGVmYXVsdDogQ1JFQVRFRF9EQVRFXG4gICAqIEBwYXJhbSBjaGFpbiBUaGUgY2hhaW4gdG8gZmlsdGVyIHRoZSBjb2xsZWN0aW9ucyBvbi4gRGVmYXVsdDogYWxsIGNoYWluc1xuICAgKiBAcGFyYW0gY3JlYXRvclVzZXJuYW1lIFRoZSBjcmVhdG9yJ3MgT3BlblNlYSB1c2VybmFtZSB0byBmaWx0ZXIgdGhlIGNvbGxlY3Rpb25zIG9uLlxuICAgKiBAcGFyYW0gaW5jbHVkZUhpZGRlbiBJZiBoaWRkZW4gY29sbGVjdGlvbnMgc2hvdWxkIGJlIHJldHVybmVkLiBEZWZhdWx0OiBmYWxzZVxuICAgKiBAcGFyYW0gbGltaXQgVGhlIGxpbWl0IG9mIGNvbGxlY3Rpb25zIHRvIHJldHVybi5cbiAgICogQHBhcmFtIG5leHQgVGhlIGN1cnNvciBmb3IgdGhlIG5leHQgcGFnZSBvZiByZXN1bHRzLiBUaGlzIGlzIHJldHVybmVkIGZyb20gYSBwcmV2aW91cyByZXF1ZXN0LlxuICAgKiBAcmV0dXJucyBMaXN0IG9mIHtAbGluayBPcGVuU2VhQ29sbGVjdGlvbn0gcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBnZXRDb2xsZWN0aW9ucyhcbiAgICBvcmRlckJ5OiBDb2xsZWN0aW9uT3JkZXJCeU9wdGlvbiA9IENvbGxlY3Rpb25PcmRlckJ5T3B0aW9uLkNSRUFURURfREFURSxcbiAgICBjaGFpbj86IENoYWluLFxuICAgIGNyZWF0b3JVc2VybmFtZT86IHN0cmluZyxcbiAgICBpbmNsdWRlSGlkZGVuOiBib29sZWFuID0gZmFsc2UsXG4gICAgbGltaXQ/OiBudW1iZXIsXG4gICAgbmV4dD86IHN0cmluZyxcbiAgKTogUHJvbWlzZTxHZXRDb2xsZWN0aW9uc1Jlc3BvbnNlPiB7XG4gICAgY29uc3QgcGF0aCA9IGdldENvbGxlY3Rpb25zUGF0aCgpO1xuICAgIGNvbnN0IGFyZ3M6IEdldENvbGxlY3Rpb25zQXJncyA9IHtcbiAgICAgIG9yZGVyX2J5OiBvcmRlckJ5LFxuICAgICAgY2hhaW4sXG4gICAgICBjcmVhdG9yX3VzZXJuYW1lOiBjcmVhdG9yVXNlcm5hbWUsXG4gICAgICBpbmNsdWRlX2hpZGRlbjogaW5jbHVkZUhpZGRlbixcbiAgICAgIGxpbWl0LFxuICAgICAgbmV4dCxcbiAgICB9O1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQ8R2V0Q29sbGVjdGlvbnNSZXNwb25zZT4ocGF0aCwgYXJncyk7XG4gICAgcmVzcG9uc2UuY29sbGVjdGlvbnMgPSByZXNwb25zZS5jb2xsZWN0aW9ucy5tYXAoKGNvbGxlY3Rpb24pID0+XG4gICAgICBjb2xsZWN0aW9uRnJvbUpTT04oY29sbGVjdGlvbiksXG4gICAgKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggc3RhdHMgZm9yIGFuIE9wZW5TZWEgY29sbGVjdGlvbi5cbiAgICogQHBhcmFtIHNsdWcgVGhlIHNsdWcgKGlkZW50aWZpZXIpIG9mIHRoZSBjb2xsZWN0aW9uLlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIE9wZW5TZWFDb2xsZWN0aW9ufSByZXR1cm5lZCBieSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldENvbGxlY3Rpb25TdGF0cyhcbiAgICBzbHVnOiBzdHJpbmcsXG4gICk6IFByb21pc2U8T3BlblNlYUNvbGxlY3Rpb25TdGF0cz4ge1xuICAgIGNvbnN0IHBhdGggPSBnZXRDb2xsZWN0aW9uU3RhdHNQYXRoKHNsdWcpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5nZXQ8T3BlblNlYUNvbGxlY3Rpb25TdGF0cz4ocGF0aCk7XG4gICAgcmV0dXJuIHJlc3BvbnNlIGFzIE9wZW5TZWFDb2xsZWN0aW9uU3RhdHM7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggYSBwYXltZW50IHRva2VuLlxuICAgKiBAcGFyYW0gcXVlcnkgUXVlcnkgdG8gdXNlIGZvciBnZXR0aW5nIHRva2Vucy4gU2VlIHtAbGluayBPcGVuU2VhUGF5bWVudFRva2VuUXVlcnl9LlxuICAgKiBAcGFyYW0gbmV4dCBUaGUgY3Vyc29yIGZvciB0aGUgbmV4dCBwYWdlIG9mIHJlc3VsdHMuIFRoaXMgaXMgcmV0dXJuZWQgZnJvbSBhIHByZXZpb3VzIHJlcXVlc3QuXG4gICAqIEByZXR1cm5zIFRoZSB7QGxpbmsgT3BlblNlYVBheW1lbnRUb2tlbn0gcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBnZXRQYXltZW50VG9rZW4oXG4gICAgYWRkcmVzczogc3RyaW5nLFxuICAgIGNoYWluID0gdGhpcy5jaGFpbixcbiAgKTogUHJvbWlzZTxPcGVuU2VhUGF5bWVudFRva2VuPiB7XG4gICAgY29uc3QganNvbiA9IGF3YWl0IHRoaXMuZ2V0PE9wZW5TZWFQYXltZW50VG9rZW4+KFxuICAgICAgZ2V0UGF5bWVudFRva2VuUGF0aChjaGFpbiwgYWRkcmVzcyksXG4gICAgKTtcbiAgICByZXR1cm4gcGF5bWVudFRva2VuRnJvbUpTT04oanNvbik7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggYWNjb3VudCBmb3IgYW4gYWRkcmVzcy5cbiAgICogQHBhcmFtIHF1ZXJ5IFF1ZXJ5IHRvIHVzZSBmb3IgZ2V0dGluZyB0b2tlbnMuIFNlZSB7QGxpbmsgT3BlblNlYVBheW1lbnRUb2tlblF1ZXJ5fS5cbiAgICogQHBhcmFtIG5leHQgVGhlIGN1cnNvciBmb3IgdGhlIG5leHQgcGFnZSBvZiByZXN1bHRzLiBUaGlzIGlzIHJldHVybmVkIGZyb20gYSBwcmV2aW91cyByZXF1ZXN0LlxuICAgKiBAcmV0dXJucyBUaGUge0BsaW5rIEdldEFjY291bnRSZXNwb25zZX0gcmV0dXJuZWQgYnkgdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBnZXRBY2NvdW50KGFkZHJlc3M6IHN0cmluZyk6IFByb21pc2U8T3BlblNlYUFjY291bnQ+IHtcbiAgICBjb25zdCBqc29uID0gYXdhaXQgdGhpcy5nZXQ8T3BlblNlYUFjY291bnQ+KGdldEFjY291bnRQYXRoKGFkZHJlc3MpKTtcbiAgICByZXR1cm4gYWNjb3VudEZyb21KU09OKGpzb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcmNlIHJlZnJlc2ggdGhlIG1ldGFkYXRhIGZvciBhbiBORlQuXG4gICAqIEBwYXJhbSBhZGRyZXNzIFRoZSBhZGRyZXNzIG9mIHRoZSBORlQncyBjb250cmFjdC5cbiAgICogQHBhcmFtIGlkZW50aWZpZXIgVGhlIGlkZW50aWZpZXIgb2YgdGhlIE5GVC5cbiAgICogQHBhcmFtIGNoYWluIFRoZSBjaGFpbiB3aGVyZSB0aGUgTkZUIGlzIGxvY2F0ZWQuXG4gICAqIEByZXR1cm5zIFRoZSByZXNwb25zZSBmcm9tIHRoZSBBUEkuXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgcmVmcmVzaE5GVE1ldGFkYXRhKFxuICAgIGFkZHJlc3M6IHN0cmluZyxcbiAgICBpZGVudGlmaWVyOiBzdHJpbmcsXG4gICAgY2hhaW46IENoYWluID0gdGhpcy5jaGFpbixcbiAgKTogUHJvbWlzZTxSZXNwb25zZT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5wb3N0PFJlc3BvbnNlPihcbiAgICAgIGdldFJlZnJlc2hNZXRhZGF0YVBhdGgoY2hhaW4sIGFkZHJlc3MsIGlkZW50aWZpZXIpLFxuICAgICAge30sXG4gICAgKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPZmZjaGFpbiBjYW5jZWwgYW4gb3JkZXIsIG9mZmVyIG9yIGxpc3RpbmcsIGJ5IGl0cyBvcmRlciBoYXNoIHdoZW4gcHJvdGVjdGVkIGJ5IHRoZSBTaWduZWRab25lLlxuICAgKiBQcm90b2NvbCBhbmQgQ2hhaW4gYXJlIHJlcXVpcmVkIHRvIHByZXZlbnQgaGFzaCBjb2xsaXNpb25zLlxuICAgKiBQbGVhc2Ugbm90ZSBjYW5jZWxsYXRpb24gaXMgb25seSBhc3N1cmVkIGlmIGEgZnVsZmlsbG1lbnQgc2lnbmF0dXJlIHdhcyBub3QgdmVuZGVkIHByaW9yIHRvIGNhbmNlbGxhdGlvbi5cbiAgICogQHBhcmFtIHByb3RvY29sQWRkcmVzcyBUaGUgU2VhcG9ydCBhZGRyZXNzIGZvciB0aGUgb3JkZXIuXG4gICAqIEBwYXJhbSBvcmRlckhhc2ggVGhlIG9yZGVyIGhhc2gsIG9yIGV4dGVybmFsIGlkZW50aWZpZXIsIG9mIHRoZSBvcmRlci5cbiAgICogQHBhcmFtIGNoYWluIFRoZSBjaGFpbiB3aGVyZSB0aGUgb3JkZXIgaXMgbG9jYXRlZC5cbiAgICogQHBhcmFtIG9mZmVyZXJTaWduYXR1cmUgQW4gRUlQLTcxMiBzaWduYXR1cmUgZnJvbSB0aGUgb2ZmZXJlciBvZiB0aGUgb3JkZXIuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgIElmIHRoaXMgaXMgbm90IHByb3ZpZGVkLCB0aGUgdXNlciBhc3NvY2lhdGVkIHdpdGggdGhlIEFQSSBLZXkgd2lsbCBiZSBjaGVja2VkIGluc3RlYWQuXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgIFRoZSBzaWduYXR1cmUgbXVzdCBiZSBhIEVJUC03MTIgc2lnbmF0dXJlIGNvbnNpc3Rpbmcgb2YgdGhlIG9yZGVyJ3MgU2VhcG9ydCBjb250cmFjdCdzXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUsIHZlcnNpb24sIGFkZHJlc3MsIGFuZCBjaGFpbi4gVGhlIHN0cnVjdCB0byBzaWduIGlzIGBPcmRlckhhc2hgIGNvbnRhaW5pbmcgYVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICBzaW5nbGUgYnl0ZXMzMiBmaWVsZC5cbiAgICogQHJldHVybnMgVGhlIHJlc3BvbnNlIGZyb20gdGhlIEFQSS5cbiAgICovXG4gIHB1YmxpYyBhc3luYyBvZmZjaGFpbkNhbmNlbE9yZGVyKFxuICAgIHByb3RvY29sQWRkcmVzczogc3RyaW5nLFxuICAgIG9yZGVySGFzaDogc3RyaW5nLFxuICAgIGNoYWluOiBDaGFpbiA9IHRoaXMuY2hhaW4sXG4gICAgb2ZmZXJlclNpZ25hdHVyZT86IHN0cmluZyxcbiAgKTogUHJvbWlzZTxDYW5jZWxPcmRlclJlc3BvbnNlPiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnBvc3Q8Q2FuY2VsT3JkZXJSZXNwb25zZT4oXG4gICAgICBnZXRDYW5jZWxPcmRlclBhdGgoY2hhaW4sIHByb3RvY29sQWRkcmVzcywgb3JkZXJIYXNoKSxcbiAgICAgIHsgb2ZmZXJlclNpZ25hdHVyZSB9LFxuICAgICk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyaWMgZmV0Y2ggbWV0aG9kIGZvciBhbnkgQVBJIGVuZHBvaW50XG4gICAqIEBwYXJhbSBhcGlQYXRoIFBhdGggdG8gVVJMIGVuZHBvaW50IHVuZGVyIEFQSVxuICAgKiBAcGFyYW0gcXVlcnkgVVJMIHF1ZXJ5IHBhcmFtcy4gV2lsbCBiZSB1c2VkIHRvIGNyZWF0ZSBhIFVSTFNlYXJjaFBhcmFtcyBvYmplY3QuXG4gICAqIEByZXR1cm5zIEB0eXBlUGFyYW0gVCBUaGUgcmVzcG9uc2UgZnJvbSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIGdldDxUPihhcGlQYXRoOiBzdHJpbmcsIHF1ZXJ5OiBvYmplY3QgPSB7fSk6IFByb21pc2U8VD4ge1xuICAgIGNvbnN0IHFzID0gdGhpcy5vYmplY3RUb1NlYXJjaFBhcmFtcyhxdWVyeSk7XG4gICAgY29uc3QgdXJsID0gYCR7dGhpcy5hcGlCYXNlVXJsfSR7YXBpUGF0aH0/JHtxc31gO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLl9mZXRjaCh1cmwpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyaWMgcG9zdCBtZXRob2QgZm9yIGFueSBBUEkgZW5kcG9pbnQuXG4gICAqIEBwYXJhbSBhcGlQYXRoIFBhdGggdG8gVVJMIGVuZHBvaW50IHVuZGVyIEFQSVxuICAgKiBAcGFyYW0gYm9keSBEYXRhIHRvIHNlbmQuXG4gICAqIEBwYXJhbSBvcHRzIGV0aGVycyBDb25uZWN0aW9uSW5mbywgc2ltaWxhciB0byBGZXRjaCBBUEkuXG4gICAqIEByZXR1cm5zIEB0eXBlUGFyYW0gVCBUaGUgcmVzcG9uc2UgZnJvbSB0aGUgQVBJLlxuICAgKi9cbiAgcHVibGljIGFzeW5jIHBvc3Q8VD4oXG4gICAgYXBpUGF0aDogc3RyaW5nLFxuICAgIGJvZHk/OiBvYmplY3QsXG4gICAgb3B0cz86IG9iamVjdCxcbiAgKTogUHJvbWlzZTxUPiB7XG4gICAgY29uc3QgdXJsID0gYCR7dGhpcy5hcGlCYXNlVXJsfSR7YXBpUGF0aH1gO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLl9mZXRjaCh1cmwsIG9wdHMsIGJvZHkpO1xuICB9XG5cbiAgcHJpdmF0ZSBvYmplY3RUb1NlYXJjaFBhcmFtcyhwYXJhbXM6IG9iamVjdCA9IHt9KSB7XG4gICAgY29uc3QgdXJsU2VhcmNoUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuXG4gICAgT2JqZWN0LmVudHJpZXMocGFyYW1zKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgIGlmICh2YWx1ZSAmJiBBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZS5mb3JFYWNoKChpdGVtKSA9PiBpdGVtICYmIHVybFNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCBpdGVtKSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlKSB7XG4gICAgICAgIHVybFNlYXJjaFBhcmFtcy5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gdXJsU2VhcmNoUGFyYW1zLnRvU3RyaW5nKCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGZyb20gYW4gQVBJIEVuZHBvaW50LCBzZW5kaW5nIGF1dGggdG9rZW4gaW4gaGVhZGVyc1xuICAgKiBAcGFyYW0gb3B0cyBldGhlcnMgQ29ubmVjdGlvbkluZm8sIHNpbWlsYXIgdG8gRmV0Y2ggQVBJXG4gICAqIEBwYXJhbSBib2R5IE9wdGlvbmFsIGJvZHkgdG8gc2VuZC4gSWYgc2V0LCB3aWxsIFBPU1QsIG90aGVyd2lzZSBHRVRcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgX2ZldGNoKHVybDogc3RyaW5nLCBoZWFkZXJzPzogb2JqZWN0LCBib2R5Pzogb2JqZWN0KSB7XG4gICAgLy8gQ3JlYXRlIHRoZSBmZXRjaCByZXF1ZXN0XG4gICAgY29uc3QgcmVxID0gbmV3IGV0aGVycy5GZXRjaFJlcXVlc3QodXJsKTtcblxuICAgIC8vIFNldCB0aGUgaGVhZGVyc1xuICAgIGhlYWRlcnMgPSB7XG4gICAgICBcIngtYXBwLWlkXCI6IFwib3BlbnNlYS1qc1wiLFxuICAgICAgLi4uKHRoaXMuYXBpS2V5ID8geyBcIlgtQVBJLUtFWVwiOiB0aGlzLmFwaUtleSB9IDoge30pLFxuICAgICAgLi4uaGVhZGVycyxcbiAgICB9O1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGhlYWRlcnMpKSB7XG4gICAgICByZXEuc2V0SGVhZGVyKGtleSwgdmFsdWUpO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgYm9keSBpZiBwcm92aWRlZFxuICAgIGlmIChib2R5KSB7XG4gICAgICByZXEuYm9keSA9IGJvZHk7XG4gICAgfVxuXG4gICAgLy8gU2V0IHRoZSB0aHJvdHRsZSBwYXJhbXNcbiAgICByZXEuc2V0VGhyb3R0bGVQYXJhbXMoeyBzbG90SW50ZXJ2YWw6IDEwMDAgfSk7XG5cbiAgICB0aGlzLmxvZ2dlcihcbiAgICAgIGBTZW5kaW5nIHJlcXVlc3Q6ICR7dXJsfSAke0pTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgcmVxdWVzdDogcmVxLFxuICAgICAgICBoZWFkZXJzOiByZXEuaGVhZGVycyxcbiAgICAgIH0pfWAsXG4gICAgKTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxLnNlbmQoKTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKCkpIHtcbiAgICAgIC8vIElmIGFuIGVycm9ycyBhcnJheSBpcyByZXR1cm5lZCwgdGhyb3cgd2l0aCB0aGUgZXJyb3IgbWVzc2FnZXMuXG4gICAgICBjb25zdCBlcnJvcnMgPSByZXNwb25zZS5ib2R5SnNvbj8uZXJyb3JzO1xuICAgICAgaWYgKGVycm9ycz8ubGVuZ3RoID4gMCkge1xuICAgICAgICBsZXQgZXJyb3JNZXNzYWdlID0gZXJyb3JzLmpvaW4oXCIsIFwiKTtcbiAgICAgICAgaWYgKGVycm9yTWVzc2FnZSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIikge1xuICAgICAgICAgIGVycm9yTWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KGVycm9ycyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTZXJ2ZXIgRXJyb3I6ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBsZXQgZXRoZXJzIHRocm93IGEgU0VSVkVSX0VSUk9SIHNpbmNlIGl0IHdpbGwgaW5jbHVkZVxuICAgICAgICAvLyBtb3JlIGNvbnRleHQgYWJvdXQgdGhlIHJlcXVlc3QgYW5kIHJlc3BvbnNlLlxuICAgICAgICByZXNwb25zZS5hc3NlcnRPaygpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2UuYm9keUpzb247XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6ImcxMERBZ0dFO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQUFBQSxjQUFBLEdBQUFFLENBQUEsTSwyR0FoR0YsTUFBQUMsUUFBQSxFQUFBSCxjQUFBLEdBQUFFLENBQUEsTUFBQUUsT0FBQSxZQUNBLE1BQUFDLFVBQUEsRUFBQUwsY0FBQSxHQUFBRSxDQUFBLE1BQUFFLE9BQUEsZ0JBc0JBLE1BQUFFLE9BQUEsRUFBQU4sY0FBQSxHQUFBRSxDQUFBLE1BQUFFLE9BQUEsYUFpQkEsTUFBQUcsV0FBQSxFQUFBUCxjQUFBLEdBQUFFLENBQUEsTUFBQUUsT0FBQSxrQkFVQSxNQUFBSSxPQUFBLEVBQUFSLGNBQUEsR0FBQUUsQ0FBQSxNQUFBRSxPQUFBLHFCQVNBLE1BQUFLLE9BQUEsRUFBQVQsY0FBQSxHQUFBRSxDQUFBLE1BQUFFLE9BQUEsY0FTQSxN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